/*!
 * jQuery JavaScript Library v1.8.3+1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Wed Mar 26 2014 11:04:46 GMT-0400 (EDT)
 */
function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(t){mejs.YouTubeApi.flashReady(t)}!function(t,e){function n(t){var e=fe[t]={};return Z.each(t.split(ee),function(t,n){e[n]=!0}),e}function i(t,n,i){if(i===e&&1===t.nodeType){var r="data-"+n.replace(ge,"-$1").toLowerCase();if(i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:me.test(i)?Z.parseJSON(i):i}catch(o){}Z.data(t,n,i)}else i=e}return i}function r(t){var e;for(e in t)if(("data"!==e||!Z.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function o(){return!1}function s(){return!0}function a(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function l(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function c(t,e,n){if(e=e||0,Z.isFunction(e))return Z.grep(t,function(t,i){var r=!!e.call(t,i,t);return r===n});if(e.nodeType)return Z.grep(t,function(t){return t===e===n});if("string"==typeof e){var i=Z.grep(t,function(t){return 1===t.nodeType});if(Oe.test(e))return Z.filter(e,i,!n);e=Z.filter(e,i)}return Z.grep(t,function(t){return Z.inArray(t,e)>=0===n})}function u(t){var e=ze.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function h(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function d(t,e){if(1===e.nodeType&&Z.hasData(t)){var n,i,r,o=Z._data(t),s=Z._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)Z.event.add(e,n,a[n][i])}s.data&&(s.data=Z.extend({},s.data))}}function p(t,e){var n;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),n=e.nodeName.toLowerCase(),"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),Z.support.html5Clone&&t.innerHTML&&!Z.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&$e.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.selected=t.defaultSelected:"input"===n||"textarea"===n?e.defaultValue=t.defaultValue:"script"===n&&e.text!==t.text&&(e.text=t.text),e.removeAttribute(Z.expando))}function f(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function m(t){$e.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=yn.length;r--;)if(e=yn[r]+n,e in t)return e;return i}function v(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)}function y(t,e){for(var n,i,r=[],o=0,s=t.length;s>o;o++)n=t[o],n.style&&(r[o]=Z._data(n,"olddisplay"),e?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(r[o]=Z._data(n,"olddisplay",_(n.nodeName)))):(i=nn(n,"display"),r[o]||"none"===i||Z._data(n,"olddisplay",i)));for(o=0;s>o;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[o]||"":"none"));return t}function b(t,e,n){var i=hn.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function x(t,e,n,i){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=Z.css(t,n+vn[r],!0)),i?("content"===n&&(o-=parseFloat(nn(t,"padding"+vn[r]))||0),"margin"!==n&&(o-=parseFloat(nn(t,"border"+vn[r]+"Width"))||0)):(o+=parseFloat(nn(t,"padding"+vn[r]))||0,"padding"!==n&&(o+=parseFloat(nn(t,"border"+vn[r]+"Width"))||0));return o}function w(t,e,n){var i="width"===e?t.offsetWidth:t.offsetHeight,r=!0,o=Z.support.boxSizing&&"border-box"===Z.css(t,"boxSizing");if(0>=i||null==i){if(i=nn(t,e),(0>i||null==i)&&(i=t.style[e]),dn.test(i))return i;r=o&&(Z.support.boxSizingReliable||i===t.style[e]),i=parseFloat(i)||0}return i+x(t,e,n||(o?"border":"content"),r)+"px"}function _(t){if(fn[t])return fn[t];var e=Z("<"+t+">").appendTo(B.body),n=e.css("display");return e.remove(),("none"===n||""===n)&&(rn=B.body.appendChild(rn||Z.extend(B.createElement("iframe"),{frameBorder:0,width:0,height:0})),on&&rn.createElement||(on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close()),e=on.body.appendChild(on.createElement(t)),n=nn(e,"display"),B.body.removeChild(rn)),fn[t]=n,n}function k(t,e,n,i){var r;if(Z.isArray(e))Z.each(e,function(e,r){n||wn.test(t)?i(t,r):k(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==Z.type(e))i(t,e);else for(r in e)k(t+"["+r+"]",e[r],n,i)}function S(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r,o,s=e.toLowerCase().split(ee),a=0,l=s.length;if(Z.isFunction(n))for(;l>a;a++)i=s[a],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=t[i]=t[i]||[],r[o?"unshift":"push"](n)}}function C(t,n,i,r,o,s){o=o||n.dataTypes[0],s=s||{},s[o]=!0;for(var a,l=t[o],c=0,u=l?l.length:0,h=t===Fn;u>c&&(h||!a);c++)a=l[c](n,i,r),"string"==typeof a&&(!h||s[a]?a=e:(n.dataTypes.unshift(a),a=C(t,n,i,r,a,s)));return!h&&a||s["*"]||(a=C(t,n,i,r,"*",s)),a}function T(t,n){var i,r,o=Z.ajaxSettings.flatOptions||{};for(i in n)n[i]!==e&&((o[i]?t:r||(r={}))[i]=n[i]);r&&Z.extend(!0,t,r)}function M(t,n,i){var r,o,s,a,l=t.contents,c=t.dataTypes,u=t.responseFields;for(o in u)o in i&&(n[u[o]]=i[o]);for(;"*"===c[0];)c.shift(),r===e&&(r=t.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)s=c[0];else{for(o in i){if(!c[0]||t.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function A(t,e){var n,i,r,o,s=t.dataTypes.slice(),a=s[0],l={},c=0;if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s[1])for(n in t.converters)l[n.toLowerCase()]=t.converters[n];for(;r=s[++c];)if("*"!==r){if("*"!==a&&a!==r){if(n=l[a+" "+r]||l["* "+r],!n)for(i in l)if(o=i.split(" "),o[1]===r&&(n=l[a+" "+o[0]]||l["* "+o[0]])){n===!0?n=l[i]:l[i]!==!0&&(r=o[0],s.splice(c--,0,r));break}if(n!==!0)if(n&&t["throws"])e=n(e);else try{e=n(e)}catch(u){return{state:"parsererror",error:n?u:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:e}}function E(){try{return new t.XMLHttpRequest}catch(e){}}function P(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function L(){return setTimeout(function(){Gn=e},0),Gn=Z.now()}function I(t,e){Z.each(e,function(e,n){for(var i=(ti[e]||[]).concat(ti["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(t,e,n))return})}function N(t,e,n){var i,r=0,o=Jn.length,s=Z.Deferred().always(function(){delete a.elem}),a=function(){for(var e=Gn||L(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,r=1-i,o=0,a=l.tweens.length;a>o;o++)l.tweens[o].run(r);return s.notifyWith(t,[l,r,n]),1>r&&a?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Gn||L(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Z.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){for(var n=0,i=e?l.tweens.length:0;i>n;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),c=l.props;for(j(c,l.opts.specialEasing);o>r;r++)if(i=Jn[r].call(l,t,c,l.opts))return i;return I(l,c),Z.isFunction(l.opts.start)&&l.opts.start.call(t,l),Z.fx.timer(Z.extend(a,{anim:l,queue:l.opts.queue,elem:t})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function j(t,e){var n,i,r,o,s;for(n in t)if(i=Z.camelCase(n),r=e[i],o=t[n],Z.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=Z.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function D(t,e,n){var i,r,o,s,a,l,c,u,h,d=this,p=t.style,f={},m=[],g=t.nodeType&&v(t);n.queue||(u=Z._queueHooks(t,"fx"),null==u.unqueued&&(u.unqueued=0,h=u.empty.fire,u.empty.fire=function(){u.unqueued||h()}),u.unqueued++,d.always(function(){d.always(function(){u.unqueued--,Z.queue(t,"fx").length||u.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===Z.css(t,"display")&&"none"===Z.css(t,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==_(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",Z.support.shrinkWrapBlocks||d.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],Kn.exec(o)){if(delete e[i],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(i)}if(s=m.length){a=Z._data(t,"fxshow")||Z._data(t,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?Z(t).show():d.done(function(){Z(t).hide()}),d.done(function(){var e;Z.removeData(t,"fxshow",!0);for(e in f)Z.style(t,e,f[e])});for(i=0;s>i;i++)r=m[i],c=d.createTween(r,g?a[r]:0),f[r]=a[r]||Z.style(t,r),r in a||(a[r]=c.start,g&&(c.end=c.start,c.start="width"===r||"height"===r?1:0))}}function O(t,e,n,i,r){return new O.prototype.init(t,e,n,i,r)}function F(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=vn[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function R(t){return Z.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var z,H,B=t.document,W=t.location,U=t.navigator,q=t.jQuery,V=t.$,X=Array.prototype.push,Y=Array.prototype.slice,G=Array.prototype.indexOf,$=Object.prototype.toString,K=Object.prototype.hasOwnProperty,Q=String.prototype.trim,Z=function(t,e){return new Z.fn.init(t,e,z)},J=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,te=/\S/,ee=/\s+/,ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ie=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,re=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^[\],:{}\s]*$/,se=/(?:^|:|,)(?:\s*\[)+/g,ae=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,le=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ce=/^-ms-/,ue=/-([\da-z])/gi,he=function(t,e){return(e+"").toUpperCase()},de=function(){B.addEventListener?(B.removeEventListener("DOMContentLoaded",de,!1),Z.ready()):"complete"===B.readyState&&(B.detachEvent("onreadystatechange",de),Z.ready())},pe={};Z.fn=Z.prototype={constructor:Z,init:function(t,n,i){var r,o,s;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ie.exec(t),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(r[1])return n=n instanceof Z?n[0]:n,s=n&&n.nodeType?n.ownerDocument||n:B,t=Z.parseHTML(r[1],s,!0),re.test(r[1])&&Z.isPlainObject(n)&&this.attr.call(t,n,!0),Z.merge(this,t);if(o=B.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(t);this.length=1,this[0]=o}return this.context=B,this.selector=t,this}return Z.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))},selector:"",jquery:"1.8.3+1",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,n){var i=Z.merge(this.constructor(),t);return i.prevObject=this,i.context=this.context,"find"===e?i.selector=this.selector+(this.selector?" ":"")+n:e&&(i.selector=this.selector+"."+e+"("+n+")"),i},each:function(t,e){return Z.each(this,t,e)},ready:function(t){return Z.ready.promise().done(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(t){return this.pushStack(Z.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var t,n,i,r,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||Z.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(t=arguments[l]))for(n in t)i=a[n],r=t[n],a!==r&&(u&&r&&(Z.isPlainObject(r)||(o=Z.isArray(r)))?(o?(o=!1,s=i&&Z.isArray(i)?i:[]):s=i&&Z.isPlainObject(i)?i:{},a[n]=Z.extend(u,s,r)):r!==e&&(a[n]=r));return a},Z.extend({noConflict:function(e){return t.$===Z&&(t.$=V),e&&t.jQuery===Z&&(t.jQuery=q),Z},isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){if(t===!0?!--Z.readyWait:!Z.isReady){if(!B.body)return setTimeout(Z.ready,1);Z.isReady=!0,t!==!0&&--Z.readyWait>0||(H.resolveWith(B,[Z]),Z.fn.trigger&&Z(B).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray||function(t){return"array"===Z.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):pe[$.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==Z.type(t)||t.nodeType||Z.isWindow(t))return!1;try{if(t.constructor&&!K.call(t,"constructor")&&!K.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in t);return i===e||K.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){var i;return t&&"string"==typeof t?("boolean"==typeof e&&(n=e,e=0),e=e||B,(i=re.exec(t))?[e.createElement(i[1])]:(i=Z.buildFragment([t],e,n?null:[]),Z.merge([],(i.cacheable?Z.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=Z.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):oe.test(e.replace(ae,"@").replace(le,"]").replace(se,""))?new Function("return "+e)():void Z.error("Invalid JSON: "+e)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=e}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&te.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ce,"ms-").replace(ue,he)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,n,i){var r,o=0,s=t.length,a=s===e||Z.isFunction(t);if(i)if(a){for(r in t)if(n.apply(t[r],i)===!1)break}else for(;s>o&&n.apply(t[o++],i)!==!1;);else if(a){for(r in t)if(n.call(t[r],r,t[r])===!1)break}else for(;s>o&&n.call(t[o],o,t[o++])!==!1;);return t},trim:Q&&!Q.call("\ufeff\xa0")?function(t){return null==t?"":Q.call(t)}:function(t){return null==t?"":(t+"").replace(ne,"")},makeArray:function(t,e){var n,i=e||[];return null!=t&&(n=Z.type(t),null==t.length||"string"===n||"function"===n||"regexp"===n||Z.isWindow(t)?X.call(i,t):Z.merge(i,t)),i},inArray:function(t,e,n){var i;if(e){if(G)return G.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=n.length,r=t.length,o=0;if("number"==typeof i)for(;i>o;o++)t[r++]=n[o];else for(;n[o]!==e;)t[r++]=n[o++];return t.length=r,t},grep:function(t,e,n){var i,r=[],o=0,s=t.length;for(n=!!n;s>o;o++)i=!!e(t[o],o),n!==i&&r.push(t[o]);return r},map:function(t,n,i){var r,o,s=[],a=0,l=t.length,c=t instanceof Z||l!==e&&"number"==typeof l&&(l>0&&t[0]&&t[l-1]||0===l||Z.isArray(t));if(c)for(;l>a;a++)r=n(t[a],a,i),null!=r&&(s[s.length]=r);else for(o in t)r=n(t[o],o,i),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(t,n){var i,r,o;return"string"==typeof n&&(i=t[n],n=t,t=i),Z.isFunction(t)?(r=Y.call(arguments,2),o=function(){return t.apply(n,r.concat(Y.call(arguments)))},o.guid=t.guid=t.guid||Z.guid++,o):e},access:function(t,n,i,r,o,s,a){var l,c=null==i,u=0,h=t.length;if(i&&"object"==typeof i){for(u in i)Z.access(t,n,u,i[u],1,s,r);o=1}else if(r!==e){if(l=a===e&&Z.isFunction(r),c&&(l?(l=n,n=function(t,e,n){return l.call(Z(t),n)}):(n.call(t,r),n=null)),n)for(;h>u;u++)n(t[u],i,l?r.call(t[u],u,n(t[u],i)):r,a);o=1}return o?t:c?n.call(t):h?n(t[0],i):s},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(e){if(!H)if(H=Z.Deferred(),"complete"===B.readyState)setTimeout(Z.ready,1);else if(B.addEventListener)B.addEventListener("DOMContentLoaded",de,!1),t.addEventListener("load",Z.ready,!1);else{B.attachEvent("onreadystatechange",de),t.attachEvent("onload",Z.ready);var n=!1;try{n=null==t.frameElement&&B.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!Z.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}Z.ready()}}()}return H.promise(e)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){pe["[object "+e+"]"]=e.toLowerCase()}),z=Z(B);var fe={};Z.Callbacks=function(t){t="string"==typeof t?fe[t]||n(t):Z.extend({},t);var i,r,o,s,a,l,c=[],u=!t.once&&[],h=function(e){for(i=t.memory&&e,r=!0,l=s||0,s=0,a=c.length,o=!0;c&&a>l;l++)if(c[l].apply(e[0],e[1])===!1&&t.stopOnFalse){i=!1;break}o=!1,c&&(u?u.length&&h(u.shift()):i?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function n(e){Z.each(e,function(e,i){var r=Z.type(i);"function"===r?t.unique&&d.has(i)||c.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),o?a=c.length:i&&(s=e,h(i))}return this},remove:function(){return c&&Z.each(arguments,function(t,e){for(var n;(n=Z.inArray(e,c,n))>-1;)c.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(t){return Z.inArray(t,c)>-1},empty:function(){return c=[],this},disable:function(){return c=u=i=e,this},disabled:function(){return!c},lock:function(){return u=e,i||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||r&&!u||(o?u.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(n){Z.each(e,function(e,i){var o=i[0],s=t[e];r[i[1]](Z.isFunction(s)?function(){var t=s.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[t])}:n[o])}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,i):i}},r={};return i.pipe=i.then,Z.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=s.fire,r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=Y.call(arguments),s=o.length,a=1!==s||t&&Z.isFunction(t.promise)?s:0,l=1===a?t:Z.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?Y.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}}),Z.support=function(){var e,n,i,r,o,s,a,l,c,u,h,d=B.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=B.createElement("select"),o=r.appendChild(B.createElement("option")),s=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,getSetAttribute:"t"!==d.className,enctype:!!B.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==B.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===B.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,e.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!o.disabled;try{delete d.test}catch(p){e.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",h=function(){e.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",h)),s=B.createElement("input"),s.value="t",s.setAttribute("type","radio"),e.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),d.appendChild(s),a=B.createDocumentFragment(),a.appendChild(d.lastChild),e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=s.checked,a.removeChild(s),a.appendChild(d),d.attachEvent)for(c in{submit:!0,change:!0,focusin:!0})l="on"+c,u=l in d,u||(d.setAttribute(l,"return;"),u="function"==typeof d[l]),e[c+"Bubbles"]=u;return Z(function(){var n,i,r,o,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=B.getElementsByTagName("body")[0];a&&(n=B.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),i=B.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=u&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===i.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(i,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(i,null)||{width:"4px"}).width,o=B.createElement("div"),o.style.cssText=i.style.cssText=s,o.style.marginRight=o.style.width="0",i.style.width="1px",i.appendChild(o),e.reliableMarginRight=!parseFloat((t.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),a.removeChild(n),n=i=r=o=null)}),a.removeChild(d),n=i=r=o=s=a=d=null,e}();var me=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ge=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?Z.cache[t[Z.expando]]:t[Z.expando],!!t&&!r(t)},data:function(t,n,i,r){if(Z.acceptData(t)){var o,s,a=Z.expando,l="string"==typeof n,c=t.nodeType,u=c?Z.cache:t,h=c?t[a]:t[a]&&a;if(h&&u[h]&&(r||u[h].data)||!l||i!==e)return h||(c?t[a]=h=Z.deletedIds.pop()||Z.guid++:h=a),u[h]||(u[h]={},c||(u[h].toJSON=Z.noop)),("object"==typeof n||"function"==typeof n)&&(r?u[h]=Z.extend(u[h],n):u[h].data=Z.extend(u[h].data,n)),o=u[h],r||(o.data||(o.data={}),o=o.data),i!==e&&(o[Z.camelCase(n)]=i),l?(s=o[n],null==s&&(s=o[Z.camelCase(n)])):s=o,s}},removeData:function(t,e,n){if(Z.acceptData(t)){var i,o,s,a=t.nodeType,l=a?Z.cache:t,c=a?t[Z.expando]:Z.expando;if(l[c]){if(e&&(i=n?l[c]:l[c].data)){Z.isArray(e)||(e in i?e=[e]:(e=Z.camelCase(e),e=e in i?[e]:e.split(" ")));for(o=0,s=e.length;s>o;o++)delete i[e[o]];if(!(n?r:Z.isEmptyObject)(i))return}(n||(delete l[c].data,r(l[c])))&&(a?Z.cleanData([t],!0):Z.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}},_data:function(t,e,n){return Z.data(t,e,n,!0)},acceptData:function(t){var e=t.nodeName&&Z.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),Z.fn.extend({data:function(t,n){var r,o,s,a,l,c=this[0],u=0,h=null;if(t===e){if(this.length&&(h=Z.data(c),1===c.nodeType&&!Z._data(c,"parsedAttrs"))){for(s=c.attributes,l=s.length;l>u;u++)a=s[u].name,a.indexOf("data-")||(a=Z.camelCase(a.substring(5)),i(c,a,h[a]));Z._data(c,"parsedAttrs",!0)}return h}return"object"==typeof t?this.each(function(){Z.data(this,t)}):(r=t.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",Z.access(this,function(n){return n===e?(h=this.triggerHandler("getData"+o,[r[0]]),h===e&&c&&(h=Z.data(c,t),h=i(c,t,h)),h===e&&r[1]?this.data(r[0]):h):(r[1]=n,void this.each(function(){var e=Z(this);e.triggerHandler("setData"+o,r),Z.data(this,t,n),e.triggerHandler("changeData"+o,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){Z.removeData(this,t)})}}),Z.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=Z._data(t,e),n&&(!i||Z.isArray(n)?i=Z._data(t,e,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Z.queue(t,e),i=n.length,r=n.shift(),o=Z._queueHooks(t,e),s=function(){Z.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z._data(t,n)||Z._data(t,n,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(t,e+"queue",!0),Z.removeData(t,n,!0)})})}}),Z.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?Z.queue(this[0],t):n===e?this:this.each(function(){var e=Z.queue(this,t,n);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},delay:function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,r=1,o=Z.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)i=Z._data(s[a],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var ve,ye,be,xe=/[\t\r\n]/g,we=/\r/g,_e=/^(?:button|input)$/i,ke=/^(?:button|input|object|select|textarea)$/i,Se=/^a(?:rea|)$/i,Ce=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Te=Z.support.getSetAttribute;Z.fn.extend({attr:function(t,e){return Z.access(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})},prop:function(t,e){return Z.access(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return t=Z.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,r,o,s,a;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(ee),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==e.length){for(o=" "+r.className+" ",s=0,a=e.length;a>s;s++)o.indexOf(" "+e[s]+" ")<0&&(o+=e[s]+" ");r.className=Z.trim(o)}else r.className=t;return this},removeClass:function(t){var n,i,r,o,s,a,l;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(n=(t||"").split(ee),a=0,l=this.length;l>a;a++)if(r=this[a],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(xe," "),o=0,s=n.length;s>o;o++)for(;i.indexOf(" "+n[o]+" ")>=0;)i=i.replace(" "+n[o]+" "," ");r.className=t?Z.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t,i="boolean"==typeof e;return this.each(Z.isFunction(t)?function(n){Z(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var r,o=0,s=Z(this),a=e,l=t.split(ee);r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||t===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xe," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,r,o=this[0];{if(arguments.length)return r=Z.isFunction(t),this.each(function(i){var o,s=Z(this);1===this.nodeType&&(o=r?t.call(this,i,s.val()):t,null==o?o="":"number"==typeof o?o+="":Z.isArray(o)&&(o=Z.map(o,function(t){return null==t?"":t+""})),n=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==e||(this.value=o))});if(o)return n=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==e?i:(i=o.value,"string"==typeof i?i.replace(we,""):null==i?"":i)}}}),Z.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(Z.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(e=Z(n).val(),o)return e;s.push(e)}return s},set:function(t,e){var n=Z.makeArray(e);return Z(t).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),n)>=0}),n.length||(t.selectedIndex=-1),n}}},attrFn:{},attr:function(t,n,i,r){var o,s,a,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return r&&Z.isFunction(Z.fn[n])?Z(t)[n](i):"undefined"==typeof t.getAttribute?Z.prop(t,n,i):(a=1!==l||!Z.isXMLDoc(t),a&&(n=n.toLowerCase(),s=Z.attrHooks[n]||(Ce.test(n)?ye:ve)),i!==e?null===i?void Z.removeAttr(t,n):s&&"set"in s&&a&&(o=s.set(t,i,n))!==e?o:(t.setAttribute(n,i+""),i):s&&"get"in s&&a&&null!==(o=s.get(t,n))?o:(o=t.getAttribute(n),null===o?e:o))},removeAttr:function(t,e){var n,i,r,o,s=0;if(e&&1===t.nodeType)for(i=e.split(ee);s<i.length;s++)r=i[s],r&&(n=Z.propFix[r]||r,o=Ce.test(r),o||Z.attr(t,r,""),t.removeAttribute(Te?r:n),o&&n in t&&(t[n]=!1))},attrHooks:{type:{set:function(t,e){if(_e.test(t.nodeName)&&t.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}},value:{get:function(t,e){return ve&&Z.nodeName(t,"button")?ve.get(t,e):e in t?t.value:null},set:function(t,e,n){return ve&&Z.nodeName(t,"button")?ve.set(t,e,n):void(t.value=e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,n,i){var r,o,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!Z.isXMLDoc(t),s&&(n=Z.propFix[n]||n,o=Z.propHooks[n]),i!==e?o&&"set"in o&&(r=o.set(t,i,n))!==e?r:t[n]=i:o&&"get"in o&&null!==(r=o.get(t,n))?r:t[n]},propHooks:{tabIndex:{get:function(t){var n=t.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):ke.test(t.nodeName)||Se.test(t.nodeName)&&t.href?0:e}}}}),ye={get:function(t,n){var i,r=Z.prop(t,n);return r===!0||"boolean"!=typeof r&&(i=t.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():e},set:function(t,e,n){var i;return e===!1?Z.removeAttr(t,n):(i=Z.propFix[n]||n,i in t&&(t[i]=!0),t.setAttribute(n,n.toLowerCase())),n}},Te||(be={name:!0,id:!0,coords:!0},ve=Z.valHooks.button={get:function(t,n){var i;return i=t.getAttributeNode(n),i&&(be[n]?""!==i.value:i.specified)?i.value:e},set:function(t,e,n){var i=t.getAttributeNode(n);return i||(i=B.createAttribute(n),t.setAttributeNode(i)),i.value=e+""}},Z.each(["width","height"],function(t,e){Z.attrHooks[e]=Z.extend(Z.attrHooks[e],{set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}})}),Z.attrHooks.contenteditable={get:ve.get,set:function(t,e,n){""===e&&(e="false"),ve.set(t,e,n)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(t,n){Z.attrHooks[n]=Z.extend(Z.attrHooks[n],{get:function(t){var i=t.getAttribute(n,2);return null===i?e:i}})}),Z.support.style||(Z.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=e+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null
}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}})});var Me=/^(?:textarea|input|select)$/i,Ae=/^([^\.]*|)(?:\.(.+)|)$/,Ee=/(?:^|\s)hover(\.\S+|)\b/,Pe=/^key/,Le=/^(?:mouse|contextmenu)|click/,Ie=/^(?:focusinfocus|focusoutblur)$/,Ne=function(t){return Z.event.special.hover?t:t.replace(Ee,"mouseenter$1 mouseleave$1")};Z.event={add:function(t,n,i,r,o){var s,a,l,c,u,h,d,p,f,m,g;if(3!==t.nodeType&&8!==t.nodeType&&n&&i&&(s=Z._data(t))){for(i.handler&&(f=i,i=f.handler,o=f.selector),i.guid||(i.guid=Z.guid++),l=s.events,l||(s.events=l={}),a=s.handle,a||(s.handle=a=function(t){return"undefined"==typeof Z||t&&Z.event.triggered===t.type?e:Z.event.dispatch.apply(a.elem,arguments)},a.elem=t),n=Z.trim(Ne(n)).split(" "),c=0;c<n.length;c++)u=Ae.exec(n[c])||[],h=u[1],d=(u[2]||"").split(".").sort(),g=Z.event.special[h]||{},h=(o?g.delegateType:g.bindType)||h,g=Z.event.special[h]||{},p=Z.extend({type:h,origType:u[1],data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:d.join(".")},f),m=l[h],m||(m=l[h]=[],m.delegateCount=0,g.setup&&g.setup.call(t,r,d,a)!==!1||(t.addEventListener?t.addEventListener(h,a,!1):t.attachEvent&&t.attachEvent("on"+h,a))),g.add&&(g.add.call(t,p),p.handler.guid||(p.handler.guid=i.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),Z.event.global[h]=!0;t=null}},global:{},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=Z.hasData(t)&&Z._data(t);if(g&&(d=g.events)){for(e=Z.trim(Ne(e||"")).split(" "),o=0;o<e.length;o++)if(s=Ae.exec(e[o])||[],a=l=s[1],c=s[2],a){for(p=Z.event.special[a]||{},a=(i?p.delegateType:p.bindType)||a,f=d[a]||[],u=f.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=0;h<f.length;h++)m=f[h],!r&&l!==m.origType||n&&n.guid!==m.guid||c&&!c.test(m.namespace)||i&&i!==m.selector&&("**"!==i||!m.selector)||(f.splice(h--,1),m.selector&&f.delegateCount--,p.remove&&p.remove.call(t,m));0===f.length&&u!==f.length&&(p.teardown&&p.teardown.call(t,c,g.handle)!==!1||Z.removeEvent(t,a,g.handle),delete d[a])}else for(a in d)Z.event.remove(t,a+e[o],n,i,!0);Z.isEmptyObject(d)&&(delete g.handle,Z.removeData(t,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,a,l,c,u,h,d,p,f,m,g=n.type||n,v=[];if(!Ie.test(g+Z.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),r&&!Z.event.customEvent[g]||Z.event.global[g]))if(n="object"==typeof n?n[Z.expando]?n:new Z.Event(g,n):new Z.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=a,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=g.indexOf(":")<0?"on"+g:"",r){if(n.result=e,n.target||(n.target=r),i=null!=i?Z.makeArray(i):[],i.unshift(n),d=Z.event.special[g]||{},!d.trigger||d.trigger.apply(r,i)!==!1){if(f=[[r,d.bindType||g]],!o&&!d.noBubble&&!Z.isWindow(r)){for(m=d.delegateType||g,c=Ie.test(m+g)?r:r.parentNode,u=r;c;c=c.parentNode)f.push([c,m]),u=c;u===(r.ownerDocument||B)&&f.push([u.defaultView||u.parentWindow||t,m])}for(l=0;l<f.length&&!n.isPropagationStopped();l++)c=f[l][0],n.type=f[l][1],p=(Z._data(c,"events")||{})[n.type]&&Z._data(c,"handle"),p&&p.apply(c,i),p=h&&c[h],p&&Z.acceptData(c)&&p.apply&&p.apply(c,i)===!1&&n.preventDefault();return n.type=g,o||n.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,i)!==!1||"click"===g&&Z.nodeName(r,"a")||!Z.acceptData(r)||h&&r[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!Z.isWindow(r)&&(u=r[h],u&&(r[h]=null),Z.event.triggered=g,r[g](),Z.event.triggered=e,u&&(r[h]=u)),n.result}}else{s=Z.cache;for(l in s)s[l].events&&s[l].events[g]&&Z.event.trigger(n,i,s[l].handle.elem,!0)}}},dispatch:function(n){n=Z.event.fix(n||t.event);var i,r,o,s,a,l,c,u,h,d=(Z._data(this,"events")||{})[n.type]||[],p=d.delegateCount,f=Y.call(arguments),m=!n.exclusive&&!n.namespace,g=Z.event.special[n.type]||{},v=[];if(f[0]=n,n.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,n)!==!1){if(p&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(a={},c=[],i=0;p>i;i++)u=d[i],h=u.selector,a[h]===e&&(a[h]=u.needsContext?Z(h,this).index(o)>=0:Z.find(h,this,null,[o]).length),a[h]&&c.push(u);c.length&&v.push({elem:o,matches:c})}for(d.length>p&&v.push({elem:this,matches:d.slice(p)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(l=v[i],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)u=l.matches[r],(m||!n.namespace&&!u.namespace||n.namespace_re&&n.namespace_re.test(u.namespace))&&(n.data=u.data,n.handleObj=u,s=((Z.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,f),s!==e&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,o,s=n.button,a=n.fromElement;return null==t.pageX&&null!=n.clientX&&(i=t.target.ownerDocument||B,r=i.documentElement,o=i.body,t.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?n.toElement:a),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,n,i=t,r=Z.event.fixHooks[t.type]||{},o=r.props?this.props.concat(r.props):this.props;for(t=Z.Event(i),e=o.length;e;)n=o[--e],t[n]=i[n];return t.target||(t.target=i.srcElement||B),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,i):t},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,n){Z.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,n,i){var r=Z.extend(new Z.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,e):Z.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=B.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?s:o):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){{var n,i=this,r=t.relatedTarget,o=t.handleObj;o.selector}return(!r||r!==i&&!Z.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:void Z.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=Z.nodeName(n,"input")||Z.nodeName(n,"button")?n.form:e;i&&!Z._data(i,"_submit_attached")&&(Z.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),Z._data(i,"_submit_attached",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&Z.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:void Z.event.remove(this,"._submit")}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return Me.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,t,!0)})),!1):void Z.event.add(this,"beforeactivate._change",function(t){var e=t.target;Me.test(e.nodeName)&&!Z._data(e,"_change_attached")&&(Z.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||Z.event.simulate("change",this.parentNode,t,!0)}),Z._data(e,"_change_attached",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!Me.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){0===n++&&B.addEventListener(t,i,!0)},teardown:function(){0===--n&&B.removeEventListener(t,i,!0)}}}),Z.fn.extend({on:function(t,n,i,r,s){var a,l;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(l in t)this.on(l,n,i,t[l],s);return this}if(null==i&&null==r?(r=n,i=n=e):null==r&&("string"==typeof n?(r=i,i=e):(r=i,i=n,n=e)),r===!1)r=o;else if(!r)return this;return 1===s&&(a=r,r=function(t){return Z().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,r,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var r,s;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Z(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(s in t)this.off(s,n,t[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=o),this.each(function(){Z.event.remove(this,t,i,n)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,n){return Z(this.context).on(t,this.selector,e,n),this},die:function(t,e){return Z(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?Z.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,n=t.guid||Z.guid++,i=0,r=function(n){var r=(Z._data(this,"lastToggle"+t.guid)||0)%i;return Z._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),e[r].apply(this,arguments)||!1};for(r.guid=n;i<e.length;)e[i++].guid=n;return this.click(r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,n){return null==n&&(n=t,t=null),arguments.length>0?this.on(e,null,t,n):this.trigger(e)},Pe.test(e)&&(Z.event.fixHooks[e]=Z.event.keyHooks),Le.test(e)&&(Z.event.fixHooks[e]=Z.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(t,e){function n(t,e,n,i){n=n||[],e=e||L;var r,o,s,a,l=e.nodeType;if(!t||"string"!=typeof t)return n;if(1!==l&&9!==l)return[];if(s=w(e),!s&&!i&&(r=ne.exec(t)))if(a=r[1]){if(9===l){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&_(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return O.apply(n,F.call(e.getElementsByTagName(t),0)),n;if((a=r[3])&&de&&e.getElementsByClassName)return O.apply(n,F.call(e.getElementsByClassName(a),0)),n}return m(t.replace(Q,"$1"),e,n,i,s)}function i(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function r(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function o(t){return z(function(e){return e=+e,z(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function s(t,e,n){if(t===e)return n;for(var i=t.nextSibling;i;){if(i===e)return-1;i=i.nextSibling}return 1}function a(t,e){var i,r,o,s,a,l,c,u=W[E][t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=b.preFilter;a;){(!i||(r=J.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=te.exec(a))&&(o.push(i=new P(r.shift())),a=a.slice(i.length),i.type=r[0].replace(Q," "));for(s in b.filter)!(r=ae[s].exec(a))||c[s]&&!(r=c[s](r))||(o.push(i=new P(r.shift())),a=a.slice(i.length),i.type=s,i.matches=r);if(!i)break}return e?a.length:a?n.error(t):W(t,l).slice(0)}function l(t,e,n){var i=e.dir,r=n&&"parentNode"===e.dir,o=j++;return e.first?function(e,n,o){for(;e=e[i];)if(r||1===e.nodeType)return t(e,n,o)}:function(e,n,s){if(s){for(;e=e[i];)if((r||1===e.nodeType)&&t(e,n,s))return e}else for(var a,l=N+" "+o+" ",c=l+v;e=e[i];)if(r||1===e.nodeType){if((a=e[E])===c)return e.sizset;if("string"==typeof a&&0===a.indexOf(l)){if(e.sizset)return e}else{if(e[E]=c,t(e,n,s))return e.sizset=!0,e;e.sizset=!1}}}}function c(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function u(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),c&&e.push(a));return s}function h(t,e,n,i,r,o){return i&&!i[E]&&(i=h(i)),r&&!r[E]&&(r=h(r,o)),z(function(o,s,a,l){var c,h,d,p=[],m=[],g=s.length,v=o||f(e||"*",a.nodeType?[a]:a,[]),y=!t||!o&&e?v:u(v,p,t,a,l),b=n?r||(o?t:g||i)?[]:s:y;if(n&&n(y,b,a,l),i)for(c=u(b,m),i(c,[],a,l),h=c.length;h--;)(d=c[h])&&(b[m[h]]=!(y[m[h]]=d));if(o){if(r||t){if(r){for(c=[],h=b.length;h--;)(d=b[h])&&c.push(y[h]=d);r(null,b=[],c,l)}for(h=b.length;h--;)(d=b[h])&&(c=r?R.call(o,d):p[h])>-1&&(o[c]=!(s[c]=d))}}else b=u(b===s?b.splice(g,b.length):b),r?r(null,s,b,l):O.apply(s,b)})}function d(t){for(var e,n,i,r=t.length,o=b.relative[t[0].type],s=o||b.relative[" "],a=o?1:0,u=l(function(t){return t===e},s,!0),p=l(function(t){return R.call(e,t)>-1},s,!0),f=[function(t,n,i){return!o&&(i||n!==T)||((e=n).nodeType?u(t,n,i):p(t,n,i))}];r>a;a++)if(n=b.relative[t[a].type])f=[l(c(f),n)];else{if(n=b.filter[t[a].type].apply(null,t[a].matches),n[E]){for(i=++a;r>i&&!b.relative[t[i].type];i++);return h(a>1&&c(f),a>1&&t.slice(0,a-1).join("").replace(Q,"$1"),n,i>a&&d(t.slice(a,i)),r>i&&d(t=t.slice(i)),r>i&&t.join(""))}f.push(n)}return c(f)}function p(t,e){var i=e.length>0,r=t.length>0,o=function(s,a,l,c,h){var d,p,f,m=[],g=0,y="0",x=s&&[],w=null!=h,_=T,k=s||r&&b.find.TAG("*",h&&a.parentNode||a),S=N+=null==_?1:Math.E;for(w&&(T=a!==L&&a,v=o.el);null!=(d=k[y]);y++){if(r&&d){for(p=0;f=t[p];p++)if(f(d,a,l)){c.push(d);break}w&&(N=S,v=++o.el)}i&&((d=!f&&d)&&g--,s&&x.push(d))}if(g+=y,i&&y!==g){for(p=0;f=e[p];p++)f(x,m,a,l);if(s){if(g>0)for(;y--;)x[y]||m[y]||(m[y]=D.call(c));m=u(m)}O.apply(c,m),w&&!s&&m.length>0&&g+e.length>1&&n.uniqueSort(c)}return w&&(N=S,T=_),x};return o.el=0,i?z(o):o}function f(t,e,i){for(var r=0,o=e.length;o>r;r++)n(t,e[r],i);return i}function m(t,e,n,i,r){{var o,s,l,c,u,h=a(t);h.length}if(!i&&1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===e.nodeType&&!r&&b.relative[s[1].type]){if(e=b.find.ID(l.matches[0].replace(se,""),e,r)[0],!e)return n;t=t.slice(s.shift().length)}for(o=ae.POS.test(t)?-1:s.length-1;o>=0&&(l=s[o],!b.relative[c=l.type]);o--)if((u=b.find[c])&&(i=u(l.matches[0].replace(se,""),ie.test(s[0].type)&&e.parentNode||e,r))){if(s.splice(o,1),t=i.length&&s.join(""),!t)return O.apply(n,F.call(i,0)),n;break}}return k(t,h)(i,e,r,n,ie.test(t)),n}function g(){}var v,y,b,x,w,_,k,S,C,T,M=!0,A="undefined",E=("sizcache"+Math.random()).replace(".",""),P=String,L=t.document,I=L.documentElement,N=0,j=0,D=[].pop,O=[].push,F=[].slice,R=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},z=function(t,e){return t[E]=null==e||e,t},H=function(){var t={},e=[];return z(function(n,i){return e.push(n)>b.cacheLength&&delete t[e.shift()],t[n+" "]=i},t)},B=H(),W=H(),U=H(),q="[\\x20\\t\\r\\n\\f]",V="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",X=V.replace("w","w#"),Y="([*^$|!~]?=)",G="\\["+q+"*("+V+")"+q+"*(?:"+Y+q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+X+")|)|)"+q+"*\\]",$=":("+V+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+G+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),J=new RegExp("^"+q+"*,"+q+"*"),te=new RegExp("^"+q+"*([\\x20\\t\\r\\n\\f>+~])"+q+"*"),ee=new RegExp($),ne=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,ie=/[\x20\t\r\n\f]*[+~]/,re=/h\d/i,oe=/input|select|textarea|button/i,se=/\\(?!\\)/g,ae={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),NAME:new RegExp("^\\[name=['\"]?("+V+")['\"]?\\]"),TAG:new RegExp("^("+V.replace("w","w*")+")"),ATTR:new RegExp("^"+G),PSEUDO:new RegExp("^"+$),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),needsContext:new RegExp("^"+q+"*[>+~]|"+K,"i")},le=function(t){var e=L.createElement("div");try{return t(e)}catch(n){return!1}finally{e=null}},ce=le(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),ue=le(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==A&&"#"===t.firstChild.getAttribute("href")}),he=le(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),de=le(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),pe=le(function(t){t.id=E+0,t.innerHTML="<a name='"+E+"'></a><div name='"+E+"'></div>",I.insertBefore(t,I.firstChild);var e=L.getElementsByName&&L.getElementsByName(E).length===2+L.getElementsByName(E+0).length;return y=!L.getElementById(E),I.removeChild(t),e});try{F.call(I.childNodes,0)[0].nodeType}catch(fe){F=function(t){for(var e,n=[];e=this[t];t++)n.push(e);return n}}n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){return n(e,null,null,[t]).length>0},x=n.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=x(e);return n},w=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},_=n.contains=I.contains?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:I.compareDocumentPosition?function(t,e){return e&&!!(16&t.compareDocumentPosition(e))}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1},n.attr=function(t,e){var n,i=w(t);return i||(e=e.toLowerCase()),(n=b.attrHandle[e])?n(t):i||he?t.getAttribute(e):(n=t.getAttributeNode(e),n?"boolean"==typeof t[e]?t[e]?e:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:z,match:ae,attrHandle:ue?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},find:{ID:y?function(t,e,n){if(typeof e.getElementById!==A&&!n){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}}:function(t,n,i){if(typeof n.getElementById!==A&&!i){var r=n.getElementById(t);return r?r.id===t||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===t?[r]:e:[]}},TAG:ce?function(t,e){return typeof e.getElementsByTagName!==A?e.getElementsByTagName(t):void 0}:function(t,e){var n=e.getElementsByTagName(t);if("*"===t){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n},NAME:pe&&function(t,e){return typeof e.getElementsByName!==A?e.getElementsByName(name):void 0},CLASS:de&&function(t,e,n){return typeof e.getElementsByClassName===A||n?void 0:e.getElementsByClassName(t)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(se,""),t[3]=(t[4]||t[5]||"").replace(se,""),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1]?(t[2]||n.error(t[0]),t[3]=+(t[3]?t[4]+(t[5]||1):2*("even"===t[2]||"odd"===t[2])),t[4]=+(t[6]+t[7]||"odd"===t[2])):t[2]&&n.error(t[0]),t},PSEUDO:function(t){var e,n;return ae.CHILD.test(t[0])?null:(t[3]?t[2]=t[3]:(e=t[4])&&(ee.test(e)&&(n=a(e,!0))&&(n=e.indexOf(")",e.length-n)-e.length)&&(e=e.slice(0,n),t[0]=t[0].slice(0,n)),t[2]=e),t.slice(0,3))}},filter:{ID:y?function(t){return t=t.replace(se,""),function(e){return e.getAttribute("id")===t}}:function(t){return t=t.replace(se,""),function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(se,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=B[E][t+" "];return e||(e=new RegExp("(^|"+q+")"+t+"("+q+"|$)"))&&B(t,function(t){return e.test(t.className||typeof t.getAttribute!==A&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var o=n.attr(r,t);return null==o?"!="===e:e?(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.substr(o.length-i.length)===i:"~="===e?(" "+o+" ").indexOf(i)>-1:"|="===e?o===i||o.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i){return"nth"===t?function(t){var e,r,o=t.parentNode;if(1===n&&0===i)return!0;if(o)for(r=0,e=o.firstChild;e&&(1!==e.nodeType||(r++,t!==e));e=e.nextSibling);return r-=i,r===n||r%n===0&&r/n>=0}:function(e){var n=e;switch(t){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===t)return!0;n=e;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(t,e){var i,r=b.pseudos[t]||b.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return r[E]?r(e):r.length>1?(i=[t,t,"",e],b.setFilters.hasOwnProperty(t.toLowerCase())?z(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)i=R.call(t,o[s]),t[i]=!(n[i]=o[s])}):function(t){return r(t,0,i)}):r}},pseudos:{not:z(function(t){var e=[],n=[],i=k(t.replace(Q,"$1"));return i[E]?z(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:z(function(t){return function(e){return n(t,e).length>0}}),contains:z(function(t){return function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!b.pseudos.empty(t)},empty:function(t){var e;for(t=t.firstChild;t;){if(t.nodeName>"@"||3===(e=t.nodeType)||4===e)return!1;t=t.nextSibling}return!0},header:function(t){return re.test(t.nodeName)},text:function(t){var e,n;return"input"===t.nodeName.toLowerCase()&&"text"===(e=t.type)&&(null==(n=t.getAttribute("type"))||n.toLowerCase()===e)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return oe.test(t.nodeName)},focus:function(t){var e=t.ownerDocument;return t===e.activeElement&&(!e.hasFocus||e.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},active:function(t){return t===t.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(t,e){return[e-1]}),eq:o(function(t,e,n){return[0>n?n+e:n]}),even:o(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:o(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:o(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:o(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},S=I.compareDocumentPosition?function(t,e){return t===e?(C=!0,0):(t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e):t.compareDocumentPosition)?-1:1}:function(t,e){if(t===e)return C=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var n,i,r=[],o=[],a=t.parentNode,l=e.parentNode,c=a;if(a===l)return s(t,e);if(!a)return-1;if(!l)return 1;for(;c;)r.unshift(c),c=c.parentNode;for(c=l;c;)o.unshift(c),c=c.parentNode;n=r.length,i=o.length;for(var u=0;n>u&&i>u;u++)if(r[u]!==o[u])return s(r[u],o[u]);return u===n?s(t,o[u],-1):s(r[u],e,1)},[0,0].sort(S),M=!C,n.uniqueSort=function(t){var e,n=[],i=1,r=0;if(C=M,t.sort(S),C){for(;e=t[i];i++)e===t[i-1]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return t},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},k=n.compile=function(t,e){var n,i=[],r=[],o=U[E][t+" "];if(!o){for(e||(e=a(t)),n=e.length;n--;)o=d(e[n]),o[E]?i.push(o):r.push(o);o=U(t,p(r,i))}return o},L.querySelectorAll&&!function(){var t,e=m,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],s=[":active"],l=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector||I.msMatchesSelector;le(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||o.push("\\["+q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||o.push(":checked")}),le(function(t){t.innerHTML="<p test=''></p>",t.querySelectorAll("[test^='']").length&&o.push("[*^$]="+q+"*(?:\"\"|'')"),t.innerHTML="<input type='hidden'/>",t.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),m=function(t,n,r,s,l){if(!s&&!l&&!o.test(t)){var c,u,h=!0,d=E,p=n,f=9===n.nodeType&&t;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(c=a(t),(h=n.getAttribute("id"))?d=h.replace(i,"\\$&"):n.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;u--;)c[u]=d+c[u].join("");p=ie.test(t)&&n.parentNode||n,f=c.join(",")}if(f)try{return O.apply(r,F.call(p.querySelectorAll(f),0)),r}catch(m){}finally{h||n.removeAttribute("id")}}return e(t,n,r,s,l)},l&&(le(function(e){t=l.call(e,"div");try{l.call(e,"[test!='']:sizzle"),s.push("!=",$)}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(e,i){if(i=i.replace(r,"='$1']"),!w(e)&&!s.test(i)&&!o.test(i))try{var a=l.call(e,i);if(a||t||e.document&&11!==e.document.nodeType)return a}catch(c){}return n(i,null,null,[e]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,n.attr=Z.attr,Z.find=n,Z.expr=n.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=n.uniqueSort,Z.text=n.getText,Z.isXMLDoc=n.isXML,Z.contains=n.contains}(t);var je=/Until$/,De=/^(?:parents|prev(?:Until|All))/,Oe=/^.[^:#\[\.,]*$/,Fe=Z.expr.match.needsContext,Re={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(t){var e,n,i,r,o,s,a=this;if("string"!=typeof t)return Z(t).filter(function(){for(e=0,n=a.length;n>e;e++)if(Z.contains(a[e],this))return!0});for(s=this.pushStack("","find",t),e=0,n=this.length;n>e;e++)if(i=s.length,Z.find(t,this[e],s),e>0)for(r=i;r<s.length;r++)for(o=0;i>o;o++)if(s[o]===s[r]){s.splice(r--,1);break}return s},has:function(t){var e,n=Z(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(Z.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(c(this,t,!1),"not",t)},filter:function(t){return this.pushStack(c(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?Fe.test(t)?Z(t,this.context).index(this[0])>=0:Z.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=Fe.test(t)||"string"!=typeof t?Z(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==e&&11!==n.nodeType;){if(s?s.index(n)>-1:Z.find.matchesSelector(n,t)){o.push(n);break}n=n.parentNode}return o=o.length>1?Z.unique(o):o,this.pushStack(o,"closest",t)},index:function(t){return t?"string"==typeof t?Z.inArray(this[0],Z(t)):Z.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var n="string"==typeof t?Z(t,e):Z.makeArray(t&&t.nodeType?[t]:t),i=Z.merge(this.get(),n);return this.pushStack(a(n[0])||a(i[0])?i:Z.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Z.dir(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Z.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Z.dir(t,"previousSibling",n)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return Z.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(n,i){var r=Z.map(this,e,n);return je.test(t)||(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),r=this.length>1&&!Re[t]?Z.unique(r):r,this.length>1&&De.test(t)&&(r=r.reverse()),this.pushStack(r,t,Y.call(arguments).join(","))}}),Z.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?Z.find.matchesSelector(e[0],t)?[e[0]]:[]:Z.find.matches(t,e)},dir:function(t,n,i){for(var r=[],o=t[n];o&&9!==o.nodeType&&(i===e||1!==o.nodeType||!Z(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var ze="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",He=/ jQuery\d+="(?:null|\d+)"/g,Be=/^\s+/,We=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ue=/<([\w:]+)/,qe=/<tbody/i,Ve=/<|&#?\w+;/,Xe=/<(?:script|style|link)/i,Ye=/<(?:script|object|embed|option|style)/i,Ge=new RegExp("<(?:"+ze+")[\\s/>]","i"),$e=/^(?:checkbox|radio)$/,Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Qe=/\/(java|ecma)script/i,Ze=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},tn=u(B),en=tn.appendChild(B.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,Z.support.htmlSerialize||(Je._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(t){return Z.access(this,function(t){return t===e?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(Z.isFunction(t))return this.each(function(e){Z(this).wrapAll(t.call(this,e))});if(this[0]){var e=Z(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(Z.isFunction(t)?function(e){Z(this).wrapInner(t.call(this,e))}:function(){var e=Z(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(n){Z(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=Z.clean(arguments);return this.pushStack(Z.merge(t,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=Z.clean(arguments);return this.pushStack(Z.merge(this,t),"after",this.selector)}},remove:function(t,e){for(var n,i=0;null!=(n=this[i]);i++)(!t||Z.filter(t,[n]).length)&&(e||1!==n.nodeType||(Z.cleanData(n.getElementsByTagName("*")),Z.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&Z.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return Z.access(this,function(t){var n=this[0]||{},i=0,r=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(He,""):e;if(!("string"!=typeof t||Xe.test(t)||!Z.support.htmlSerialize&&Ge.test(t)||!Z.support.leadingWhitespace&&Be.test(t)||Je[(Ue.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(We,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(Z.cleanData(n.getElementsByTagName("*")),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return a(this[0])?this.length?this.pushStack(Z(Z.isFunction(t)?t():t),"replaceWith",t):this:Z.isFunction(t)?this.each(function(e){var n=Z(this),i=n.html();n.replaceWith(t.call(this,e,i))}):("string"!=typeof t&&(t=Z(t).detach()),this.each(function(){var e=this.nextSibling,n=this.parentNode;Z(this).remove(),e?Z(e).before(t):Z(n).append(t)}))},detach:function(t){return this.remove(t,!0)},domManip:function(t,n,i){t=[].concat.apply([],t);var r,o,s,a,l=0,c=t[0],u=[],d=this.length;if(!Z.support.checkClone&&d>1&&"string"==typeof c&&Ke.test(c))return this.each(function(){Z(this).domManip(t,n,i)});if(Z.isFunction(c))return this.each(function(r){var o=Z(this);t[0]=c.call(this,r,n?o.html():e),o.domManip(t,n,i)});if(this[0]){if(r=Z.buildFragment(t,this,u),s=r.fragment,o=s.firstChild,1===s.childNodes.length&&(s=o),o)for(n=n&&Z.nodeName(o,"tr"),a=r.cacheable||d-1;d>l;l++)i.call(n&&Z.nodeName(this[l],"table")?h(this[l],"tbody"):this[l],l===a?s:Z.clone(s,!0,!0));s=o=null,u.length&&Z.each(u,function(t,e){e.src?Z.ajax?Z.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Ze,"")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),Z.buildFragment=function(t,n,i){var r,o,s,a=t[0];return n=n||B,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===t.length&&"string"==typeof a&&a.length<512&&n===B&&"<"===a.charAt(0))||Ye.test(a)||!Z.support.checkClone&&Ke.test(a)||!Z.support.html5Clone&&Ge.test(a)||(o=!0,r=Z.fragments[a],s=r!==e),r||(r=n.createDocumentFragment(),Z.clean(t,n,r,i),o&&(Z.fragments[a]=s&&r)),{fragment:r,cacheable:o}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(n){var i,r=0,o=[],s=Z(n),a=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return s[e](this[0]),this;for(;a>r;r++)i=(r>0?this.clone(!0):this).get(),Z(s[r])[e](i),o=o.concat(i);return this.pushStack(o,t,s.selector)}}),Z.extend({clone:function(t,e,n){var i,r,o,s;if(Z.support.html5Clone||Z.isXMLDoc(t)||!Ge.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(en.innerHTML=t.outerHTML,en.removeChild(s=en.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(p(t,s),i=f(t),r=f(s),o=0;i[o];++o)r[o]&&p(i[o],r[o]);if(e&&(d(t,s),n))for(i=f(t),r=f(s),o=0;i[o];++o)d(i[o],r[o]);return i=r=null,s},clean:function(t,e,n,i){var r,o,s,a,l,c,h,d,p,f,g,v=e===B&&tn,y=[];for(e&&"undefined"!=typeof e.createDocumentFragment||(e=B),r=0;null!=(s=t[r]);r++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Ve.test(s)){for(v=v||u(e),h=e.createElement("div"),v.appendChild(h),s=s.replace(We,"<$1></$2>"),a=(Ue.exec(s)||["",""])[1].toLowerCase(),l=Je[a]||Je._default,c=l[0],h.innerHTML=l[1]+s+l[2];c--;)h=h.lastChild;if(!Z.support.tbody)for(d=qe.test(s),p="table"!==a||d?"<table>"!==l[1]||d?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes,o=p.length-1;o>=0;--o)Z.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!Z.support.leadingWhitespace&&Be.test(s)&&h.insertBefore(e.createTextNode(Be.exec(s)[0]),h.firstChild),s=h.childNodes,h.parentNode.removeChild(h)}else s=e.createTextNode(s);s.nodeType?y.push(s):Z.merge(y,s)}if(h&&(s=h=v=null),!Z.support.appendChecked)for(r=0;null!=(s=y[r]);r++)Z.nodeName(s,"input")?m(s):"undefined"!=typeof s.getElementsByTagName&&Z.grep(s.getElementsByTagName("input"),m);if(n)for(f=function(t){return!t.type||Qe.test(t.type)?i?i.push(t.parentNode?t.parentNode.removeChild(t):t):n.appendChild(t):void 0},r=0;null!=(s=y[r]);r++)Z.nodeName(s,"script")&&f(s)||(n.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(g=Z.grep(Z.merge([],s.getElementsByTagName("script")),f),y.splice.apply(y,[r+1,0].concat(g)),r+=g.length));return y},cleanData:function(t,e){for(var n,i,r,o,s=0,a=Z.expando,l=Z.cache,c=Z.support.deleteExpando,u=Z.event.special;null!=(r=t[s]);s++)if((e||Z.acceptData(r))&&(i=r[a],n=i&&l[i])){if(n.events)for(o in n.events)u[o]?Z.event.remove(r,o):Z.removeEvent(r,o,n.handle);l[i]&&(delete l[i],c?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,Z.deletedIds.push(i))}}}),function(){var t,e;Z.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t=Z.uaMatch(U.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),Z.browser=e,Z.sub=function(){function t(e,n){return new t.fn.init(e,n)}Z.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,i){return i&&i instanceof Z&&!(i instanceof t)&&(i=t(i)),Z.fn.init.call(this,n,i,e)},t.fn.init.prototype=t.fn;var e=t(B);return t}}();var nn,rn,on,sn=/alpha\([^)]*\)/i,an=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,cn=/^(none|table(?!-c[ea]).+)/,un=/^margin/,hn=new RegExp("^("+J+")(.*)$","i"),dn=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),pn=new RegExp("^([-+])=("+J+")","i"),fn={BODY:"block"},mn={position:"absolute",visibility:"hidden",display:"block"},gn={letterSpacing:0,fontWeight:400},vn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=Z.fn.toggle;Z.fn.extend({css:function(t,n){return Z.access(this,function(t,n,i){return i!==e?Z.style(t,n,i):Z.css(t,n)},t,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(t,e){var n="boolean"==typeof t;return Z.isFunction(t)&&Z.isFunction(e)?bn.apply(this,arguments):this.each(function(){(n?t:v(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=nn(t,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,l=Z.camelCase(n),c=t.style;if(n=Z.cssProps[l]||(Z.cssProps[l]=g(c,l)),a=Z.cssHooks[n]||Z.cssHooks[l],i===e)return a&&"get"in a&&(o=a.get(t,!1,r))!==e?o:c[n];if(s=typeof i,"string"===s&&(o=pn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Z.css(t,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||Z.cssNumber[l]||(i+="px"),a&&"set"in a&&(i=a.set(t,i,r))===e)))try{c[n]=i}catch(u){}}},css:function(t,n,i,r){var o,s,a,l=Z.camelCase(n);return n=Z.cssProps[l]||(Z.cssProps[l]=g(t.style,l)),a=Z.cssHooks[n]||Z.cssHooks[l],a&&"get"in a&&(o=a.get(t,!0,r)),o===e&&(o=nn(t,n)),"normal"===o&&n in gn&&(o=gn[n]),i||r!==e?(s=parseFloat(o),i||Z.isNumeric(s)?s||0:o):o},swap:function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];i=n.call(t);for(r in e)t.style[r]=o[r];return i}}),t.getComputedStyle?nn=function(e,n){var i,r,o,s,a=t.getComputedStyle(e,null),l=e.style;return a&&(i=a.getPropertyValue(n)||a[n],""!==i||Z.contains(e.ownerDocument,e)||(i=Z.style(e,n)),dn.test(i)&&un.test(n)&&(r=l.width,o=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=a.width,l.width=r,l.minWidth=o,l.maxWidth=s)),i}:B.documentElement.currentStyle&&(nn=function(t,e){var n,i,r=t.currentStyle&&t.currentStyle[e],o=t.style;return null==r&&o&&o[e]&&(r=o[e]),dn.test(r)&&!ln.test(e)&&(n=o.left,i=t.runtimeStyle&&t.runtimeStyle.left,i&&(t.runtimeStyle.left=t.currentStyle.left),o.left="fontSize"===e?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(t.runtimeStyle.left=i)),""===r?"auto":r}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&cn.test(nn(t,"display"))?Z.swap(t,mn,function(){return w(t,e,i)}):w(t,e,i):void 0},set:function(t,n,i){return b(t,n,i?x(t,e,i,Z.support.boxSizing&&"border-box"===Z.css(t,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(t,e){return an.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=Z.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,e>=1&&""===Z.trim(o.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=sn.test(o)?o.replace(sn,r):o+" "+r)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(t,e){return Z.swap(t,{display:"inline-block"},function(){return e?nn(t,"marginRight"):void 0})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(t,e){Z.cssHooks[e]={get:function(t,n){if(n){var i=nn(t,e);return dn.test(i)?Z(t).position()[e]+"px":i}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(t){return 0===t.offsetWidth&&0===t.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||nn(t,"display"))},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],o={};for(i=0;4>i;i++)o[t+vn[i]+e]=r[i]||r[i-2]||r[0];return o}},un.test(t)||(Z.cssHooks[t+e].set=b)});var xn=/%20/g,wn=/\[\]$/,_n=/\r?\n/g,kn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Sn=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Sn.test(this.nodeName)||kn.test(this.type))}).map(function(t,e){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(t){return{name:e.name,value:t.replace(_n,"\r\n")}}):{name:e.name,value:n.replace(_n,"\r\n")}}).get()}}),Z.param=function(t,n){var i,r=[],o=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)
};if(n===e&&(n=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){o(this.name,this.value)});else for(i in t)k(i,t[i],n,o);return r.join("&").replace(xn,"+")};var Cn,Tn,Mn=/#.*$/,An=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,En=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Pn=/^(?:GET|HEAD)$/,Ln=/^\/\//,In=/\?/,Nn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,jn=/([?&])_=[^&]*/,Dn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,On=Z.fn.load,Fn={},Rn={},zn=["*/"]+["*"];try{Tn=W.href}catch(Hn){Tn=B.createElement("a"),Tn.href="",Tn=Tn.href}Cn=Dn.exec(Tn.toLowerCase())||[],Z.fn.load=function(t,n,i){if("string"!=typeof t&&On)return On.apply(this,arguments);if(!this.length)return this;var r,o,s,a=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),Z.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(o="POST"),Z.ajax({url:t,type:o,dataType:"html",data:n,complete:function(t,e){i&&a.each(i,s||[t.responseText,e,t])}}).done(function(t){s=arguments,a.html(r?Z("<div>").append(t.replace(Nn,"")).find(r):t)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.each(["get","post"],function(t,n){Z[n]=function(t,i,r,o){return Z.isFunction(i)&&(o=o||r,r=i,i=e),Z.ajax({type:n,url:t,data:i,success:r,dataType:o})}}),Z.extend({getScript:function(t,n){return Z.get(t,e,n,"script")},getJSON:function(t,e,n){return Z.get(t,e,n,"json")},ajaxSetup:function(t,e){return e?T(t,Z.ajaxSettings):(e=t,t=Z.ajaxSettings),T(t,e),t},ajaxSettings:{url:Tn,isLocal:En.test(Cn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":zn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:S(Fn),ajaxTransport:S(Rn),ajax:function(t,n){function i(t,n,i,s){var c,h,y,b,w,k=n;2!==x&&(x=2,l&&clearTimeout(l),a=e,o=s||"",_.readyState=t>0?4:0,i&&(b=M(d,_,i)),t>=200&&300>t||304===t?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(Z.lastModified[r]=w),w=_.getResponseHeader("Etag"),w&&(Z.etag[r]=w)),304===t?(k="notmodified",c=!0):(c=A(d,b),k=c.state,h=c.data,y=c.error,c=!y)):(y=k,(!k||t)&&(k="error",0>t&&(t=0))),_.status=t,_.statusText=(n||k)+"",c?m.resolveWith(p,[h,k,_]):m.rejectWith(p,[_,k,y]),_.statusCode(v),v=e,u&&f.trigger("ajax"+(c?"Success":"Error"),[_,d,c?h:y]),g.fireWith(p,[_,k]),u&&(f.trigger("ajaxComplete",[_,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var r,o,s,a,l,c,u,h,d=Z.ajaxSetup({},n),p=d.context||d,f=p!==d&&(p.nodeType||p instanceof Z)?Z(p):Z.event,m=Z.Deferred(),g=Z.Callbacks("once memory"),v=d.statusCode||{},y={},b={},x=0,w="canceled",_={readyState:0,setRequestHeader:function(t,e){if(!x){var n=t.toLowerCase();t=b[n]=b[n]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===x?o:null},getResponseHeader:function(t){var n;if(2===x){if(!s)for(s={};n=An.exec(o);)s[n[1].toLowerCase()]=n[2];n=s[t.toLowerCase()]}return n===e?null:n},overrideMimeType:function(t){return x||(d.mimeType=t),this},abort:function(t){return t=t||w,a&&a.abort(t),i(0,t),this}};if(m.promise(_),_.success=_.done,_.error=_.fail,_.complete=g.add,_.statusCode=function(t){if(t){var e;if(2>x)for(e in t)v[e]=[v[e],t[e]];else e=t[_.status],_.always(e)}return this},d.url=((t||d.url)+"").replace(Mn,"").replace(Ln,Cn[1]+"//"),d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().split(ee),null==d.crossDomain&&(c=Dn.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===Cn[1]&&c[2]===Cn[2]&&(c[3]||("http:"===c[1]?80:443))==(Cn[3]||("http:"===Cn[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),C(Fn,d,n,_),2===x)return _;if(u=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Pn.test(d.type),u&&0===Z.active++&&Z.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(In.test(d.url)?"&":"?")+d.data,delete d.data),r=d.url,d.cache===!1)){var k=Z.now(),S=d.url.replace(jn,"$1_="+k);d.url=S+(S===d.url?(In.test(d.url)?"&":"?")+"_="+k:"")}(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(r=r||d.url,Z.lastModified[r]&&_.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&_.setRequestHeader("If-None-Match",Z.etag[r])),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+zn+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)_.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,_,d)===!1||2===x))return _.abort();w="abort";for(h in{success:1,error:1,complete:1})_[h](d[h]);if(a=C(Rn,d,n,_)){_.readyState=1,u&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},d.timeout));try{x=1,a.send(y,i)}catch(T){if(!(2>x))throw T;i(-1,T)}}else i(-1,"No Transport");return _},active:0,lastModified:{},etag:{}});var Bn=[],Wn=/\?/,Un=/(=)\?(?=&|$)|\?\?/,qn=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Bn.pop()||Z.expando+"_"+qn++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.data,c=n.url,u=n.jsonp!==!1,h=u&&Un.test(c),d=u&&!h&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Un.test(l);return"jsonp"===n.dataTypes[0]||h||d?(o=n.jsonpCallback=Z.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,s=t[o],h?n.url=c.replace(Un,"$1"+o):d?n.data=l.replace(Un,"$1"+o):u&&(n.url+=(Wn.test(c)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||Z.error(o+" was not called"),a[0]},n.dataTypes[0]="json",t[o]=function(){a=arguments},r.always(function(){t[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,Bn.push(o)),a&&Z.isFunction(s)&&s(a[0]),a=s=e}),"script"):void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=B.head||B.getElementsByTagName("head")[0]||B.documentElement;return{send:function(r,o){n=B.createElement("script"),n.async="async",t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=e,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Vn,Xn=t.ActiveXObject?function(){for(var t in Vn)Vn[t](0,1)}:!1,Yn=0;Z.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&E()||P()}:E,function(t){Z.extend(Z.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(n){if(!n.crossDomain||Z.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(t,r){var a,c,u,h,d;try{if(i&&(r||4===l.readyState))if(i=e,s&&(l.onreadystatechange=Z.noop,Xn&&delete Vn[s]),r)4!==l.readyState&&l.abort();else{a=l.status,u=l.getAllResponseHeaders(),h={},d=l.responseXML,d&&d.documentElement&&(h.xml=d);try{h.text=l.responseText}catch(p){}try{c=l.statusText}catch(p){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(f){r||o(-1,f)}h&&o(a,c,h,u)},n.async?4===l.readyState?setTimeout(i,0):(s=++Yn,Xn&&(Vn||(Vn={},Z(t).unload(Xn)),Vn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Gn,$n,Kn=/^(?:toggle|show|hide)$/,Qn=new RegExp("^(?:([-+])=|)("+J+")([a-z%]*)$","i"),Zn=/queueHooks$/,Jn=[D],ti={"*":[function(t,e){var n,i,r=this.createTween(t,e),o=Qn.exec(e),s=r.cur(),a=+s||0,l=1,c=20;if(o){if(n=+o[2],i=o[3]||(Z.cssNumber[t]?"":"px"),"px"!==i&&a){a=Z.css(r.elem,t,!0)||n||1;do l=l||".5",a/=l,Z.style(r.elem,t,a+i);while(l!==(l=r.cur()/s)&&1!==l&&--c)}r.unit=i,r.start=a,r.end=o[1]?a+(o[1]+1)*n:n}return r}]};Z.Animation=Z.extend(N,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],ti[n]=ti[n]||[],ti[n].unshift(e)},prefilter:function(t,e){e?Jn.unshift(t):Jn.push(t)}}),Z.Tween=O,O.prototype={constructor:O,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var t=O.propHooks[this.prop];return t&&t.get?t.get(this):O.propHooks._default.get(this)},run:function(t){var e,n=O.propHooks[this.prop];return this.pos=e=this.options.duration?Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,!1,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.each(["toggle","show","hide"],function(t,e){var n=Z.fn[e];Z.fn[e]=function(i,r,o){return null==i||"boolean"==typeof i||!t&&Z.isFunction(i)&&Z.isFunction(r)?n.apply(this,arguments):this.animate(F(e,!0),i,r,o)}}),Z.fn.extend({fadeTo:function(t,e,n,i){return this.filter(v).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Z.isEmptyObject(t),o=Z.speed(e,n,i),s=function(){var e=N(this,Z.extend({},t),o);r&&e.stop(!0)};return r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=Z.timers,s=Z._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Zn.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(i),e=!1,o.splice(n,1));(e||!i)&&Z.dequeue(this,t)})}}),Z.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Z.speed=function(t,e,n){var i=t&&"object"==typeof t?Z.extend({},t):{complete:n||!n&&e||Z.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Z.isFunction(e)&&e};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.timers=[],Z.fx=O.prototype.init,Z.fx.tick=function(){var t,n=Z.timers,i=0;for(Gn=Z.now();i<n.length;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||Z.fx.stop(),Gn=e},Z.fx.timer=function(t){t()&&Z.timers.push(t)&&!$n&&($n=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval($n),$n=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length});var ei=/^(?:body|html)$/i;Z.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var n,i,r,o,s,a,l,c={top:0,left:0},u=this[0],h=u&&u.ownerDocument;if(h)return(i=h.body)===u?Z.offset.bodyOffset(u):(n=h.documentElement,Z.contains(n,u)?("undefined"!=typeof u.getBoundingClientRect&&(c=u.getBoundingClientRect()),r=R(h),o=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,a=r.pageYOffset||n.scrollTop,l=r.pageXOffset||n.scrollLeft,{top:c.top+a-o,left:c.left+l-s}):c)},Z.offset={bodyOffset:function(t){var e=t.offsetTop,n=t.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(Z.css(t,"marginTop"))||0,n+=parseFloat(Z.css(t,"marginLeft"))||0),{top:e,left:n}},setOffset:function(t,e,n){var i=Z.css(t,"position");"static"===i&&(t.style.position="relative");var r,o,s=Z(t),a=s.offset(),l=Z.css(t,"top"),c=Z.css(t,"left"),u=("absolute"===i||"fixed"===i)&&Z.inArray("auto",[l,c])>-1,h={},d={};u?(d=s.position(),r=d.top,o=d.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),Z.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):s.css(h)}},Z.fn.extend({position:function(){if(this[0]){var t=this[0],e=this.offsetParent(),n=this.offset(),i=ei.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(Z.css(t,"marginTop"))||0,n.left-=parseFloat(Z.css(t,"marginLeft"))||0,i.top+=parseFloat(Z.css(e[0],"borderTopWidth"))||0,i.left+=parseFloat(Z.css(e[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||B.body;t&&!ei.test(t.nodeName)&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||B.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i=/Y/.test(n);Z.fn[t]=function(r){return Z.access(this,function(t,r,o){var s=R(t);return o===e?s?n in s?s[n]:s.document.documentElement[r]:t[r]:void(s?s.scrollTo(i?Z(s).scrollLeft():o,i?o:Z(s).scrollTop()):t[r]=o)},t,r,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(t,n){Z.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,r){Z.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return Z.access(this,function(n,i,r){var o;return Z.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):r===e?Z.css(n,i,r,a):Z.style(n,i,r,a)},n,s?r:e,s,null)}})}),t.jQuery=t.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})}(window),/*!
 * jQuery UI Core 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(t,e){function n(e,n){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(s=t("img[usemap=#"+o+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,r,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function r(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?a["inner"+i].call(this):this.each(function(){t(this).css(s,r(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(s,r(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)}})}(jQuery),/*!
 * jQuery UI Widget 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(o){}r(e)},t.widget=function(e,n,i){var r,o,s,a,l={},c=e.split(".")[0];e=e.split(".")[1],r=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},o=t[c][e],s=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s)},t.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==e&&(n[r]=t.isPlainObject(o)?t.isPlainObject(n[r])?t.widget.extend({},n[r],o):t.widget.extend({},o):o);return n},t.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;t.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),c=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,this.each(a?function(){var i,r=t.data(this,o);return r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==e?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+s+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}:function(){var e=t.data(this,o);e?e.option(s||{})._init():t.data(this,o,new r(s,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(o=a[n]=t.widget.extend({},this.options[n]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(n=r.pop(),1===arguments.length)return o[n]===e?null:o[n];o[n]=i}else{if(1===arguments.length)return this.options[n]===e?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):n.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}})}(jQuery),/*!
 * jQuery UI Menu 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(t){t.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var n=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var n=t(e.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,o,s,a,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())}),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(e.keyCode),a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())})),i.length?(this.focus(e,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev("a"),r=t("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",i.attr("id"))}),e=i.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.height(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)}})}(jQuery),/*!
 * jQuery UI Mouse 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*!
 * jQuery UI Position 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(t,e){function n(t,e,n){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?n/100:1)]}function i(e,n){return parseInt(t.css(e,n),10)||0}function r(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return t("body").append(r),n=s.offsetWidth,r.css("overflow","scroll"),i=s.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),o=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,m,g,v,y,b=t(e.of),x=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(x),_=(e.collision||"flip").split(" "),k={};return y=r(b),b[0].preventDefault&&(e.at="left top"),p=y.width,m=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",t=h.exec(i[0]),n=h.exec(i[1]),k[this]=[t?t[0]:0,n?n[0]:0],e[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),o=n(k.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var r,c,u=t(this),h=u.outerWidth(),d=u.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),S=h+f+i(this,"marginRight")+w.width,C=d+y+i(this,"marginBottom")+w.height,T=t.extend({},v),M=n(k.my,u.outerWidth(),u.outerHeight());"right"===e.my[0]?T.left-=h:"center"===e.my[0]&&(T.left-=h/2),"bottom"===e.my[1]?T.top-=d:"center"===e.my[1]&&(T.top-=d/2),T.left+=M[0],T.top+=M[1],t.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),r={marginLeft:f,marginTop:y},t.each(["left","top"],function(n,i){t.ui.position[_[n]]&&t.ui.position[_[n]][i](T,{targetWidth:p,targetHeight:m,elemWidth:h,elemHeight:d,collisionPosition:r,collisionWidth:S,collisionHeight:C,offset:[o[0]+M[0],o[1]+M[1]],my:e.my,at:e.at,within:x,elem:u})}),e.using&&(c=function(t){var n=g.left-T.left,i=n+p-h,r=g.top-T.top,o=r+m-d,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:u,left:T.left,top:T.top,width:h,height:d},horizontal:0>i?"left":n>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};h>p&&a(n+i)<p&&(l.horizontal="center"),d>m&&a(r+o)<m&&(l.vertical="middle"),l.important=s(a(n),a(i))>s(a(r),a(o))?"horizontal":"vertical",e.using.call(this,t,l)}),u.offset(t.extend(T,{using:c}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,c=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&0>=c?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):t.left=c>0&&0>=l?r:l>c?r+o-e.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=s(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,c=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&0>=c?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):t.top=c>0&&0>=l?r:l>c?r+o-e.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-s-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(n=t.left+d+p+f+e.collisionWidth-s-o,(0>n||n<a(u))&&(t.left+=d+p+f)):h>0&&(i=t.left-e.collisionPosition.marginLeft+d+p+f-l,(i>0||a(i)<h)&&(t.left+=d+p+f))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-s-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(i=t.top+p+f+m+e.collisionHeight-s-o,t.top+p+f+m>u&&(0>i||i<a(u))&&(t.top+=p+f+m)):h>0&&(n=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>h&&(n>0||a(n)<h)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)e.style[o]=i[o];e.appendChild(a),n=s||document.documentElement,n.insertBefore(e,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=t(a).offset().left,t.support.offsetFractions=r>10&&11>r,e.innerHTML="",n.removeChild(e)}()}(jQuery),/*!
 * jQuery UI Autocomplete 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 *	jquery.ui.menu.js
 */
function(t){t.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o?!0:s?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(i){i.target===e.element[0]||i.target===n||t.contains(n,i.target)||e.close()})})},menufocus:function(e,n){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var i=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:i})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<a>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),/*!
 * jQuery UI Sortable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(t){function e(t,e,n){return t>e&&e+n>t}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),i&&(!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&l>i+c,d="y"===this.options.axis||e+u>o&&s>e+u,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=n&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var n=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(o=t(c[i]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=t(d[n]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,c=a.length;c>i;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(i){var r,o,s,a,l,c,u,h,d,p,f=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!t.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&t.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(s=1e4,a=null,p=f.floating||n(this.currentItem),l=p?"left":"top",c=p?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)t.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(h=this.items[o].item.offset()[l],d=!1,Math.abs(h-u)>Math.abs(h+this.items[o][c]-u)&&(d=!0,h+=this.items[o][c]),Math.abs(h-u)<s&&(s=Math.abs(h-u),a=this.items[o],this.direction=d?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(i,a,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}(jQuery),/*!
 * jQuery UI Draggable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var n=this.options;return this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;return r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n))):void(this.containment=null)},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(e){var n,i,r,o,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,c=e.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n){var i=t(this).data("ui-draggable"),r=i.options,o=t.extend({},n,{item:i.element});i.sortables=[],t(r.connectToSortable).each(function(){var n=t.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n){var i=t(this).data("ui-draggable"),r=t.extend({},n,{item:i.element});t.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,n){var i=t(this).data("ui-draggable"),r=this;t.each(i.sortables,function(){var o=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),n=t(this).data("ui-draggable").options;e.css("cursor")&&(n._cursor=e.css("cursor")),e.css("cursor",n.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n){var i=t(n.helper),r=t(this).data("ui-draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(e,n){var i=t(this).data("ui-draggable").options;i._opacity&&t(n.helper).css("opacity",i._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var n=t(this).data("ui-draggable"),i=n.options,r=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-t(document).scrollTop()<i.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<i.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-t(document).scrollLeft()<i.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<i.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+i.scrollSpeed)))),r!==!1&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),n=e.options;e.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=t(this),i=n.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(e,n){var i,r,o,s,a,l,c,u,h,d,p=t(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=n.offset.left,v=g+p.helperProportions.width,y=n.offset.top,b=y+p.helperProportions.height;for(h=p.snapElements.length-1;h>=0;h--)a=p.snapElements[h].left,l=a+p.snapElements[h].width,c=p.snapElements[h].top,u=c+p.snapElements[h].height,a-m>v||g>l+m||c-m>b||y>u+m||!t.contains(p.snapElements[h].item.ownerDocument,p.snapElements[h].item)?(p.snapElements[h].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(i=Math.abs(c-b)<=m,r=Math.abs(u-y)<=m,o=Math.abs(a-v)<=m,s=Math.abs(l-g)<=m,i&&(n.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),r&&(n.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=i||r||o||s,"outer"!==f.snapMode&&(i=Math.abs(c-y)<=m,r=Math.abs(u-b)<=m,o=Math.abs(a-g)<=m,s=Math.abs(l-v)<=m,i&&(n.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),r&&(n.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[h].snapping&&(i||r||o||s||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=i||r||o||s||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,n=this.data("ui-draggable").options,i=t.makeArray(t(n.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});i.length&&(e=parseInt(t(i[0]).css("zIndex"),10)||0,t(i).each(function(n){t(this).css("zIndex",e+n)}),this.css("zIndex",e+i.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n){var i=t(n.helper),r=t(this).data("ui-draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(e,n){var i=t(this).data("ui-draggable").options;i._zIndex&&t(n.helper).css("zIndex",i._zIndex)}})}(jQuery),/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 20112014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,i=t.ui.mouse.prototype,r=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(t){var i=this;!n&&i._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,i._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},i._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},i._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},i._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)},i._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)}}}(jQuery),function(t,e){var n=function(){var e=t._data(document,"events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};n()&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var r,o,s,a,l,c,u,h;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===e?null:a,c=n.data("with-credentials")||null,u=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),o=n.attr("action"),s=n.serializeArray();var d=n.data("ujs:submit-button");d&&(s.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),s=n.data("params")||null);h={type:r||"GET",data:s,dataType:u,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[t,r])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},xhrFields:{withCredentials:c},crossDomain:l},o&&(h.url=o);var p=i.ajax(h);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var r=i.href(n),o=n.data("method"),s=n.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==e&&a!==e&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),r=!1;return n?(i.fire(t,"confirm")&&(r=i.confirm(n),e=i.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,o,s=t(),a=n||"input,textarea",l=e.find(a);return l.each(function(){if(r=t(this),o=r.is(":checkbox,:radio")?r.is(":checked"):r.val(),!o==!i){if(r.is(":radio")&&l.filter('input:radio:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),o=!0;return r!==e&&r.submit!==e&&t.each(r.submit,function(t,e){return"function"==typeof e.handler?o=e.handler(i):void 0}),o},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var r=t(this),o=r.data("method"),s=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||o&&"GET"!==o||s))return!0;var a=i.handleRemote(r);return a===!1?i.enableElement(r):a.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var r=t(this),o=r.data("remote")!==e,s=i.blankInputs(r,i.requiredInputSelector),a=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(s&&r.attr("novalidate")==e&&i.fire(r,"ajax:aborted:required",[s]))return i.stopEverything(n);if(o){if(a){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return!t.support.submitBubbles&&t().jquery<"1.7"&&i.callFormSubmitBindings(r,n)===!1?i.stopEverything(n):(i.handleRemote(r),!1)}setTimeout(function(){i.disableFormElements(r)},13)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(){var t=this,e=t._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,s=i.push,a=i.slice,l=i.concat,c=r.toString,u=r.hasOwnProperty,h=i.forEach,d=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,x=Array.isArray,w=Object.keys,_=o.bind,k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):t._=k,k.VERSION="1.6.0";var S=k.each=k.forEach=function(t,e,i){if(null==t)return t;if(h&&t.forEach===h)t.forEach(e,i);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(i,t[r],r,t)===n)return}else for(var s=k.keys(t),r=0,o=s.length;o>r;r++)if(e.call(i,t[s[r]],s[r],t)===n)return;return t};k.map=k.collect=function(t,e,n){var i=[];return null==t?i:d&&t.map===d?t.map(e,n):(S(t,function(t,r,o){i.push(e.call(n,t,r,o))}),i)};var C="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return i&&(e=k.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(S(t,function(t,o,s){r?n=e.call(i,n,t,o,s):(n=t,r=!0)}),!r)throw new TypeError(C);return n},k.reduceRight=k.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return i&&(e=k.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=k.keys(t);o=s.length}if(S(t,function(a,l,c){l=s?s[--o]:--o,r?n=e.call(i,n,t[l],l,c):(n=t[l],r=!0)}),!r)throw new TypeError(C);return n},k.find=k.detect=function(t,e,n){var i;return T(t,function(t,r,o){return e.call(n,t,r,o)?(i=t,!0):void 0}),i},k.filter=k.select=function(t,e,n){var i=[];return null==t?i:m&&t.filter===m?t.filter(e,n):(S(t,function(t,r,o){e.call(n,t,r,o)&&i.push(t)}),i)},k.reject=function(t,e,n){return k.filter(t,function(t,i,r){return!e.call(n,t,i,r)},n)},k.every=k.all=function(t,e,i){e||(e=k.identity);var r=!0;return null==t?r:g&&t.every===g?t.every(e,i):(S(t,function(t,o,s){return(r=r&&e.call(i,t,o,s))?void 0:n}),!!r)};var T=k.some=k.any=function(t,e,i){e||(e=k.identity);var r=!1;return null==t?r:v&&t.some===v?t.some(e,i):(S(t,function(t,o,s){return r||(r=e.call(i,t,o,s))?n:void 0}),!!r)};k.contains=k.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):T(t,function(t){return t===e})},k.invoke=function(t,e){var n=a.call(arguments,2),i=k.isFunction(e);return k.map(t,function(t){return(i?e:t[e]).apply(t,n)})},k.pluck=function(t,e){return k.map(t,k.property(e))},k.where=function(t,e){return k.filter(t,k.matches(e))},k.findWhere=function(t,e){return k.find(t,k.matches(e))},k.max=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var i=-1/0,r=-1/0;return S(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;a>r&&(i=t,r=a)}),i},k.min=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var i=1/0,r=1/0;return S(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;r>a&&(i=t,r=a)}),i},k.shuffle=function(t){var e,n=0,i=[];return S(t,function(t){e=k.random(n++),i[n-1]=i[e],i[e]=t}),i},k.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,e))};var M=function(t){return null==t?k.identity:k.isFunction(t)?t:k.property(t)};k.sortBy=function(t,e,n){return e=M(e),k.pluck(k.map(t,function(t,i,r){return{value:t,index:i,criteria:e.call(n,t,i,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,n,i){var r={};return n=M(n),S(e,function(o,s){var a=n.call(i,o,s,e);t(r,a,o)}),r}};k.groupBy=A(function(t,e,n){k.has(t,e)?t[e].push(n):t[e]=[n]}),k.indexBy=A(function(t,e,n){t[e]=n}),k.countBy=A(function(t,e){k.has(t,e)?t[e]++:t[e]=1}),k.sortedIndex=function(t,e,n,i){n=M(n);for(var r=n.call(i,e),o=0,s=t.length;s>o;){var a=o+s>>>1;n.call(i,t[a])<r?o=a+1:s=a}return o},k.toArray=function(t){return t?k.isArray(t)?a.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:a.call(t,0,e)},k.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},k.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},k.rest=k.tail=k.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var E=function(t,e,n){return e&&k.every(t,k.isArray)?l.apply(n,t):(S(t,function(t){k.isArray(t)||k.isArguments(t)?e?s.apply(n,t):E(t,e,n):n.push(t)}),n)};k.flatten=function(t,e){return E(t,e,[])},k.without=function(t){return k.difference(t,a.call(arguments,1))},k.partition=function(t,e){var n=[],i=[];return S(t,function(t){(e(t)?n:i).push(t)}),[n,i]},k.uniq=k.unique=function(t,e,n,i){k.isFunction(e)&&(i=n,n=e,e=!1);var r=n?k.map(t,n,i):t,o=[],s=[];return S(r,function(n,i){(e?i&&s[s.length-1]===n:k.contains(s,n))||(s.push(n),o.push(t[i]))}),o},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(t){var e=a.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.contains(e,t)})})},k.difference=function(t){var e=l.apply(i,a.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){for(var t=k.max(k.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=k.pluck(arguments,""+n);return e},k.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},k.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},k.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},k.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,o=new Array(i);i>r;)o[r++]=t,t+=n;return o};var P=function(){};k.bind=function(t,e){var n,i;if(_&&t.bind===_)return _.apply(t,a.call(arguments,1));if(!k.isFunction(t))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(a.call(arguments)));P.prototype=t.prototype;var r=new P;P.prototype=null;var o=t.apply(r,n.concat(a.call(arguments)));return Object(o)===o?o:r}},k.partial=function(t){var e=a.call(arguments,1);return function(){for(var n=0,i=e.slice(),r=0,o=i.length;o>r;r++)i[r]===k&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},k.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return S(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var n={};return e||(e=k.identity),function(){var i=e.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},k.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(a.call(arguments,1)))},k.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:k.now(),s=null,o=t.apply(i,r),i=r=null};return function(){var c=k.now();a||n.leading!==!1||(a=c);var u=e-(c-a);return i=this,r=arguments,0>=u?(clearTimeout(s),s=null,a=c,o=t.apply(i,r),i=r=null):s||n.trailing===!1||(s=setTimeout(l,u)),o}},k.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var c=k.now()-s;e>c?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=k.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}},k.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},k.wrap=function(t,e){return k.partial(e,t)},k.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},k.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},k.keys=function(t){if(!k.isObject(t))return[];if(w)return w(t);var e=[];for(var n in t)k.has(t,n)&&e.push(n);return e},k.values=function(t){for(var e=k.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},k.pairs=function(t){for(var e=k.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},k.invert=function(t){for(var e={},n=k.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=function(t){return S(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},k.pick=function(t){var e={},n=l.apply(i,a.call(arguments,1));return S(n,function(n){n in t&&(e[n]=t[n])}),e},k.omit=function(t){var e={},n=l.apply(i,a.call(arguments,1));for(var r in t)k.contains(n,r)||(e[r]=t[r]);return e},k.defaults=function(t){return S(a.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t};var L=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var r=c.call(t);if(r!=c.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return i[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),i.push(e);var l=0,u=!0;if("[object Array]"==r){if(l=t.length,u=l==e.length)for(;l--&&(u=L(t[l],e[l],n,i)););}else{for(var h in t)if(k.has(t,h)&&(l++,!(u=k.has(e,h)&&L(t[h],e[h],n,i))))break;if(u){for(h in e)if(k.has(e,h)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};k.isEqual=function(t,e){return L(t,e,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=x||function(t){return"[object Array]"==c.call(t)},k.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(t){return"function"==typeof t}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return u.call(t,e)},k.noConflict=function(){return t._=e,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.property=function(t){return function(e){return e[t]}},k.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},k.times=function(t,e,n){for(var i=Array(Math.max(0,t)),r=0;t>r;r++)i[r]=e.call(n,r);return i},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},k.now=Date.now||function(){return(new Date).getTime()};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=k.invert(I.escape);var N={escape:new RegExp("["+k.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(I.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){return null==e?"":(""+e).replace(N[t],function(e){return I[t][e]})}}),k.result=function(t,e){if(null==t)return void 0;var n=t[e];return k.isFunction(n)?n.call(t):n},k.mixin=function(t){S(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),R.call(this,n.apply(k,t))}})};var j=0;k.uniqueId=function(t){var e=++j+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||D).source,(n.interpolate||D).source,(n.evaluate||D).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,function(e,n,i,r,a){return s+=t.slice(o,a).replace(F,function(t){return"\\"+O[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return i(e,k);var l=function(t){return i.call(this,t,k)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},k.chain=function(t){return k(t).chain()};var R=function(t){return this._chain?k(t).chain():t};k.mixin(k),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],R.call(this,n)}}),S(["concat","join","slice"],function(t){var e=i[t];k.prototype[t]=function(){return R.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),function(){var t;t=function(){function t(){}return t.version="1.2.0",t.registered_features={},t.featurettes_counter=0,t.register=function(t,e){return this.registered_features[t]=e},t.load=function(){var t,e,n,i,r,o,s,a,l,c,u,h;for(n=document.querySelectorAll("[data-featurette]"),e=[],a=0,c=n.length;c>a;a++)t=n[a],t.featuretteLoading||t.featurette||(e.push(t),t.featuretteLoading=!0);for(h=[],l=0,u=e.length;u>l;l++)t=e[l],i=t.getAttribute("data-featurette"),o=this.registered_features[i],o?(r=t.id,(null==r||""===r)&&(r="featurette-"+this.featurettes_counter,t.id=r),s=new o(t),t.featurette=s,h.push(this.featurettes_counter+=1)):h.push(window.console?console.log("Unknown featurette "+i):void 0);return h},t.get=function(t){var e;return null!=(e=document.getElementById(t))?e.featurette:void 0},t}(),window.Featurette=t}.call(this),/*

Uniform v2.1.2
Copyright  2009 Josh Pyles / Pixelmatrix Design LLC
http://pixelmatrixdesign.com

Requires jQuery 1.3 or newer

Much thanks to Thomas Reynolds and Buck Wilson for their help and advice on
this.

Disabling text selection is made possible by Mathias Bynens
<http://mathiasbynens.be/> and his noSelect plugin.
<https://github.com/mathiasbynens/jquery-noselect>, which is embedded.

Also, thanks to David Kaneda and Eugene Bond for their contributions to the
plugin.

Tyler Akins has also rewritten chunks of the plugin, helped close many issues,
and ensured version 2 got out the door.

License:
MIT License - http://www.opensource.org/licenses/mit-license.php

Enjoy!

*/
function(t,e,n){"use strict";function i(t){var e=Array.prototype.slice.call(arguments,1);return t.prop?t.prop.apply(t,e):t.attr.apply(t,e)}function r(t,e,n){var i,r;for(i in n)n.hasOwnProperty(i)&&(r=i.replace(/ |$/g,e.eventNamespace),t.bind(r,n[i]))}function o(t,e,n){r(t,n,{focus:function(){e.addClass(n.focusClass)},blur:function(){e.removeClass(n.focusClass),e.removeClass(n.activeClass)},mouseenter:function(){e.addClass(n.hoverClass)},mouseleave:function(){e.removeClass(n.hoverClass),e.removeClass(n.activeClass)},"mousedown touchbegin":function(){t.is(":disabled")||e.addClass(n.activeClass)},"mouseup touchend":function(){e.removeClass(n.activeClass)}})}function s(t,e){t.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass)}function a(t,e,n){n?t.addClass(e):t.removeClass(e)}function l(t,e,n){var i="checked",r=e.is(":"+i);e.prop?e.prop(i,r):r?e.attr(i,i):e.removeAttr(i),a(t,n.checkedClass,r)}function c(t,e,n){a(t,n.disabledClass,e.is(":disabled"))}function u(t,e,n){switch(n){case"after":return t.after(e),t.next();case"before":return t.before(e),t.prev();case"wrap":return t.wrap(e),t.parent()}return null}function h(t,n,r){var o,s,a;return r||(r={}),r=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},r),o=e("<div />"),s=e("<span />"),n.autoHide&&t.is(":hidden")&&"none"===t.css("display")&&o.hide(),r.divClass&&o.addClass(r.divClass),n.wrapperClass&&o.addClass(n.wrapperClass),r.spanClass&&s.addClass(r.spanClass),a=i(t,"id"),n.useID&&a&&i(o,"id",n.idPrefix+"-"+a),r.spanHtml&&s.html(r.spanHtml),o=u(t,o,r.divWrap),s=u(t,s,r.spanWrap),c(o,t,n),{div:o,span:s}}function d(t,n){var i;return n.wrapperClass?(i=e("<span />").addClass(n.wrapperClass),i=u(t,i,"wrap")):null}function p(){var n,i,r,o;return o="rgb(120,2,153)",i=e('<div style="width:0;height:0;color:'+o+'">'),e("body").append(i),r=i.get(0),n=t.getComputedStyle?t.getComputedStyle(r,"").color:(r.currentStyle||r.style||{}).color,i.remove(),n.replace(/ /g,"")!==o}function f(t){return t?e("<span />").text(t).html():""}function m(){return navigator.cpuClass&&!navigator.product}function g(){return void 0!==t.XMLHttpRequest?!0:!1}function v(t){var e;return t[0].multiple?!0:(e=i(t,"size"),!e||1>=e?!1:!0)}function y(){return!1}function b(t,e){var n="none";r(t,e,{"selectstart dragstart mousedown":y}),t.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function x(t,e,n){var i=t.val();""===i?i=n.fileDefaultHtml:(i=i.split(/[\/\\]+/),i=i[i.length-1]),e.text(i)}function w(t,e,n){var i,r;for(i=[],t.each(function(){var t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i.push({el:this,name:t,old:this.style[t]}),this.style[t]=e[t])}),n();i.length;)r=i.pop(),r.el.style[r.name]=r.old}function _(t,e){var n;n=t.parents(),n.push(t[0]),n=n.not(":visible"),w(n,{visibility:"hidden",display:"block",position:"absolute"},e)}function k(t,e){return function(){t.unwrap().unwrap().unbind(e.eventNamespace)}}var S=!0,C=!1,T=[{match:function(t){return t.is("a, button, :submit, :reset, input[type='button']")},apply:function(e,n){var a,l,u,d,p;return l=n.submitDefaultHtml,e.is(":reset")&&(l=n.resetDefaultHtml),d=e.is("a, button")?function(){return e.html()||l}:function(){return f(i(e,"value"))||l},u=h(e,n,{divClass:n.buttonClass,spanHtml:d()}),a=u.div,o(e,a,n),p=!1,r(a,n,{"click touchend":function(){var n,r,o,s;p||e.is(":disabled")||(p=!0,e[0].dispatchEvent?(n=document.createEvent("MouseEvents"),n.initEvent("click",!0,!0),r=e[0].dispatchEvent(n),e.is("a")&&r&&(o=i(e,"target"),s=i(e,"href"),o&&"_self"!==o?t.open(s,o):document.location.href=s)):e.click(),p=!1)}}),b(a,n),{remove:function(){return a.after(e),a.remove(),e.unbind(n.eventNamespace),e},update:function(){s(a,n),c(a,e,n),e.detach(),u.span.html(d()).append(e)}}}},{match:function(t){return t.is(":checkbox")},apply:function(t,e){var n,i,a;return n=h(t,e,{divClass:e.checkboxClass}),i=n.div,a=n.span,o(t,i,e),r(t,e,{"click touchend":function(){l(a,t,e)}}),l(a,t,e),{remove:k(t,e),update:function(){s(i,e),a.removeClass(e.checkedClass),l(a,t,e),c(i,t,e)}}}},{match:function(t){return t.is(":file")},apply:function(t,n){function a(){x(t,p,n)}var l,d,p,f;return l=h(t,n,{divClass:n.fileClass,spanClass:n.fileButtonClass,spanHtml:n.fileButtonHtml,spanWrap:"after"}),d=l.div,f=l.span,p=e("<span />").html(n.fileDefaultHtml),p.addClass(n.filenameClass),p=u(t,p,"after"),i(t,"size")||i(t,"size",d.width()/10),o(t,d,n),a(),m()?r(t,n,{click:function(){t.trigger("change"),setTimeout(a,0)}}):r(t,n,{change:a}),b(p,n),b(f,n),{remove:function(){return p.remove(),f.remove(),t.unwrap().unbind(n.eventNamespace)},update:function(){s(d,n),x(t,p,n),c(d,t,n)}}}},{match:function(t){if(t.is("input")){var e=(" "+i(t,"type")+" ").toLowerCase(),n=" color date datetime datetime-local email month number password search tel text time url week ";return n.indexOf(e)>=0}return!1},apply:function(t,e){var n,r;return n=i(t,"type"),t.addClass(e.inputClass),r=d(t,e),o(t,t,e),e.inputAddTypeAsClass&&t.addClass(n),{remove:function(){t.removeClass(e.inputClass),e.inputAddTypeAsClass&&t.removeClass(n),r&&t.unwrap()},update:y}}},{match:function(t){return t.is(":radio")},apply:function(t,n){var a,u,d;return a=h(t,n,{divClass:n.radioClass}),u=a.div,d=a.span,o(t,u,n),r(t,n,{"click touchend":function(){e.uniform.update(e(':radio[name="'+i(t,"name")+'"]'))}}),l(d,t,n),{remove:k(t,n),update:function(){s(u,n),l(d,t,n),c(u,t,n)}}}},{match:function(t){return t.is("select")&&!v(t)?!0:!1},apply:function(t,n){var i,a,l,u;return n.selectAutoWidth&&_(t,function(){u=t.width()}),i=h(t,n,{divClass:n.selectClass,spanHtml:(t.find(":selected:first")||t.find("option:first")).html(),spanWrap:"before"}),a=i.div,l=i.span,n.selectAutoWidth?_(t,function(){w(e([l[0],a[0]]),{display:"block"},function(){var t;t=l.outerWidth()-l.width(),a.width(u+t),l.width(u)})}):a.addClass("fixedWidth"),o(t,a,n),r(t,n,{change:function(){l.html(t.find(":selected").html()),a.removeClass(n.activeClass)},"click touchend":function(){var e=t.find(":selected").html();l.html()!==e&&t.trigger("change")},keyup:function(){l.html(t.find(":selected").html())}}),b(l,n),{remove:function(){return l.remove(),t.unwrap().unbind(n.eventNamespace),t},update:function(){n.selectAutoWidth?(e.uniform.restore(t),t.uniform(n)):(s(a,n),l.html(t.find(":selected").html()),c(a,t,n))}}}},{match:function(t){return t.is("select")&&v(t)?!0:!1},apply:function(t,e){var n;return t.addClass(e.selectMultiClass),n=d(t,e),o(t,t,e),{remove:function(){t.removeClass(e.selectMultiClass),n&&t.unwrap()},update:y}}},{match:function(t){return t.is("textarea")},apply:function(t,e){var n;return t.addClass(e.textareaClass),n=d(t,e),o(t,t,e),{remove:function(){t.removeClass(e.textareaClass),n&&t.unwrap()},update:y}}}];m()&&!g()&&(S=!1),e.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},e.fn.uniform=function(n){var i=this;return n=e.extend({},e.uniform.defaults,n),C||(C=!0,p()&&(S=!1)),S?(n.resetSelector&&e(n.resetSelector).mouseup(function(){t.setTimeout(function(){e.uniform.update(i)},10)}),this.each(function(){var t,i,r,o=e(this);if(o.data("uniformed"))return void e.uniform.update(o);for(t=0;t<T.length;t+=1)if(i=T[t],i.match(o,n))return r=i.apply(o,n),o.data("uniformed",r),void e.uniform.elements.push(o.get(0))})):this},e.uniform.restore=e.fn.uniform.restore=function(t){t===n&&(t=e.uniform.elements),e(t).each(function(){var t,n,i=e(this);n=i.data("uniformed"),n&&(n.remove(),t=e.inArray(this,e.uniform.elements),t>=0&&e.uniform.elements.splice(t,1),i.removeData("uniformed"))})},e.uniform.update=e.fn.uniform.update=function(t){t===n&&(t=e.uniform.elements),e(t).each(function(){var t,n=e(this);t=n.data("uniformed"),t&&t.update(n,t.options)})}}(this,jQuery),function(t){var e,n={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},i=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],r=t('<textarea tabindex="-1"/>').data("autosize",!0)[0];r.style.cssText="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;",r.style.lineHeight="99px","99px"===t(r).css("lineHeight")&&i.push("lineHeight"),r.style.lineHeight="",t.fn.autosize=function(o){return this.length?(o=t.extend({},n,o||{}),r.parentNode!==document.body&&t(document.body).append(r),this.each(function(){function n(){var e,n=window.getComputedStyle?window.getComputedStyle(d,null):null;n?(e=parseFloat(n.width),("border-box"===n.boxSizing||"border-box"===n.webkitBoxSizing||"border-box"===n.mozBoxSizing)&&t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,i){e-=parseFloat(n[i])})):e=p.width(),r.style.width=Math.max(e,0)+"px"}function s(){var s={};if(e=d,r.className=o.className,r.id=o.id,c=parseFloat(p.css("maxHeight")),t.each(i,function(t,e){s[e]=p.css(e)}),t(r).css(s).attr("wrap",p.attr("wrap")),n(),window.chrome){var a=d.style.width;d.style.width="0px";{d.offsetWidth}d.style.width=a}}function a(){var t,i;e!==d?s():n(),r.value=!d.value&&o.placeholder?p.attr("placeholder")||"":d.value,r.value+=o.append||"",r.style.overflowY=d.style.overflowY,i=parseFloat(d.style.height)||0,r.scrollTop=0,r.scrollTop=9e4,t=r.scrollTop,c&&t>c?(d.style.overflowY="scroll",t=c):(d.style.overflowY="hidden",u>t&&(t=u)),t+=f,Math.abs(i-t)>.01&&(d.style.height=t+"px",r.className=r.className,m&&o.callback.call(d,d),p.trigger("autosize.resized"))}function l(){clearTimeout(h),h=setTimeout(function(){var t=p.width();t!==v&&(v=t,a())},parseInt(o.resizeDelay,10))}var c,u,h,d=this,p=t(d),f=0,m=t.isFunction(o.callback),g={height:d.style.height,overflow:d.style.overflow,overflowY:d.style.overflowY,wordWrap:d.style.wordWrap,resize:d.style.resize},v=p.width(),y=p.css("resize");p.data("autosize")||(p.data("autosize",!0),("border-box"===p.css("box-sizing")||"border-box"===p.css("-moz-box-sizing")||"border-box"===p.css("-webkit-box-sizing"))&&(f=p.outerHeight()-p.height()),u=Math.max(parseFloat(p.css("minHeight"))-f||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===y?p.css("resize","none"):"both"===y&&p.css("resize","horizontal"),"onpropertychange"in d?"oninput"in d?p.on("input.autosize keyup.autosize",a):p.on("propertychange.autosize",function(){"value"===event.propertyName&&a()}):p.on("input.autosize",a),o.resizeDelay!==!1&&t(window).on("resize.autosize",l),p.on("autosize.resize",a),p.on("autosize.resizeIncludeStyle",function(){e=null,a()}),p.on("autosize.destroy",function(){e=null,clearTimeout(h),t(window).off("resize",l),p.off("autosize").off(".autosize").css(g).removeData("autosize")}),a())})):this}}(jQuery||$),/*
 * jquery.infieldlabel
 * A simple jQuery plugin for adding labels that sit over a form field and fade away when the fields are populated.
 * 
 * Copyright (c) 2009 - 2013 Doug Neiner <doug@dougneiner.com> (http://code.dougneiner.com)
 * Source: https://github.com/dcneiner/In-Field-Labels-jQuery-Plugin
 * Dual licensed MIT or GPL
 *   MIT (http://www.opensource.org/licenses/mit-license)
 *   GPL (http://www.opensource.org/licenses/gpl-license)
 *
 * @version 0.1.5
 */
function(t){t.InFieldLabels=function(e,n,i){var r=this;r.$label=t(e),r.label=e,r.$field=t(n),r.field=n,r.$label.data("InFieldLabels",r),r.showing=!0,r.init=function(){var e;r.options=t.extend({},t.InFieldLabels.defaultOptions,i),r.options.className&&r.$label.addClass(r.options.className),setTimeout(function(){""!==r.$field.val()?(r.$label.hide(),r.showing=!1):(r.$label.show(),r.showing=!0)},200),r.$field.focus(function(){r.fadeOnFocus()}).blur(function(){r.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(t){r.hideOnChange(t)}).bind("paste",function(){r.setOpacity(0)}).change(function(){r.checkForEmpty()}).bind("onPropertyChange",function(){r.checkForEmpty()}).bind("keyup.infieldlabel",function(){r.checkForEmpty()}),r.options.pollDuration>0&&(e=setInterval(function(){""!==r.$field.val()&&(r.$label.hide(),r.showing=!1,clearInterval(e))},r.options.pollDuration))},r.fadeOnFocus=function(){r.showing&&r.setOpacity(r.options.fadeOpacity)},r.setOpacity=function(t){r.$label.stop().animate({opacity:t},r.options.fadeDuration,function(){0===t&&r.$label.hide()}),r.showing=t>0},r.checkForEmpty=function(t){""===r.$field.val()?(r.prepForShow(),r.setOpacity(t?1:r.options.fadeOpacity)):r.setOpacity(0)},r.prepForShow=function(){r.showing||(r.$label.css({opacity:0}).show(),r.$field.bind("keydown.infieldlabel",function(t){r.hideOnChange(t)}))},r.hideOnChange=function(t){16!==t.keyCode&&9!==t.keyCode&&(r.showing&&(r.$label.hide(),r.showing=!1),r.$field.unbind("keydown.infieldlabel"))},r.init()},t.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300,pollDuration:0,enabledInputTypes:["text","search","tel","url","email","password","number","textarea"],className:!1},t.fn.inFieldLabels=function(e){var n=e&&e.enabledInputTypes||t.InFieldLabels.defaultOptions.enabledInputTypes;return this.each(function(){var i,r,o=t(this).attr("for");o&&(i=document.getElementById(o),i&&(r=t.inArray(i.type,n),(-1!==r||"TEXTAREA"===i.nodeName)&&new t.InFieldLabels(this,i,e)))})}}(jQuery),function(){var t;t=function(){function t(e,n){this.form_field=e,this.options=null!=n?n:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return t.prototype.set_default_values=function(){return this.click_test_action=function(t){return function(e){return t.test_active_click(e)}}(this),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){if(this.is_multiple){if(!this.active_field)return setTimeout(function(t){return function(){return t.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(t){return function(){return t.blur_test()}}(this),100))},t.prototype.results_option_build=function(t){var e,n,i,r,o;for(e="",o=this.results_data,i=0,r=o.length;r>i;i++)n=o[i],e+=n.group?this.result_add_group(n):this.result_add_option(n),(null!=t?t.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(n.text));return e},t.prototype.result_add_option=function(t){var e,n;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),n=document.createElement("li"),n.className=e.join(" "),n.style.cssText=t.style,n.setAttribute("data-option-array-index",t.array_index),n.innerHTML=t.search_text,this.outerHTML(n)):""},t.prototype.result_add_group=function(t){var e;return(t.search_match||t.group_match)&&t.active_options>0?(e=document.createElement("li"),e.className="group-result",e.innerHTML=t.search_text,this.outerHTML(e)):""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.reset_single_select_options=function(){var t,e,n,i,r;for(i=this.results_data,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.selected?t.selected=!1:void 0);return r},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,n,i,r,o,s,a,l,c,u,h,d;for(this.no_results_clear(),r=0,s=this.get_search_text(),t=s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=this.search_contains?"":"^",n=new RegExp(i+t,"i"),c=new RegExp(t,"i"),d=this.results_data,u=0,h=d.length;h>u;u++)e=d[u],e.search_match=!1,o=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(o=this.results_data[e.group_array_index],0===o.active_options&&o.search_match&&(r+=1),o.active_options+=1),(!e.group||this.group_search)&&(e.search_text=e.group?e.label:e.html,e.search_match=this.search_string_match(e.search_text,n),e.search_match&&!e.group&&(r+=1),e.search_match?(s.length&&(a=e.search_text.search(c),l=e.search_text.substr(0,a+s.length)+"</em>"+e.search_text.substr(a+s.length),e.search_text=l.substr(0,a)+"<em>"+l.substr(a)),null!=o&&(o.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>r&&s.length?(this.update_results_content(""),this.no_results(s)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.search_string_match=function(t,e){var n,i,r,o;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(i=t.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,o=i.length;o>r;r++)if(n=i[r],e.test(n))return!0},t.prototype.choices_count=function(){var t,e,n,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,e=0,n=i.length;n>e;e++)t=i[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(){return setTimeout(function(t){return function(){return t.results_search()}}(this),50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return this.is_multiple&&!this.display_selected_options&&t.selected?!1:!this.display_disabled_options&&t.disabled?!1:t.empty?!1:!0},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),window.AbstractChosen=t}.call(this),function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,n,i,r,o,s;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),o=t.childNodes,s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(this.add_option(n,e,t.disabled));return s},t.prototype.add_option=function(t,e,n){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:n===!0?n:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,n;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(n,function(t){return e[t]||"&amp;"})):t},t}(),t.select_to_array=function(e){var n,i,r,o,s;for(i=new t,s=e.childNodes,r=0,o=s.length;o>r;r++)n=s[r],i.add_node(n);return i.parsed},window.SelectParser=t}.call(this),function(){var t,e,n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=jQuery,t.fn.extend({chosen:function(n){return AbstractChosen.browser_is_supported()?this.each(function(){var i,r;i=t(this),r=i.data("chosen"),"destroy"===n&&r?r.destroy():r||i.data("chosen",new e(this,n))}):this}}),e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var e,n;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),n={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",n),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){return this.container.bind("mousedown.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.bind("mouseup.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.bind("mouseenter.chosen",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.bind("mouseleave.chosen",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.bind("mouseup.chosen",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.bind("mouseover.chosen",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.bind("mouseout.chosen",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.bind("touchstart.chosen",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.bind("touchmove.chosen",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.bind("touchend.chosen",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.bind("chosen:updated.chosen",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.bind("chosen:activate.chosen",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.bind("chosen:open.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.bind("chosen:close.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.bind("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.bind("keyup.chosen",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.bind("keydown.chosen",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.bind("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.bind("cut.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.bind("paste.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.bind("click.chosen",function(t){return function(e){t.choices_click(e)}}(this)):this.container.bind("click.chosen",function(t){t.preventDefault()})},n.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},n.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},n.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},n.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},n.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(e){var n;return n=t(e.target).closest(".chosen-container"),n.length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(t){var e,n,i,r,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),r=i+o,n=this.result_highlight.position().top+this.search_results.scrollTop(),e=n+this.result_highlight.outerHeight(),e>=r)return this.search_results.scrollTop(e-i>0?e-i:0);if(o>n)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(t){return this.search_results.html(t)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},n.prototype.set_label_behavior=function(){return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}}(this)):void 0},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(e){var n;return n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(e),this.search_field.focus()):void 0},n.prototype.search_results_mouseover=function(e){var n;return n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},n.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},n.prototype.choice_build=function(e){var n,i;return n=t("<li />",{"class":"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?n.addClass("search-choice-disabled"):(i=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),i.bind("click.chosen",function(t){return function(e){return t.choice_destroy_link_click(e)}}(this)),n.append(i)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},n.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},n.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(t){var e,n;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),n=this.results_data[e[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(n.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},n.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(t)},n.prototype.result_deselect=function(t){var e;return e=this.results_data[t],this.form_field.options[e.options_index].disabled?!1:(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},n.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},n.prototype.no_results=function(e){var n;return n=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(e),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var e,n,i,r,o,s,a,l,c;if(this.is_multiple){for(i=0,a=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=s.length;c>l;l++)r=s[l],o+=r+":"+this.search_field.css(r)+";";return e=t("<div />",{style:o}),e.text(this.search_field.val()),t("body").append(e),a=e.width()+25,e.remove(),n=this.container.outerWidth(),a>n-10&&(a=n-10),this.search_field.css({width:a+"px"})}},n}(AbstractChosen)}.call(this),/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return a.raw?t:encodeURIComponent(t)}function n(t){return a.raw?t:decodeURIComponent(t)}function i(t){return e(a.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),a.json?JSON.parse(t):t}catch(e){}}function o(e,n){var i=a.raw?e:r(e);return t.isFunction(n)?n(i):i}var s=/\+/g,a=t.cookie=function(r,s,l){if(void 0!==s&&!t.isFunction(s)){if(l=t.extend({},a.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*c)}return document.cookie=[e(r),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=r?void 0:{},d=document.cookie?document.cookie.split("; "):[],p=0,f=d.length;f>p;p++){var m=d[p].split("="),g=n(m.shift()),v=m.join("=");if(r&&r===g){h=o(v,s);break}r||void 0===(v=o(v))||(h[g]=v)}return h};a.defaults={},t.removeCookie=function(e,n){return void 0===t.cookie(e)?!1:(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),// copyright chris wanstrath
function(t){function e(e,i,r){var o=this;return this.on("click.pjax",e,function(e){var s=t.extend({},d(i,r));s.container||(s.container=t(this).attr("data-pjax")||o),n(e,s)})}function n(e,n,i){i=d(n,i);var o=e.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==o.protocol||location.hostname!==o.hostname||o.hash&&o.href.replace(o.hash,"")===location.href.replace(location.hash,"")||o.href===location.href+"#")){var s={url:o.href,container:t(o).attr("data-pjax"),target:o},a=t.extend({},s,i),l=t.Event("pjax:click");t(o).trigger(l,[a]),l.isDefaultPrevented()||(r(a),e.preventDefault())}}function i(e,n,i){i=d(n,i);var o=e.currentTarget;if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:o.method.toUpperCase(),url:o.action,data:t(o).serializeArray(),container:t(o).attr("data-pjax"),target:o};r(t.extend({},s,i)),e.preventDefault()}function r(e){function n(e,n){var r=t.Event(e,{relatedTarget:i});return a.trigger(r,n),!r.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,r.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var i=e.target,o=h(e.url).hash,a=e.context=p(e.container);e.data||(e.data={}),e.data._pjax=a.selector;var l;e.beforeSend=function(t,i){return"GET"!==i.type&&(i.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",a.selector),n("pjax:beforeSend",[t,i])?(i.timeout>0&&(l=setTimeout(function(){n("pjax:timeout",[t,e])&&t.abort("timeout")},i.timeout),i.timeout=0),void(e.requestUrl=h(i.url).href)):!1},e.complete=function(t,i){l&&clearTimeout(l),n("pjax:complete",[t,i,e]),n("pjax:end",[t,e])},e.error=function(t,i,r){var o=g("",t,e),a=n("pjax:error",[t,i,r,e]);"GET"==e.type&&"abort"!==i&&a&&s(o.url)},e.success=function(i,l,u){var d="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,p=u.getResponseHeader("X-PJAX-Version"),f=g(i,u,e);if(d&&p&&d!==p)return void s(f.url);if(!f.contents)return void s(f.url);r.state={id:e.id||c(),url:f.url,title:f.title,container:a.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(r.state,f.title,f.url),document.activeElement.blur(),f.title&&(document.title=f.title),a.html(f.contents);var m=a.find("input[autofocus], textarea[autofocus]").last()[0];if(m&&document.activeElement!==m&&m.focus(),v(f.scripts),"number"==typeof e.scrollTo&&t(window).scrollTop(e.scrollTo),""!==o){var y=h(f.url);y.hash=o,r.state.url=y.href,window.history.replaceState(r.state,f.title,y.href);var b=t(y.hash);b.length&&t(window).scrollTop(b.offset().top)}n("pjax:success",[i,l,u,e])},r.state||(r.state={id:c(),url:window.location.href,title:document.title,container:a.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(r.state,document.title));var d=r.xhr;d&&d.readyState<4&&(d.onreadystatechange=t.noop,d.abort()),r.options=e;var d=r.xhr=t.ajax(e);return d.readyState>0&&(e.push&&!e.replace&&(y(r.state.id,a.clone().contents()),window.history.pushState(null,"",u(e.requestUrl))),n("pjax:start",[d,e]),n("pjax:send",[d,e])),r.xhr}function o(e,n){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(t.extend(i,d(e,n)))}function s(t){window.history.replaceState(null,"","#"),window.location.replace(t)}function a(e){var n=e.state;if(n&&n.container){if(k&&S==n.url)return;if(r.state.id===n.id)return;var i=t(n.container);if(i.length){var o,a=T[n.id];r.state&&(o=r.state.id<n.id?"forward":"back",b(o,r.state.id,i.clone().contents()));var l=t.Event("pjax:popstate",{state:n,direction:o});i.trigger(l);var c={id:n.id,url:n.url,container:i,push:!1,fragment:n.fragment,timeout:n.timeout,scrollTo:!1};a?(i.trigger("pjax:start",[null,c]),n.title&&(document.title=n.title),i.html(a),r.state=n,i.trigger("pjax:end",[null,c])):r(c),i[0].offsetHeight}else s(location.href)}k=!1}function l(e){var n=t.isFunction(e.url)?e.url():e.url,i=e.type?e.type.toUpperCase():"GET",r=t("<form>",{method:"GET"===i?"GET":"POST",action:n,style:"display:none"});"GET"!==i&&"POST"!==i&&r.append(t("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=e.data;if("string"==typeof o)t.each(o.split("&"),function(e,n){var i=n.split("=");r.append(t("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if("object"==typeof o)for(key in o)r.append(t("<input>",{type:"hidden",name:key,value:o[key]}));t(document.body).append(r),r.submit()}function c(){return(new Date).getTime()}function u(t){return t.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function h(t){var e=document.createElement("a");return e.href=t,e}function d(e,n){return e&&n?n.container=e:n=t.isPlainObject(e)?e:{container:e},n.container&&(n.container=p(n.container)),n}function p(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function f(t,e){return t.filter(e).add(t.find(e))}function m(e){return t.parseHTML(e,document,!0)}function g(e,n,i){var r={};if(r.url=u(n.getResponseHeader("X-PJAX-URL")||i.requestUrl),/<html/i.test(e))var o=t(m(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),s=t(m(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var o=s=t(m(e));if(0===s.length)return r;if(r.title=f(o,"title").last().text(),i.fragment){if("body"===i.fragment)var a=s;else var a=f(s,i.fragment).first();a.length&&(r.contents=a.contents(),r.title||(r.title=a.attr("title")||a.data("title")))}else/<html/i.test(e)||(r.contents=s);return r.contents&&(r.contents=r.contents.not(function(){return t(this).is("title")}),r.contents.find("title").remove(),r.scripts=f(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=t.trim(r.title)),r}function v(e){if(e){var n=t("script[src]");e.each(function(){var e=this.src,i=n.filter(function(){return this.src===e});if(!i.length){var r=document.createElement("script");r.type=t(this).attr("type"),r.src=t(this).attr("src"),document.head.appendChild(r)}})}}function y(t,e){for(T[t]=e,A.push(t);M.length;)delete T[M.shift()];for(;A.length>r.defaults.maxCacheLength;)delete T[A.shift()]}function b(t,e,n){var i,r;T[e]=n,"forward"===t?(i=A,r=M):(i=M,r=A),i.push(e),(e=r.pop())&&delete T[e]}function x(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function w(){t.fn.pjax=e,t.pjax=r,t.pjax.enable=t.noop,t.pjax.disable=_,t.pjax.click=n,t.pjax.submit=i,t.pjax.reload=o,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:x},t(window).on("popstate.pjax",a)}function _(){t.fn.pjax=function(){return this},t.pjax=l,t.pjax.enable=w,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",a)}var k=!0,S=window.location.href,C=window.history.state;C&&C.container&&(r.state=C),"state"in window.history&&(k=!1);var T={},M=[],A=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),t.support.pjax?w():_()}(jQuery),function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,b=[].slice,x=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=jQuery,t.payment={},t.payment.fn={},t.fn.payment=function(){var e,n;return n=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],t.payment.fn[n].apply(this,e)},r=/(\d{1,4})/g,i=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:r,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:r,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:r,length:[13,16],cvcLength:[3],luhn:!0}],e=function(t){var e,n,r;for(t=(t+"").replace(/\D/g,""),n=0,r=i.length;r>n;n++)if(e=i[n],e.pattern.test(t))return e},n=function(t){var e,n,r;for(n=0,r=i.length;r>n;n++)if(e=i[n],e.type===t)return e},d=function(t){var e,n,i,r,o,s;for(i=!0,r=0,n=(t+"").split("").reverse(),o=0,s=n.length;s>o;o++)e=n[o],e=parseInt(e,10),(i=!i)&&(e*=2),e>9&&(e-=9),r+=e;return r%10===0},h=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document&&null!=(e=document.selection)&&"function"==typeof e.createRange?e.createRange().text:void 0)?!0:!1},p=function(e){return setTimeout(function(){return function(){var n,i;return n=t(e.currentTarget),i=n.val(),i=t.payment.formatCardNumber(i),n.val(i)}}(this))},a=function(n){var i,r,o,s,a,l,c;return o=String.fromCharCode(n.which),!/^\d+$/.test(o)||(i=t(n.currentTarget),c=i.val(),r=e(c+o),s=(c.replace(/\D/g,"")+o).length,l=16,r&&(l=r.length[r.length.length-1]),s>=l||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==c.length)?void 0:(a=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,a.test(c)?(n.preventDefault(),i.val(c+" "+o)):a.test(c+o)?(n.preventDefault(),i.val(c+o+" ")):void 0)},o=function(e){var n,i;return n=t(e.currentTarget),i=n.val(),e.meta||8!==e.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==i.length?void 0:/\d\s$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d\s$/,""))):/\s\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\d?$/,""))):void 0},l=function(e){var n,i,r;return i=String.fromCharCode(e.which),/^\d+$/.test(i)?(n=t(e.currentTarget),r=n.val()+i,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(e.preventDefault(),n.val("0"+r+" / ")):/^\d\d$/.test(r)?(e.preventDefault(),n.val(""+r+" / ")):void 0):void 0},c=function(e){var n,i,r;return i=String.fromCharCode(e.which),/^\d+$/.test(i)?(n=t(e.currentTarget),r=n.val(),/^\d\d$/.test(r)?n.val(""+r+" / "):void 0):void 0},u=function(e){var n,i,r;return i=String.fromCharCode(e.which),"/"===i?(n=t(e.currentTarget),r=n.val(),/^\d$/.test(r)&&"0"!==r?n.val("0"+r+" / "):void 0):void 0},s=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\/)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\/\s?\d?$/,""))):void 0},v=function(t){var e;return t.metaKey||t.ctrlKey?!0:32===t.which?!1:0===t.which?!0:t.which<33?!0:(e=String.fromCharCode(t.which),!!/[\d\s]/.test(e))},m=function(n){var i,r,o,s;return i=t(n.currentTarget),o=String.fromCharCode(n.which),/^\d+$/.test(o)&&!h(i)?(s=(i.val()+o).replace(/\D/g,""),r=e(s),r?s.length<=r.length[r.length.length-1]:s.length<=16):void 0},g=function(e){var n,i,r;return n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!h(n)?(r=n.val()+i,r=r.replace(/\D/g,""),r.length>6?!1:void 0):void 0},f=function(e){var n,i,r;return n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!h(n)?(r=n.val()+i,r.length<=4):void 0},y=function(e){var n,r,o,s,a;return n=t(e.currentTarget),a=n.val(),s=t.payment.cardType(a)||"unknown",n.hasClass(s)?void 0:(r=function(){var t,e,n;for(n=[],t=0,e=i.length;e>t;t++)o=i[t],n.push(o.type);return n}(),n.removeClass("unknown"),n.removeClass(r.join(" ")),n.addClass(s),n.toggleClass("identified","unknown"!==s),n.trigger("payment.cardType",s))},t.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",f),this},t.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",g),this.on("keypress",l),this.on("keypress",u),this.on("keypress",c),this.on("keydown",s),this},t.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this.on("keypress",a),this.on("keydown",o),this.on("keyup",y),this.on("paste",p),this},t.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this},t.payment.fn.cardExpiryVal=function(){return t.payment.cardExpiryVal(t(this).val())},t.payment.cardExpiryVal=function(t){var e,n,i,r;return t=t.replace(/\s/g,""),r=t.split("/",2),e=r[0],i=r[1],2===(null!=i?i.length:void 0)&&/^\d+$/.test(i)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),i=n+i),e=parseInt(e,10),i=parseInt(i,10),{month:e,year:i}},t.payment.validateCardNumber=function(t){var n,i;return t=(t+"").replace(/\s+|-/g,""),/^\d+$/.test(t)?(n=e(t),n?(i=t.length,x.call(n.length,i)>=0&&(n.luhn===!1||d(t))):!1):!1},t.payment.validateCardExpiry=function(){return function(e,n){var i,r,o,s;return"object"==typeof e&&"month"in e&&(s=e,e=s.month,n=s.year),e&&n?(e=t.trim(e),n=t.trim(n),/^\d+$/.test(e)&&/^\d+$/.test(n)&&parseInt(e,10)<=12?(2===n.length&&(o=(new Date).getFullYear(),o=o.toString().slice(0,2),n=o+n),r=new Date(n,e),i=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>i):!1):!1}}(this),t.payment.validateCardCVC=function(e,i){var r,o;return e=t.trim(e),/^\d+$/.test(e)?i?(r=e.length,x.call(null!=(o=n(i))?o.cvcLength:void 0,r)>=0):e.length>=3&&e.length<=4:!1},t.payment.cardType=function(t){var n;return t?(null!=(n=e(t))?n.type:void 0)||null:null},t.payment.formatCardNumber=function(t){var n,i,r,o;return(n=e(t))?(r=n.length[n.length.length-1],t=t.replace(/\D/g,""),t=t.slice(0,+r+1||9e9),n.format.global?null!=(o=t.match(n.format))?o.join(" "):void 0:(i=n.format.exec(t),null!=i&&i.shift(),null!=i?i.join(" "):void 0)):t}}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e){var n={},i=/^jQuery\d+$/;return t.each(e.attributes,function(t,e){e.specified&&!i.test(e.name)&&(n[e.name]=e.value)}),n}function n(e,n){var i=this,o=t(i);if(i.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().nextAll('input[type="password"]:first').show().attr("id",o.removeAttr("id").data("placeholder-id")),e===!0)return o[0].value=n;o.focus()}else i.value="",o.removeClass("placeholder"),i==r()&&i.select()}function i(){var i,r=this,o=t(r),s=this.id;if(""===r.value){if("password"===r.type){if(!o.data("placeholder-textinput")){try{i=o.clone().attr({type:"text"})}catch(a){i=t("<input>").attr(t.extend(e(this),{type:"text"}))}i.removeAttr("name").data({"placeholder-password":o,"placeholder-id":s}).bind("focus.placeholder",n),o.data({"placeholder-textinput":i,"placeholder-id":s}).before(i)}o=o.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",s).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function r(){try{return document.activeElement}catch(t){}}var o,s,a="[object OperaMini]"==Object.prototype.toString.call(window.operamini),l="placeholder"in document.createElement("input")&&!a,c="placeholder"in document.createElement("textarea")&&!a,u=t.valHooks,h=t.propHooks;l&&c?(s=t.fn.placeholder=function(){return this},s.input=s.textarea=!0):(s=t.fn.placeholder=function(){var t=this;return t.filter((l?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":n,"blur.placeholder":i}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},s.input=l,s.textarea=c,o={get:function(e){var n=t(e),i=n.data("placeholder-password");return i?i[0].value:n.data("placeholder-enabled")&&n.hasClass("placeholder")?"":e.value},set:function(e,o){var s=t(e),a=s.data("placeholder-password");return a?a[0].value=o:s.data("placeholder-enabled")?(""===o?(e.value=o,e!=r()&&i.call(e)):s.hasClass("placeholder")?n.call(e,!0,o)||(e.value=o):e.value=o,s):e.value=o}},l||(u.input=o,h.value=o),c||(u.textarea=o,h.value=o),t(function(){t(document).delegate("form","submit.placeholder",function(){var e=t(".placeholder",this).each(n);setTimeout(function(){e.each(i)},10)})}),t(window).bind("beforeunload.placeholder",function(){t(".placeholder").each(function(){this.value=""})}))}),/*
 * jQuery Hotkeys Plugin
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Based upon the plugin by Tzury Bar Yochay:
 * http://github.com/tzuryby/hotkeys
 *
 * Original idea by:
 * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
*/
function(t){function e(e){if("string"==typeof e.data){var n=e.handler,i=e.data.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!/textarea|select/i.test(e.target.nodeName)&&"text"!==e.target.type){var r="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],o=String.fromCharCode(e.which).toLowerCase(),s="",a={};e.altKey&&"alt"!==r&&(s+="alt+"),e.ctrlKey&&"ctrl"!==r&&(s+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==r&&(s+="meta+"),e.shiftKey&&"shift"!==r&&(s+="shift+"),r?a[s+r]=!0:(a[s+o]=!0,a[s+t.hotkeys.shiftNums[o]]=!0,"shift+"===s&&(a[t.hotkeys.shiftNums[o]]=!0));for(var l=0,c=i.length;c>l;l++)if(a[i[l]])return n.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery),function(t,e){var n={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},i={triggerChar:"@",onDataRequest:t.noop,minChars:2,showAvatars:!0,elastic:!0,insertSpaceAfterMention:!0,classes:{autoCompleteItemActive:"active"},templates:{wrapper:e.template('<div class="mentions-input-box"></div>'),autocompleteList:e.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:e.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:e.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:e.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:e.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:e.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:e.template("<strong><span><%= value %></span></strong>")}},r={htmlEncode:function(t){return e.escape(t)},highlightTerm:function(t,e){return e||e.length?t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):t},setCaratPosition:function(t,e){if(t.createTextRange){var n=t.createTextRange();n.move("character",e),n.select()}else t.selectionStart?(t.focus(),t.setSelectionRange(e,e)):t.focus()},rtrim:function(t){return t.replace(/\s+$/,"")}},o=function(o){function s(){T=t(C),"true"!=T.attr("data-mentions-input")&&(M=T.parent(),E=t(o.templates.wrapper()),T.wrapAll(E),E=M.find("> div"),T.attr("data-mentions-input","true"),T.bind("keydown",b),T.bind("keypress",y),T.bind("input",v),T.bind("click",m),T.bind("blur",g),o.elastic&&T.elastic())}function a(){A=t(o.templates.autocompleteList()),A.appendTo(E),A.delegate("li","mousedown",f)}function l(){P=t(o.templates.mentionsOverlay()),P.prependTo(E)}function c(){var t=p();e.each(N,function(e){var n=o.templates.mentionItemSyntax(e);t=t.replace(e.value,n)});var n=r.htmlEncode(t);e.each(N,function(t){var i=e.extend({},t,{value:r.htmlEncode(t.value)}),s=o.templates.mentionItemSyntax(i),a=o.templates.mentionItemHighlight(i);n=n.replace(s,a)}),n=n.replace(/\n/g,"<br />"),n=n.replace(/ {2}/g,"&nbsp; "),T.data("messageText",t),P.find("div").html(n)}function u(){D=[]}function h(){var t=p();N=e.reject(N,function(e){return!e.value||-1==t.indexOf(e.value)}),N=e.compact(N)}function d(t){var e=p(),n=new RegExp("\\"+o.triggerChar+I,"gi");if(match=n.exec(e)){var i=n.lastIndex-I.length-1,s=n.lastIndex,a=e.substr(0,i),l=e.substr(s,e.length),h=(a+t.value).length;o.insertSpaceAfterMention&&(h+=1),N.push(t),u(),I="",x();var d=a+t.value;o.insertSpaceAfterMention&&(d+=" "),d+=l,T.val(d),c(),T.focus(),r.setCaratPosition(T[0],h)}}function p(){return t.trim(T.val())}function f(){var e=t(this),n=j[e.attr("data-uid")];return d(n),!1}function m(){u()}function g(){x()}function v(){c(),h();var t=e.lastIndexOf(D,o.triggerChar);t>-1&&(I=D.slice(t+1).join(""),I=r.rtrim(I),e.defer(e.bind(k,this,I)))}function y(t){if(t.keyCode!==n.BACKSPACE){var e=String.fromCharCode(t.which||t.keyCode);D.push(e)}}function b(i){if(i.keyCode==n.LEFT||i.keyCode==n.RIGHT||i.keyCode==n.HOME||i.keyCode==n.END)return e.defer(u),void(navigator.userAgent.indexOf("MSIE 9")>-1&&e.defer(c));if(i.keyCode==n.BACKSPACE)return void(D=D.slice(0,-1+D.length));if(!A.is(":visible"))return!0;switch(i.keyCode){case n.UP:case n.DOWN:var r=null;return r=i.keyCode==n.DOWN?L&&L.length?L.next():A.find("li").first():t(L).prev(),r.length&&w(r),!1;case n.RETURN:case n.TAB:return L&&L.length?(L.trigger("mousedown"),!1):!0}return!0}function x(){L=null,A.empty().hide()}function w(t){t.addClass(o.classes.autoCompleteItemActive),t.siblings().removeClass(o.classes.autoCompleteItemActive),L=t}function _(n,i){A.show();var s=e.pluck(N,"value");if(i=e.reject(i,function(t){return e.include(s,t.name)}),!i.length)return void x();A.empty();var a=t("<ul>").appendTo(A).hide();e.each(i,function(i,s){var l=e.uniqueId("mention_");j[l]=e.extend({},i,{value:i.name});var c=t(o.templates.autocompleteListItem({id:r.htmlEncode(i.id),display:r.htmlEncode(i.name),type:r.htmlEncode(i.type),username:r.highlightTerm(r.htmlEncode(i.username),n),content:r.highlightTerm(r.htmlEncode(i.name),n)})).attr("data-uid",l);if(0===s&&w(c),o.showAvatars){var u;u=t(i.avatar?o.templates.autocompleteListItemAvatar({avatar:i.avatar,type:i.type}):o.templates.autocompleteListItemIcon({icon:i.icon})),u.prependTo(c.find("a"))}c=c.appendTo(a)}),A.show(),a.show()}function k(t){t&&t.length&&t.length>=o.minChars?o.onDataRequest.call(this,"search",t,function(e){_(t,e)}):x()}function S(){T.val(""),N=[],c()}var C,T,M,A,E,P,L,I,N=[],j={},D=[];return o=t.extend(!0,{},i,o),{init:function(t){C=t,s(),a(),l(),S(),o.prefillMention&&d(o.prefillMention)},val:function(t){if(e.isFunction(t)){var n=N.length?T.data("messageText"):p();t.call(this,n)}},reset:function(){S()},getMentions:function(t){e.isFunction(t)&&t.call(this,N)},setMentions:function(t,n){T.val(t),insertSpace=o.insertSpaceAfterMention,o.insertSpaceAfterMention=!1,e.each(n,function(t){t.value=t.name,I=t.value,d(t)}),o.insertSpaceAfterMention=insertSpace}}};t.fn.mentionsInput=function(n,i){var r=arguments;return"object"!=typeof n&&n||(i=n),this.each(function(){var s=t.data(this,"mentionsInput")||t.data(this,"mentionsInput",new o(i));return e.isFunction(s[n])?s[n].apply(this,Array.prototype.slice.call(r,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist"):s.init.call(this,this)})}}(jQuery,_),/*!
 * Tinycon - A small library for manipulating the Favicon
 * Tom Moor, http://tommoor.com
 * Copyright (c) 2012 Tom Moor
 * @license MIT Licensed
 * @version 0.6.3
 */
function(){var t={},e=null,n=null,i=null,r=null,o={},s=window.devicePixelRatio||1,a=16*s,l={width:7,height:9,font:10*s+"px arial",colour:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},c=function(){var t=navigator.userAgent.toLowerCase();return function(e){return-1!==t.indexOf(e)}}(),u={ie:c("msie"),chrome:c("chrome"),webkit:c("chrome")||c("safari"),safari:c("safari")&&!c("chrome"),mozilla:c("mozilla")&&!c("chrome")&&!c("safari")},h=function(){for(var t=document.getElementsByTagName("link"),e=0,n=t.length;n>e;e++)if((t[e].getAttribute("rel")||"").match(/\bicon\b/))return t[e];return!1},d=function(){for(var t=document.getElementsByTagName("link"),e=document.getElementsByTagName("head")[0],n=0,i=t.length;i>n;n++){var r="undefined"!=typeof t[n];r&&(t[n].getAttribute("rel")||"").match(/\bicon\b/)&&e.removeChild(t[n])}},p=function(){if(!n||!e){var t=h();n=e=t?t.getAttribute("href"):"/favicon.ico"}return e},f=function(){return r||(r=document.createElement("canvas"),r.width=a,r.height=a),r},m=function(t){d();var e=document.createElement("link");e.type="image/x-icon",e.rel="icon",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)},g=function(t,e){if(!f().getContext||u.ie||u.safari||"force"===o.fallback)return v(t);var n=f().getContext("2d"),e=e||"#000000",r=p();i=document.createElement("img"),i.onload=function(){n.clearRect(0,0,a,a),n.drawImage(i,0,0,i.width,i.height,0,0,a,a),(t+"").length>0&&y(n,t,e),b()},!r.match(/^data/)&&o.crossOrigin&&(i.crossOrigin="anonymous"),i.src=r},v=function(t){if(o.fallback){var e=document.title;"("===e[0]&&(e=e.slice(e.indexOf(" "))),document.title=(t+"").length>0?"("+t+") "+e:e}},y=function(t,e){"number"==typeof e&&e>99&&o.abbreviate&&(e=x(e));var n=(e+"").length-1,i=o.width*s+6*s*n,r=o.height*s,l=a-r,c=a-i-s,h=16*s,d=16*s,p=2*s;t.font=(u.webkit?"bold ":"")+o.font,t.fillStyle=o.background,t.strokeStyle=o.background,t.lineWidth=s,t.beginPath(),t.moveTo(c+p,l),t.quadraticCurveTo(c,l,c,l+p),t.lineTo(c,h-p),t.quadraticCurveTo(c,h,c+p,h),t.lineTo(d-p,h),t.quadraticCurveTo(d,h,d,h-p),t.lineTo(d,l+p),t.quadraticCurveTo(d,l,d-p,l),t.closePath(),t.fill(),t.beginPath(),t.strokeStyle="rgba(0,0,0,0.3)",t.moveTo(c+p/2,h),t.lineTo(d-p/2,h),t.stroke(),t.fillStyle=o.colour,t.textAlign="right",t.textBaseline="top",t.fillText(e,2===s?29:15,u.mozilla?7*s:6*s)},b=function(){f().getContext&&m(f().toDataURL())},x=function(t){for(var e=[["G",1e9],["M",1e6],["k",1e3]],n=0;n<e.length;++n)if(t>=e[n][1]){t=w(t/e[n][1])+e[n][0];break}return t},w=function(t,e){var n=new Number(t);return n.toFixed(e)};t.setOptions=function(t){o={};for(var e in l)o[e]=t.hasOwnProperty(e)?t[e]:l[e];return this},t.setImage=function(t){return e=t,b(),this},t.setBubble=function(t,e){return t=t||"",g(t,e),this},t.reset=function(){m(n)},t.setOptions(l),window.Tinycon=t,"function"==typeof define&&define.amd&&define(t)}(),/*!
 * Chart.js
 * http://chartjs.org/
 *
 * Copyright 2013 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
window.Chart=function(t){function e(t,e,n){var i=e.steps*e.stepValue,r=t-e.graphMin,o=c(r/i,1,0);return n*e.steps*o}function n(t,e,n,i){function r(){var r=t.animation?c(a(l),null,0):1;v(i),t.scaleOverlay?(n(r),e()):(e(),n(r))}function o(){l+=s,r(),1>=l?S(o):"function"==typeof t.onAnimationComplete&&t.onAnimationComplete()}var s=t.animation?1/c(t.animationSteps,Number.MAX_VALUE,1):1,a=f[t.animationEasing],l=t.animation?0:1;"function"!=typeof e&&(e=function(){}),S(o)}function i(t,e,n,i,o,s){function a(t){return Math.floor(Math.log(t)/Math.LN10)}var l,c,u,h,d,p,f;for(p=i-o,f=a(p),l=Math.floor(o/(1*Math.pow(10,f)))*Math.pow(10,f),c=Math.ceil(i/(1*Math.pow(10,f)))*Math.pow(10,f),u=c-l,h=Math.pow(10,f),d=Math.round(u/h);n>d||d>e;)n>d?(h/=2,d=Math.round(u/h)):(h*=2,d=Math.round(u/h));var m=[];return r(s,m,d,l,h),{steps:d,stepValue:h,graphMin:l,labels:m}}function r(t,e,n,i,r){if(t)for(var o=1;n+1>o;o++)e.push(d(t,{value:(i+r*o).toFixed(u(r))}))}function o(t){return Math.max.apply(Math,t)}function s(t){return Math.min.apply(Math,t)}function a(t,e){return t?t:e}function l(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(t,e,n){return l(e)&&t>e?e:l(n)&&n>t?n:t}function u(t){return t%1!=0?t.toString().split(".")[1].length:0}function h(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}function d(t,e){var n=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):C[t]=C[t]||d(document.getElementById(t).innerHTML);return e?n(e):n}var p=this,f={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0==t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1==t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0==t?0:1==t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;if(0==t)return 0;if(1==(t/=1))return 1;if(n||(n=.3),i<Math.abs(1)){i=1;var e=n/4}else var e=n/(2*Math.PI)*Math.asin(1/i);return-(i*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;if(0==t)return 0;if(1==(t/=1))return 1;if(n||(n=.3),i<Math.abs(1)){i=1;var e=n/4}else var e=n/(2*Math.PI)*Math.asin(1/i);return i*Math.pow(2,-10*t)*Math.sin(2*(1*t-e)*Math.PI/n)+1},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;if(0==t)return 0;if(2==(t/=.5))return 1;if(n||(n=.3*1.5),i<Math.abs(1)){i=1;var e=n/4}else var e=n/(2*Math.PI)*Math.asin(1/i);return 1>t?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n):i*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n)*.5+1},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-f.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*f.easeInBounce(2*t):.5*f.easeOutBounce(2*t-1)+.5}},m=t.canvas.width,g=t.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=m+"px",t.canvas.style.height=g+"px",t.canvas.height=g*window.devicePixelRatio,t.canvas.width=m*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(e,n){p.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?h(p.PolarArea.defaults,n):p.PolarArea.defaults;return new y(e,i,t)},this.Radar=function(e,n){p.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?h(p.Radar.defaults,n):p.Radar.defaults;return new b(e,i,t)},this.Pie=function(e,n){p.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?h(p.Pie.defaults,n):p.Pie.defaults;return new x(e,i,t)},this.Doughnut=function(e,n){p.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?h(p.Doughnut.defaults,n):p.Doughnut.defaults;return new w(e,i,t)},this.Line=function(e,n){p.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?h(p.Line.defaults,n):p.Line.defaults;return new _(e,i,t)},this.Bar=function(e,n){p.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?h(p.Bar.defaults,n):p.Bar.defaults;return new k(e,i,t)};var v=function(t){t.clearRect(0,0,m,g)},y=function(t,l,c){function u(){f=s([m,g])/2,f-=o([.5*l.scaleFontSize,.5*l.scaleLineWidth]),b=2*l.scaleFontSize,l.scaleShowLabelBackdrop&&(b+=2*l.scaleBackdropPaddingY,f-=1.5*l.scaleBackdropPaddingY),x=f,b=a(b,5)}function h(){for(var t=0;t<y.steps;t++)if(l.scaleShowLine&&(c.beginPath(),c.arc(m/2,g/2,v*(t+1),0,2*Math.PI,!0),c.strokeStyle=l.scaleLineColor,c.lineWidth=l.scaleLineWidth,c.stroke()),l.scaleShowLabels){c.textAlign="center",c.font=l.scaleFontStyle+" "+l.scaleFontSize+"px "+l.scaleFontFamily;var e=y.labels[t];if(l.scaleShowLabelBackdrop){var n=c.measureText(e).width;c.fillStyle=l.scaleBackdropColor,c.beginPath(),c.rect(Math.round(m/2-n/2-l.scaleBackdropPaddingX),Math.round(g/2-v*(t+1)-.5*l.scaleFontSize-l.scaleBackdropPaddingY),Math.round(n+2*l.scaleBackdropPaddingX),Math.round(l.scaleFontSize+2*l.scaleBackdropPaddingY)),c.fill()}c.textBaseline="middle",c.fillStyle=l.scaleFontColor,c.fillText(e,m/2,g/2-v*(t+1))}}function d(n){var i=-Math.PI/2,r=2*Math.PI/t.length,o=1,s=1;l.animation&&(l.animateScale&&(o=n),l.animateRotate&&(s=n));for(var a=0;a<t.length;a++)c.beginPath(),c.arc(m/2,g/2,o*e(t[a].value,y,v),i,i+s*r,!1),c.lineTo(m/2,g/2),c.closePath(),c.fillStyle=t[a].color,c.fill(),l.segmentShowStroke&&(c.strokeStyle=l.segmentStrokeColor,c.lineWidth=l.segmentStrokeWidth,c.stroke()),i+=s*r}function p(){for(var e=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<t.length;i++)t[i].value>e&&(e=t[i].value),t[i].value<n&&(n=t[i].value);var r=Math.floor(x/(.66*b)),o=Math.floor(x/b*.5);return{maxValue:e,minValue:n,maxSteps:r,minSteps:o}}var f,v,y,b,x,w,_;u(),w=p(),_=l.scaleShowLabels?l.scaleLabel:null,l.scaleOverride?(y={steps:l.scaleSteps,stepValue:l.scaleStepWidth,graphMin:l.scaleStartValue,labels:[]},r(_,y.labels,y.steps,l.scaleStartValue,l.scaleStepWidth)):y=i(x,w.maxSteps,w.minSteps,w.maxValue,w.minValue,_),v=f/y.steps,n(l,h,d,c)},b=function(t,l,u){function h(n){var i=2*Math.PI/t.datasets[0].data.length;u.save(),u.translate(m/2,g/2);for(var r=0;r<t.datasets.length;r++){u.beginPath(),u.moveTo(0,-1*n*e(t.datasets[r].data[0],b,y));for(var o=1;o<t.datasets[r].data.length;o++)u.rotate(i),u.lineTo(0,-1*n*e(t.datasets[r].data[o],b,y));if(u.closePath(),u.fillStyle=t.datasets[r].fillColor,u.strokeStyle=t.datasets[r].strokeColor,u.lineWidth=l.datasetStrokeWidth,u.fill(),u.stroke(),l.pointDot){u.fillStyle=t.datasets[r].pointColor,u.strokeStyle=t.datasets[r].pointStrokeColor,u.lineWidth=l.pointDotStrokeWidth;for(var s=0;s<t.datasets[r].data.length;s++)u.rotate(i),u.beginPath(),u.arc(0,-1*n*e(t.datasets[r].data[s],b,y),l.pointDotRadius,2*Math.PI,!1),u.fill(),u.stroke()}u.rotate(i)}u.restore()}function d(){var e=2*Math.PI/t.datasets[0].data.length;if(u.save(),u.translate(m/2,g/2),l.angleShowLineOut){u.strokeStyle=l.angleLineColor,u.lineWidth=l.angleLineWidth;for(var n=0;n<t.datasets[0].data.length;n++)u.rotate(e),u.beginPath(),u.moveTo(0,0),u.lineTo(0,-v),u.stroke()}for(var i=0;i<b.steps;i++){if(u.beginPath(),l.scaleShowLine){u.strokeStyle=l.scaleLineColor,u.lineWidth=l.scaleLineWidth,u.moveTo(0,-y*(i+1));for(var r=0;r<t.datasets[0].data.length;r++)u.rotate(e),u.lineTo(0,-y*(i+1));u.closePath(),u.stroke()}if(l.scaleShowLabels){if(u.textAlign="center",u.font=l.scaleFontStyle+" "+l.scaleFontSize+"px "+l.scaleFontFamily,u.textBaseline="middle",l.scaleShowLabelBackdrop){var o=u.measureText(b.labels[i]).width;u.fillStyle=l.scaleBackdropColor,u.beginPath(),u.rect(Math.round(-o/2-l.scaleBackdropPaddingX),Math.round(-y*(i+1)-.5*l.scaleFontSize-l.scaleBackdropPaddingY),Math.round(o+2*l.scaleBackdropPaddingX),Math.round(l.scaleFontSize+2*l.scaleBackdropPaddingY)),u.fill()}u.fillStyle=l.scaleFontColor,u.fillText(b.labels[i],0,-y*(i+1))}}for(var s=0;s<t.labels.length;s++){u.font=l.pointLabelFontStyle+" "+l.pointLabelFontSize+"px "+l.pointLabelFontFamily,u.fillStyle=l.pointLabelFontColor;var a=Math.sin(e*s)*(v+l.pointLabelFontSize),c=Math.cos(e*s)*(v+l.pointLabelFontSize);u.textAlign=e*s==Math.PI||e*s==0?"center":e*s>Math.PI?"right":"left",u.textBaseline="middle",u.fillText(t.labels[s],a,-c)}u.restore()}function p(){v=s([m,g])/2,x=2*l.scaleFontSize;for(var e=0,n=0;n<t.labels.length;n++){u.font=l.pointLabelFontStyle+" "+l.pointLabelFontSize+"px "+l.pointLabelFontFamily;var i=u.measureText(t.labels[n]).width;i>e&&(e=i)}v-=o([e,l.pointLabelFontSize/2*1.5]),v-=l.pointLabelFontSize,v=c(v,null,0),w=v,x=a(x,5)}function f(){for(var e=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<t.datasets.length;i++)for(var r=0;r<t.datasets[i].data.length;r++)t.datasets[i].data[r]>e&&(e=t.datasets[i].data[r]),t.datasets[i].data[r]<n&&(n=t.datasets[i].data[r]);var o=Math.floor(w/(.66*x)),s=Math.floor(w/x*.5);return{maxValue:e,minValue:n,maxSteps:o,minSteps:s}}var v,y,b,x,w,_,k;t.labels||(t.labels=[]),p();var _=f();k=l.scaleShowLabels?l.scaleLabel:null,l.scaleOverride?(b={steps:l.scaleSteps,stepValue:l.scaleStepWidth,graphMin:l.scaleStartValue,labels:[]},r(k,b.labels,b.steps,l.scaleStartValue,l.scaleStepWidth)):b=i(w,_.maxSteps,_.minSteps,_.maxValue,_.minValue,k),y=v/b.steps,n(l,d,h,u)},x=function(t,e,i){function r(n){var r=-Math.PI/2,s=1,l=1;e.animation&&(e.animateScale&&(s=n),e.animateRotate&&(l=n));for(var c=0;c<t.length;c++){var u=l*(t[c].value/o)*2*Math.PI;i.beginPath(),i.arc(m/2,g/2,s*a,r,r+u),i.lineTo(m/2,g/2),i.closePath(),i.fillStyle=t[c].color,i.fill(),e.segmentShowStroke&&(i.lineWidth=e.segmentStrokeWidth,i.strokeStyle=e.segmentStrokeColor,i.stroke()),r+=u}}for(var o=0,a=s([g/2,m/2])-5,l=0;l<t.length;l++)o+=t[l].value;n(e,null,r,i)},w=function(t,e,i){function r(n){var r=-Math.PI/2,s=1,c=1;e.animation&&(e.animateScale&&(s=n),e.animateRotate&&(c=n));for(var u=0;u<t.length;u++){var h=c*(t[u].value/o)*2*Math.PI;i.beginPath(),i.arc(m/2,g/2,s*a,r,r+h,!1),i.arc(m/2,g/2,s*l,r+h,r,!0),i.closePath(),i.fillStyle=t[u].color,i.fill(),e.segmentShowStroke&&(i.lineWidth=e.segmentStrokeWidth,i.strokeStyle=e.segmentStrokeColor,i.stroke()),r+=h}}for(var o=0,a=s([g/2,m/2])-5,l=a*(e.percentageInnerCutout/100),c=0;c<t.length;c++)o+=t[c].value;n(e,null,r,i)},_=function(t,o,s){function a(n){function i(i,r){return C-n*e(t.datasets[i].data[r],f,p)}function r(t){return S+w*t}for(var a=0;a<t.datasets.length;a++){s.strokeStyle=t.datasets[a].strokeColor,s.lineWidth=o.datasetStrokeWidth,s.beginPath(),s.moveTo(S,C-n*e(t.datasets[a].data[0],f,p));for(var l=1;l<t.datasets[a].data.length;l++)o.bezierCurve?s.bezierCurveTo(r(l-.5),i(a,l-1),r(l-.5),i(a,l),r(l),i(a,l)):s.lineTo(r(l),i(a,l));if(s.stroke(),o.datasetFill?(s.lineTo(S+w*(t.datasets[a].data.length-1),C),s.lineTo(S,C),s.closePath(),s.fillStyle=t.datasets[a].fillColor,s.fill()):s.closePath(),o.pointDot){s.fillStyle=t.datasets[a].pointColor,s.strokeStyle=t.datasets[a].pointStrokeColor,s.lineWidth=o.pointDotStrokeWidth;for(var c=0;c<t.datasets[a].data.length;c++)s.beginPath(),s.arc(S+w*c,C-n*e(t.datasets[a].data[c],f,p),o.pointDotRadius,0,2*Math.PI,!0),s.fill(),s.stroke()}}}function l(){s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(m-_/2+5,C),s.lineTo(m-_/2-k-5,C),s.stroke(),T>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=o.scaleFontColor;for(var e=0;e<t.labels.length;e++)s.save(),T>0?(s.translate(S+e*w,C+o.scaleFontSize),s.rotate(-(T*(Math.PI/180))),s.fillText(t.labels[e],0,0),s.restore()):s.fillText(t.labels[e],S+e*w,C+o.scaleFontSize+3),s.beginPath(),s.moveTo(S+e*w,C+3),o.scaleShowGridLines&&e>0?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(S+e*w,5)):s.lineTo(S+e*w,C+3),s.stroke();s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(S,C+5),s.lineTo(S,5),s.stroke(),s.textAlign="right",s.textBaseline="middle";for(var n=0;n<f.steps;n++)s.beginPath(),s.moveTo(S-3,C-(n+1)*p),o.scaleShowGridLines?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(S+k+5,C-(n+1)*p)):s.lineTo(S-.5,C-(n+1)*p),s.stroke(),o.scaleShowLabels&&s.fillText(f.labels[n],S-8,C-(n+1)*p)}function c(){var e=1;if(o.scaleShowLabels){s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily;for(var n=0;n<f.labels.length;n++){var i=s.measureText(f.labels[n]).width;e=i>e?i:e}e+=10}k=m-e-_,w=Math.floor(k/(t.labels.length-1)),S=m-_/2-k,C=y+o.scaleFontSize/2}function u(){d=g,s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,_=1;for(var e=0;e<t.labels.length;e++){var n=s.measureText(t.labels[e]).width;_=n>_?n:_}m/t.labels.length<_?(T=45,m/t.labels.length<Math.cos(T)*_?(T=90,d-=_):d-=Math.sin(T)*_):d-=o.scaleFontSize,d-=5,v=o.scaleFontSize,d-=v,y=d}function h(){for(var e=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<t.datasets.length;i++)for(var r=0;r<t.datasets[i].data.length;r++)t.datasets[i].data[r]>e&&(e=t.datasets[i].data[r]),t.datasets[i].data[r]<n&&(n=t.datasets[i].data[r]);var o=Math.floor(y/(.66*v)),s=Math.floor(y/v*.5);return{maxValue:e,minValue:n,maxSteps:o,minSteps:s}}var d,p,f,v,y,b,x,w,_,k,S,C,T=0;u(),b=h(),x=o.scaleShowLabels?o.scaleLabel:"",o.scaleOverride?(f={steps:o.scaleSteps,stepValue:o.scaleStepWidth,graphMin:o.scaleStartValue,labels:[]},r(x,f.labels,f.steps,o.scaleStartValue,o.scaleStepWidth)):f=i(y,b.maxSteps,b.minSteps,b.maxValue,b.minValue,x),p=Math.floor(y/f.steps),c(),n(o,l,a,s)},k=function(t,o,s){function a(n){s.lineWidth=o.barStrokeWidth;for(var i=0;i<t.datasets.length;i++){s.fillStyle=t.datasets[i].fillColor,s.strokeStyle=t.datasets[i].strokeColor;for(var r=0;r<t.datasets[i].data.length;r++){var a=S+o.barValueSpacing+w*r+T*i+o.barDatasetSpacing*i+o.barStrokeWidth*i;s.beginPath(),s.moveTo(a,C),s.lineTo(a,C-n*e(t.datasets[i].data[r],f,p)+o.barStrokeWidth/2),s.lineTo(a+T,C-n*e(t.datasets[i].data[r],f,p)+o.barStrokeWidth/2),s.lineTo(a+T,C),o.barShowStroke&&s.stroke(),s.closePath(),s.fill()}}}function l(){s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(m-_/2+5,C),s.lineTo(m-_/2-k-5,C),s.stroke(),M>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=o.scaleFontColor;for(var e=0;e<t.labels.length;e++)s.save(),M>0?(s.translate(S+e*w,C+o.scaleFontSize),s.rotate(-(M*(Math.PI/180))),s.fillText(t.labels[e],0,0),s.restore()):s.fillText(t.labels[e],S+e*w+w/2,C+o.scaleFontSize+3),s.beginPath(),s.moveTo(S+(e+1)*w,C+3),s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(S+(e+1)*w,5),s.stroke();s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(S,C+5),s.lineTo(S,5),s.stroke(),s.textAlign="right",s.textBaseline="middle";for(var n=0;n<f.steps;n++)s.beginPath(),s.moveTo(S-3,C-(n+1)*p),o.scaleShowGridLines?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(S+k+5,C-(n+1)*p)):s.lineTo(S-.5,C-(n+1)*p),s.stroke(),o.scaleShowLabels&&s.fillText(f.labels[n],S-8,C-(n+1)*p)}function c(){var e=1;if(o.scaleShowLabels){s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily;for(var n=0;n<f.labels.length;n++){var i=s.measureText(f.labels[n]).width;e=i>e?i:e}e+=10}k=m-e-_,w=Math.floor(k/t.labels.length),T=(w-2*o.scaleGridLineWidth-2*o.barValueSpacing-(o.barDatasetSpacing*t.datasets.length-1)-(o.barStrokeWidth/2*t.datasets.length-1))/t.datasets.length,S=m-_/2-k,C=y+o.scaleFontSize/2}function u(){d=g,s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,_=1;for(var e=0;e<t.labels.length;e++){var n=s.measureText(t.labels[e]).width;_=n>_?n:_}m/t.labels.length<_?(M=45,m/t.labels.length<Math.cos(M)*_?(M=90,d-=_):d-=Math.sin(M)*_):d-=o.scaleFontSize,d-=5,v=o.scaleFontSize,d-=v,y=d}function h(){for(var e=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<t.datasets.length;i++)for(var r=0;r<t.datasets[i].data.length;r++)t.datasets[i].data[r]>e&&(e=t.datasets[i].data[r]),t.datasets[i].data[r]<n&&(n=t.datasets[i].data[r]);var o=Math.floor(y/(.66*v)),s=Math.floor(y/v*.5);return{maxValue:e,minValue:n,maxSteps:o,minSteps:s}}var d,p,f,v,y,b,x,w,_,k,S,C,T,M=0;u(),b=h(),x=o.scaleShowLabels?o.scaleLabel:"",o.scaleOverride?(f={steps:o.scaleSteps,stepValue:o.scaleStepWidth,graphMin:o.scaleStartValue,labels:[]},r(x,f.labels,f.steps,o.scaleStartValue,o.scaleStepWidth)):f=i(y,b.maxSteps,b.minSteps,b.maxValue,b.minValue,x),p=Math.floor(y/f.steps),c(),n(o,l,a,s)},S=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),C={}},function(){function t(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t}function e(){var t,e,n=arguments,i={},r=function(t,e){var n,i;"object"!=typeof t&&(t={});for(i in e)e.hasOwnProperty(i)&&(n=e[i],t[i]=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==i&&"number"!=typeof n.nodeType?r(t[i]||{},n):e[i]);return t};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),e=n.length,t=0;e>t;t++)i=r(i,n[t]);return i}function n(){for(var t=0,e=arguments,n=e.length,i={};n>t;t++)i[e[t++]]=e[t];return i}function i(t,e){return parseInt(t,e||10)}function r(t){return"string"==typeof t}function o(t){return"object"==typeof t}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"number"==typeof t}function l(t){return pe.log(t)/pe.LN10}function c(t){return pe.pow(10,t)}function u(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}function h(t){return t!==W&&null!==t}function d(t,e,n){var i,s,a="setAttribute";if(r(e))h(n)?t[a](e,n):t&&t.getAttribute&&(s=t.getAttribute(e));else if(h(e)&&o(e))for(i in e)t[a](i,e[i]);return s}function p(t){return s(t)?t:[t]}function f(){var t,e,n=arguments,i=n.length;for(t=0;i>t;t++)if(e=n[t],"undefined"!=typeof e&&null!==e)return e}function m(e,n){Te&&!Ie&&n&&n.opacity!==W&&(n.filter="alpha(opacity="+100*n.opacity+")"),t(e.style,n)}function g(e,n,i,r,o){var s=he.createElement(e);return n&&t(s,n),o&&m(s,{padding:0,border:Ge,margin:0}),i&&m(s,i),r&&r.appendChild(s),s}function v(e,n){var i=function(){};return i.prototype=new e,t(i.prototype,n),i}function y(t,e,n,r){var o=X.lang,s=+t||0,a=-1===e?(s.toString().split(".")[1]||"").length:isNaN(e=be(e))?2:e,l=void 0===n?o.decimalPoint:n,c=void 0===r?o.thousandsSep:r,u=0>s?"-":"",h=String(i(s=be(s).toFixed(a))),d=h.length>3?h.length%3:0;return u+(d?h.substr(0,d)+c:"")+h.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+c)+(a?l+be(s-h).toFixed(a).slice(2):"")}function b(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function x(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(i),n.apply(this,t)}}function w(t,e){var n,i=/f$/,r=/\.([0-9])/,o=X.lang;return i.test(t)?(n=t.match(r),n=n?n[1]:-1,e=y(e,n,o.decimalPoint,t.indexOf(",")>-1?o.thousandsSep:"")):e=Y(t,e),e}function _(t,e){for(var n,i,r,o,s,a,l,c="{",u=!1,h=[];-1!==(l=t.indexOf(c));){if(n=t.slice(0,l),u){for(i=n.split(":"),r=i.shift().split("."),s=r.length,a=e,o=0;s>o;o++)a=a[r[o]];i.length&&(a=w(i.join(":"),a)),h.push(a)}else h.push(n);t=t.slice(l+1),u=!u,c=u?"}":"{"}return h.push(t),h.join("")}function k(t){return pe.pow(10,me(pe.log(t)/pe.LN10))}function S(t,e,n,i){var r,o;for(n=f(n,1),r=t/n,e||(e=[1,2,2.5,5,10],i&&i.allowDecimals===!1&&(1===n?e=[1,2,5,10]:.1>=n&&(e=[1/n]))),o=0;o<e.length&&(t=e[o],!(r<=(e[o]+(e[o+1]||e[o]))/2));o++);return t*=n}function C(){this.color=0,this.symbol=0}function T(t,e){var n,i,r=t.length;for(i=0;r>i;i++)t[i].ss_i=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.ss_i-i.ss_i:n}),i=0;r>i;i++)delete t[i].ss_i}function M(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n}function A(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n}function E(t,e){var n;for(n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]}function P(t){V||(V=g(Be)),t&&V.appendChild(t),V.innerHTML=""}function L(t,e){var n="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw n;de.console&&console.log(n)}function I(t){return parseFloat(t.toPrecision(14))}function N(t,e){G=f(t,e.animation)}function j(){var t=X.global.useUTC,e=t?"getUTC":"get",n=t?"setUTC":"set";J=6e4*(t&&X.global.timezoneOffset||0),Z=t?Date.UTC:function(t,e,n,i,r,o){return new Date(t,e,f(n,1),f(i,0),f(r,0),f(o,0)).getTime()},te=e+"Minutes",ee=e+"Hours",ne=e+"Day",ie=e+"Date",re=e+"Month",oe=e+"FullYear",se=n+"Minutes",ae=n+"Hours",le=n+"Date",ce=n+"Month",ue=n+"FullYear"}function D(t){return X=e(!0,X,t),j(),X}function O(){return X}function F(){}function R(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,n||i||this.addLabel()}function z(){this.init.apply(this,arguments)}function H(){this.init.apply(this,arguments)}function B(t,e,n,i,r,o){var s=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.percent="percent"===o,this.alignOptions={align:e.align||(s?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":n?"bottom":"top"),y:f(e.y,s?4:n?14:-6),x:f(e.x,s?n?-6:6:0)},this.textAlign=e.textAlign||(s?n?"right":"left":"center")}var W,U,q,V,X,Y,G,$,K,Q,Z,J,te,ee,ne,ie,re,oe,se,ae,le,ce,ue,he=document,de=window,pe=Math,fe=pe.round,me=pe.floor,ge=pe.ceil,ve=pe.max,ye=pe.min,be=pe.abs,xe=pe.cos,we=pe.sin,_e=pe.PI,ke=2*_e/360,Se=navigator.userAgent,Ce=de.opera,Te=/msie/i.test(Se)&&!Ce,Me=8===he.documentMode,Ae=/AppleWebKit/.test(Se),Ee=/Firefox/.test(Se),Pe=/(Mobile|Android|Windows Phone)/.test(Se),Le="http://www.w3.org/2000/svg",Ie=!!he.createElementNS&&!!he.createElementNS(Le,"svg").createSVGRect,Ne=Ee&&parseInt(Se.split("Firefox/")[1],10)<4,je=!Ie&&!Te&&!!he.createElement("canvas").getContext,De={},Oe=0,Fe=function(){},Re=[],ze="Highcharts",He="3.0.10",Be="div",We="absolute",Ue="relative",qe="hidden",Ve="highcharts-",Xe="visible",Ye="px",Ge="none",$e="M",Ke="L",Qe=/^[0-9]+$/,Ze="",Je="hover",tn="select",en="millisecond",nn="second",rn="minute",on="hour",sn="day",an="week",ln="month",cn="year",un="stroke-width",hn={},dn=de.Highcharts=de.Highcharts?L(16,!0):{};Y=function(e,n,i){if(!h(n)||isNaN(n))return"Invalid date";e=f(e,"%Y-%m-%d %H:%M:%S");var r,o=new Date(n-J),s=o[ee](),a=o[ne](),l=o[ie](),c=o[re](),u=o[oe](),d=X.lang,p=d.weekdays,m=t({a:p[a].substr(0,3),A:p[a],d:b(l),e:l,b:d.shortMonths[c],B:d.months[c],m:b(c+1),y:u.toString().substr(2,2),Y:u,H:b(s),I:b(s%12||12),l:s%12||12,M:b(o[te]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:b(o.getSeconds()),L:b(fe(n%1e3),3)},dn.dateFormats);for(r in m)for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"==typeof m[r]?m[r](n):m[r]);return i?e.substr(0,1).toUpperCase()+e.substr(1):e},C.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},K=n(en,1,nn,1e3,rn,6e4,on,36e5,sn,864e5,an,6048e5,ln,26784e5,cn,31556952e3),$={init:function(t,e,n){e=e||"";var i,r,o,s,a,l=t.shift,c=e.indexOf("C")>-1,u=c?7:3,h=e.split(" "),d=[].concat(n),p=function(t){for(o=t.length;o--;)t[o]===$e&&t.splice(o+1,0,t[o+1],t[o+2],t[o+1],t[o+2])};if(c&&(p(h),p(d)),t.isArea&&(s=h.splice(h.length-6,6),a=d.splice(d.length-6,6)),l<=d.length/u&&h.length===d.length)for(;l--;)d=[].concat(d).splice(0,u).concat(d);if(t.shift=0,h.length)for(i=d.length;h.length<i;)r=[].concat(h).splice(h.length-u,u),c&&(r[u-6]=r[u-2],r[u-5]=r[u-1]),h=h.concat(r);return s&&(h=h.concat(s),d=d.concat(a)),[h,d]},step:function(t,e,n,i){var r,o=[],s=t.length;if(1===n)o=i;else if(s===e.length&&1>n)for(;s--;)r=parseFloat(t[s]),o[s]=isNaN(r)?t[s]:n*parseFloat(e[s]-r)+r;else o=e;return o}},function(e){de.HighchartsAdapter=de.HighchartsAdapter||e&&{init:function(t){var n,i=e.fx,o=i.step,s=e.Tween,a=s&&s.propHooks,l=e.cssHooks.opacity;e.extend(e.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n}}),e.each(["cur","_default","width","height","opacity"],function(t,e){var n,r=o;"cur"===e?r=i.prototype:"_default"===e&&s&&(r=a[e],e="set"),n=r[e],n&&(r[e]=function(i){var r;return i=t?i:this,"align"!==i.prop?(r=i.elem,r.attr?r.attr(i.prop,"cur"===e?W:i.now):n.apply(this,arguments)):void 0})}),x(l,"get",function(t,e,n){return e.attr?e.opacity||0:t.call(this,e,n)}),n=function(e){var n,i=e.elem;e.started||(n=t.init(i,i.d,i.toD),e.start=n[0],e.end=n[1],e.started=!0),i.attr("d",t.step(e.start,e.end,e.pos,i.toD))},s?a.d={set:n}:o.d=n,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(e.call(t[n],t[n],n,t)===!1)return n},e.fn.highcharts=function(){var t,e,n,i="Chart",o=arguments;return r(o[0])&&(i=o[0],o=Array.prototype.slice.call(o,1)),t=o[0],t!==W&&(t.chart=t.chart||{},t.chart.renderTo=this[0],n=new dn[i](t,o[1]),e=this),t===W&&(e=Re[d(this[0],"data-highcharts-chart")]),e}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,n){return e(t)[n]()},grep:e.grep,map:function(t,e){for(var n=[],i=0,r=t.length;r>i;i++)n[i]=e.call(t[i],t[i],i,t);return n},offset:function(t){return e(t).offset()},addEvent:function(t,n,i){e(t).bind(n,i)},removeEvent:function(t,n,i){var r=he.removeEventListener?"removeEventListener":"detachEvent";he[r]&&t&&!t[r]&&(t[r]=function(){}),e(t).unbind(n,i)},fireEvent:function(n,i,r,o){var s,a=e.Event(i),l="detached"+i;!Te&&r&&(delete r.layerX,delete r.layerY),t(a,r),n[i]&&(n[l]=n[i],n[i]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var n=a[e];a[e]=function(){try{n.call(a)}catch(t){"preventDefault"===e&&(s=!0)}}}),e(n).trigger(a),n[l]&&(n[i]=n[l],n[l]=null),!o||a.isDefaultPrevented()||s||o(a)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===W&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,n,i){var r=e(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),r.stop(),n.opacity!==W&&t.attr&&(n.opacity+="px"),r.animate(n,i)},stop:function(t){e(t).stop()}}}(de.jQuery);var pn=de.HighchartsAdapter,fn=pn||{};pn&&pn.init.call(pn,$);var mn=fn.adapterRun,gn=fn.getScript,vn=fn.inArray,yn=fn.each,bn=fn.grep,xn=fn.offset,wn=fn.map,_n=fn.addEvent,kn=fn.removeEvent,Sn=fn.fireEvent,Cn=fn.washMouseEvent,Tn=fn.animate,Mn=fn.stop,An={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px"}};X={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.10/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.10/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(An,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":y(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:We,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:We,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:Ue,top:"1em"},style:{position:We,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Ie,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:Pe?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};
var En=X.plotOptions,Pn=En.line;j();var Ln=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,In=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Nn=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,jn=function(t){function n(t){t&&t.stops?c=wn(t.stops,function(t){return jn(t[1])}):(l=Ln.exec(t),l?u=[i(l[1]),i(l[2]),i(l[3]),parseFloat(l[4],10)]:(l=In.exec(t),l?u=[i(l[1],16),i(l[2],16),i(l[3],16),1]:(l=Nn.exec(t),l&&(u=[i(l[1]),i(l[2]),i(l[3]),1]))))}function r(n){var i;return c?(i=e(t),i.stops=[].concat(i.stops),yn(c,function(t,e){i.stops[e]=[i.stops[e][0],t.get(n)]})):i=u&&!isNaN(u[0])?"rgb"===n?"rgb("+u[0]+","+u[1]+","+u[2]+")":"a"===n?u[3]:"rgba("+u.join(",")+")":t,i}function o(t){if(c)yn(c,function(e){e.brighten(t)});else if(a(t)&&0!==t){var e;for(e=0;3>e;e++)u[e]+=i(255*t),u[e]<0&&(u[e]=0),u[e]>255&&(u[e]=255)}return this}function s(t){return u[3]=t,this}var l,c,u=[];return n(t),{get:r,brighten:o,rgba:u,setOpacity:s}};F.prototype={init:function(t,e){var n=this;n.element="span"===e?g(e):he.createElementNS(Le,e),n.renderer=t,n.attrSetters={}},opacity:1,animate:function(t,n,i){var r=f(n,G,!0);Mn(this),r?(r=e(r,{}),i&&(r.complete=i),Tn(this,t,r)):(this.attr(t),i&&i())},attr:function(t,e){var n,o,s,a,l,c,u,p,m,g=this,v=g.element,y=v.nodeName.toLowerCase(),b=g.renderer,x=g.attrSetters,w=g.shadows,_=g;if(r(t)&&h(e)&&(n=t,t={},t[n]=e),r(t))n=t,"circle"===y?n={x:"cx",y:"cy"}[n]||n:"strokeWidth"===n&&(n="stroke-width"),_=d(v,n)||g[n]||0,"d"!==n&&"visibility"!==n&&"fill"!==n&&(_=parseFloat(_));else{for(n in t)if(c=!1,o=t[n],s=x[n]&&x[n].call(g,o,n),s!==!1){if(s!==W&&(o=s),"d"===n)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===n&&"text"===y)for(a=0;a<v.childNodes.length;a++)l=v.childNodes[a],d(l,"x")===d(v,"x")&&d(l,"x",o);else if(!g.rotation||"x"!==n&&"y"!==n)if("fill"===n)o=b.color(o,v,n);else if("circle"!==y||"x"!==n&&"y"!==n)if("rect"===y&&"r"===n)d(v,{rx:o,ry:o}),c=!0;else if("translateX"===n||"translateY"===n||"rotation"===n||"verticalAlign"===n||"scaleX"===n||"scaleY"===n)m=!0,c=!0;else if("stroke"===n)o=b.color(o,v,n);else if("dashstyle"===n){if(n="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=Ge;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),a=o.length;a--;)o[a]=i(o[a])*f(t["stroke-width"],g["stroke-width"]);o=o.join(",")}}else"width"===n?o=i(o):"align"===n?(n="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===n&&(u=v.getElementsByTagName("title")[0],u||(u=he.createElementNS(Le,"title"),v.appendChild(u)),u.textContent=o);else n={x:"cx",y:"cy"}[n]||n;else m=!0;if("strokeWidth"===n&&(n="stroke-width"),("stroke-width"===n||"stroke"===n)&&(g[n]=o,g.stroke&&g["stroke-width"]?(d(v,"stroke",g.stroke),d(v,"stroke-width",g["stroke-width"]),g.hasStroke=!0):"stroke-width"===n&&0===o&&g.hasStroke&&(v.removeAttribute("stroke"),g.hasStroke=!1),c=!0),g.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(p||(g.symbolAttr(t),p=!0),c=!0),w&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n))for(a=w.length;a--;)d(w[a],n,"height"===n?ve(o-(w[a].cutHeight||0),0):o);("width"===n||"height"===n)&&"rect"===y&&0>o&&(o=0),g[n]=o,"text"===n?o!==g.textStr&&(delete g.bBox,g.textStr=o,g.added&&b.buildText(g)):c||void 0!==o&&v.setAttribute(n,o)}m&&g.updateTransform()}return _},addClass:function(t){var e=this.element,n=d(e,"class")||"";return-1===n.indexOf(t)&&d(e,"class",n+" "+t),this},symbolAttr:function(t){var e=this;yn(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){e[n]=f(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Ge)},crisp:function(t){var e,n,i=this,r={},o=t.strokeWidth||i.strokeWidth||i.attr&&i.attr("stroke-width")||0;n=fe(o)%2/2,t.x=me(t.x||i.x||0)+n,t.y=me(t.y||i.y||0)+n,t.width=me((t.width||i.width||0)-2*n),t.height=me((t.height||i.height||0)-2*n),t.strokeWidth=o;for(e in t)i[e]!==t[e]&&(i[e]=r[e]=t[e]);return r},css:function(e){var n,r,o,s=this,a=s.styles,l={},c=s.element,u="",h=!a;if(e&&e.color&&(e.fill=e.color),a)for(r in e)e[r]!==a[r]&&(l[r]=e[r],h=!0);if(h){if(n=s.textWidth=e&&e.width&&"text"===c.nodeName.toLowerCase()&&i(e.width),a&&(e=t(a,l)),s.styles=e,n&&(je||!Ie&&s.renderer.forExport)&&delete e.width,Te&&!Ie)m(s.element,e);else{o=function(t,e){return"-"+e.toLowerCase()};for(r in e)u+=r.replace(/([A-Z])/g,o)+":"+e[r]+";";d(c,"style",u)}n&&s.added&&s.renderer.buildText(s)}return s},on:function(t,e){var n=this,i=n.element;return q&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===Se.indexOf("Android")||Date.now()-(n.touchEventFired||0)>1100)&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},updateTransform:function(){var t,e=this,n=e.translateX||0,i=e.translateY||0,r=e.scaleX,o=e.scaleY,s=e.inverted,a=e.rotation;s&&(n+=e.attr("width"),i+=e.attr("height")),t=["translate("+n+","+i+")"],s?t.push("rotate(90) scale(-1,1)"):a&&t.push("rotate("+a+" "+(e.x||0)+" "+(e.y||0)+")"),(h(r)||h(o))&&t.push("scale("+f(r,1)+" "+f(o,1)+")"),t.length&&d(e.element,"transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,o,s,a,l,c={},h=this.renderer,d=h.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,(!n||r(n))&&(this.alignTo=l=n||"renderer",u(d,this),d.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,l=this.alignTo),n=f(n,h[l],h),i=t.align,o=t.verticalAlign,s=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),("right"===i||"center"===i)&&(s+=(n.width-(t.width||0))/{right:1,center:2}[i]),c[e?"translateX":"x"]=fe(s),("bottom"===o||"middle"===o)&&(a+=(n.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),c[e?"translateY":"y"]=fe(a),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(){var e,n,i,r=this,o=r.bBox,s=r.renderer,a=r.rotation,l=r.element,c=r.styles,u=a*ke,h=r.textStr;if((""===h||Qe.test(h))&&(i=h.toString().length+(c?"|"+c.fontSize+"|"+c.fontFamily:""),o=s.cache[i]),!o){if(l.namespaceURI===Le||s.forExport){try{o=l.getBBox?t({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight}}catch(d){}(!o||o.width<0)&&(o={width:0,height:0})}else o=r.htmlGetBBox();s.isSVG&&(e=o.width,n=o.height,Te&&c&&"11px"===c.fontSize&&"16.9"===n.toPrecision(3)&&(o.height=n=14),a&&(o.width=be(n*we(u))+be(e*xe(u)),o.height=be(n*xe(u))+be(e*we(u)))),r.bBox=o,i&&(s.cache[i]=o)}return o},show:function(t){return this.attr({visibility:t?"inherit":Xe})},hide:function(){return this.attr({visibility:qe})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,n,r,o,s,a=this.renderer,l=t||a,c=l.element||a.box,u=this.element,p=this.zIndex;if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&a.buildText(this),p&&(l.handleZ=!0,p=i(p)),l.handleZ)for(e=c.childNodes,o=0;o<e.length;o++)if(n=e[o],r=d(n,"zIndex"),n!==u&&(i(r)>p||!h(p)&&h(r))){c.insertBefore(u,n),s=!0;break}return s||c.appendChild(u),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n,i=this,r=i.element||{},o=i.shadows,s=i.renderer.isSVG&&"SPAN"===r.nodeName&&i.parentGroup;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,Mn(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(n=0;n<i.stops.length;n++)i.stops[n]=i.stops[n].destroy();i.stops=null}for(i.safeRemoveChild(r),o&&yn(o,function(t){i.safeRemoveChild(t)});s&&0===s.div.childNodes.length;)t=s.parentGroup,i.safeRemoveChild(s.div),delete s.div,s=t;i.alignTo&&u(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},shadow:function(t,e,n){var i,r,o,s,a,l,c=[],u=this.element;if(t){for(s=f(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+f(t.offsetX,1)+", "+f(t.offsetY,1)+")",i=1;s>=i;i++)r=u.cloneNode(0),o=2*s+1-2*i,d(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*i,"stroke-width":o,transform:"translate"+l,fill:Ge}),n&&(d(r,"height",ve(d(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):u.parentNode.insertBefore(r,u),c.push(r);this.shadows=c}return this}};var Dn=function(){this.init.apply(this,arguments)};Dn.prototype={Element:F,init:function(t,e,n,i,r){var o,s,a,l=this,c=location;o=l.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i)),s=o.element,t.appendChild(s),-1===t.innerHTML.indexOf("xmlns")&&d(s,"xmlns",Le),l.isSVG=!0,l.box=s,l.boxWrapper=o,l.alignedObjects=[],l.url=(Ee||Ae)&&he.getElementsByTagName("base").length?c.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",a=this.createElement("desc").add(),a.element.appendChild(he.createTextNode("Created with "+ze+" "+He)),l.defs=this.createElement("defs").add(),l.forExport=r,l.gradients={},l.cache={},l.setSize(e,n,!1);var u,h;Ee&&t.getBoundingClientRect&&(l.subPixelFix=u=function(){m(t,{left:0,top:0}),h=t.getBoundingClientRect(),m(t,{left:ge(h.left)-h.left+Ye,top:ge(h.top)-h.top+Ye})},u(),_n(de,"resize",u))},getStyle:function(e){return this.style=t({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),E(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&kn(de,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,n=this,r=n.forExport,o=f(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),s=e.childNodes,a=/<.*style="([^"]+)".*>/,l=/<.*href="(http[^"]+)".*>/,c=d(e,"x"),u=t.styles,h=t.textWidth,p=u&&u.lineHeight,g=s.length,v=function(t){return p?i(p):n.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:u.fontSize||11).h};g--;)e.removeChild(s[g]);h&&!t.added&&this.box.appendChild(e),""===o[o.length-1]&&o.pop(),yn(o,function(i,o){var s,p=0;i=i.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),s=i.split("|||"),yn(s,function(i){if(""!==i||1===s.length){var f,g={},y=he.createElementNS(Le,"tspan");if(a.test(i)&&(f=i.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),d(y,"style",f)),l.test(i)&&!r&&(d(y,"onclick",'location.href="'+i.match(l)[1]+'"'),m(y,{cursor:"pointer"})),i=(i.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==i&&(y.appendChild(he.createTextNode(i)),p?g.dx=0:g.x=c,d(y,g),!p&&o&&(!Ie&&r&&m(y,{display:"block"}),d(y,"dy",v(y),Ae&&y.offsetHeight)),e.appendChild(y),p++,h))for(var b,x,w,_=i.replace(/([^\^])-/g,"$1- ").split(" "),k=_.length>1&&"nowrap"!==u.whiteSpace,S=t._clipHeight,C=[],T=v(),M=1;k&&(_.length||C.length);)delete t.bBox,w=t.getBBox(),x=w.width,!Ie&&n.forExport&&(x=n.measureSpanWidth(y.firstChild.data,t.styles)),b=x>h,b&&1!==_.length?(y.removeChild(y.firstChild),C.unshift(_.pop())):(_=C,C=[],_.length&&(M++,S&&M*T>S?(_=["..."],t.attr("title",t.textStr)):(y=he.createElementNS(Le,"tspan"),d(y,{dy:T,x:c}),f&&d(y,"style",f),e.appendChild(y),x>h&&(h=x)))),_.length&&y.appendChild(he.createTextNode(_.join(" ").replace(/- /g,"-")))}})})},button:function(n,i,r,o,s,a,l,c,u){var h,d,p,f,m,g,v=this.label(n,i,r,u,null,null,null,null,"button"),y=0,b="style",x={x1:0,y1:0,x2:0,y2:1};return s=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:x,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},s),p=s[b],delete s[b],a=e(s,{stroke:"#68A",fill:{linearGradient:x,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),f=a[b],delete a[b],l=e(s,{stroke:"#68A",fill:{linearGradient:x,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),m=l[b],delete l[b],c=e(s,{style:{color:"#CCC"}},c),g=c[b],delete c[b],_n(v.element,Te?"mouseover":"mouseenter",function(){3!==y&&v.attr(a).css(f)}),_n(v.element,Te?"mouseout":"mouseleave",function(){3!==y&&(h=[s,a,l][y],d=[p,f,m][y],v.attr(h).css(d))}),v.setState=function(t){v.state=y=t,t?2===t?v.attr(l).css(m):3===t&&v.attr(c).css(g):v.attr(s).css(p)},v.on("click",function(){3!==y&&o.call(v)}).attr(s).css(t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=fe(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=fe(t[2])+e%2/2),t},path:function(e){var n={fill:Ge};return s(e)?n.d=e:o(e)&&t(n,e),this.createElement("path").attr(n)},circle:function(t,e,n){var i=o(t)?t:{x:t,y:e,r:n};return this.createElement("circle").attr(i)},arc:function(t,e,n,i,r,s){var a;return o(t)&&(e=t.y,n=t.r,i=t.innerR,r=t.start,s=t.end,t=t.x),a=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:r||0,end:s||0}),a.r=n,a},rect:function(t,e,n,i,r,s){r=o(t)?t.r:r;var a=this.createElement("rect"),l=o(t)?t:t===W?{}:{x:t,y:e,width:ve(n,0),height:ve(i,0)};return s!==W&&(l.strokeWidth=s,l=a.crisp(l)),r&&(l.r=r),a.attr(l)},setSize:function(t,e,n){var i=this,r=i.alignedObjects,o=r.length;for(i.width=t,i.height=e,i.boxWrapper[f(n,!0)?"animate":"attr"]({width:t,height:e});o--;)r[o].align()},g:function(t){var e=this.createElement("g");return h(t)?e.attr({"class":Ve+t}):e},image:function(e,n,i,r,o){var s,a={preserveAspectRatio:Ge};return arguments.length>1&&t(a,{x:n,y:i,width:r,height:o}),s=this.createElement("image").attr(a),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):s.element.setAttribute("hc-svg-href",e),s},symbol:function(e,n,i,r,o,s){var a,l,c,u,h,d=this.symbols[e],p=d&&d(fe(n),fe(i),r,o,s),f=/^url\((.*?)\)$/;return p?(a=this.path(p),t(a,{symbolName:e,x:n,y:i,width:r,height:o}),s&&t(a,s)):f.test(e)&&(h=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(fe((r-e[0])/2),fe((o-e[1])/2)))},c=e.match(f)[1],u=De[c],a=this.image(c).attr({x:n,y:i}),a.isImg=!0,u?h(a,u):(a.attr({width:0,height:0}),l=g("img",{onload:function(){h(a,De[c]=[this.width,this.height])},src:c}))),a},symbols:{circle:function(t,e,n,i){var r=.166*n;return[$e,t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return[$e,t,e,Ke,t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return[$e,t+n/2,e,Ke,t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return[$e,t,e,Ke,t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return[$e,t+n/2,e,Ke,t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,s=r.r||n||i,a=r.end-.001,l=r.innerR,c=r.open,u=xe(o),h=we(o),d=xe(a),p=we(a),f=r.end-o<_e?0:1;return[$e,t+s*u,e+s*h,"A",s,s,0,f,1,t+s*d,e+s*p,c?$e:Ke,t+l*d,e+l*p,"A",l,l,0,f,0,t+l*u,e+l*h,c?"":"Z"]}},clipRect:function(t,e,n,i){var r,o=Ve+Oe++,s=this.createElement("clipPath").attr({id:o}).add(this.defs);return r=this.rect(t,e,n,i,0).add(s),r.id=o,r.clipPath=s,r},color:function(t,n,i){var r,o,a,l,c,u,p,f,m,g,v,y=this,b=/^rgba/,x=[];if(t&&t.linearGradient?o="linearGradient":t&&t.radialGradient&&(o="radialGradient"),o){a=t[o],l=y.gradients,u=t.stops,m=n.radialReference,s(a)&&(t[o]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!h(a.gradientUnits)&&(a=e(a,{cx:m[0]-m[2]/2+a.cx*m[2],cy:m[1]-m[2]/2+a.cy*m[2],r:a.r*m[2],gradientUnits:"userSpaceOnUse"}));for(g in a)"id"!==g&&x.push(g,a[g]);for(g in u)x.push(u[g]);return x=x.join(","),l[x]?v=l[x].id:(a.id=v=Ve+Oe++,l[x]=c=y.createElement(o).attr(a).add(y.defs),c.stops=[],yn(u,function(t){var e;b.test(t[1])?(r=jn(t[1]),p=r.get("rgb"),f=r.get("a")):(p=t[1],f=1),e=y.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(c),c.stops.push(e)})),"url("+y.url+"#"+v+")"}return b.test(t)?(r=jn(t),d(n,i+"-opacity",r.get("a")),r.get("rgb")):(n.removeAttribute(i+"-opacity"),t)},text:function(t,e,n,i){var r,o=this,s=je||!Ie&&o.forExport;return i&&!o.forExport?o.html(t,e,n):(e=fe(f(e,0)),n=fe(f(n,0)),r=o.createElement("text").attr({x:e,y:n,text:t}),s&&r.css({position:We}),r.x=e,r.y=n,r)},fontMetrics:function(t){t=t||this.style.fontSize,t=/px/.test(t)?i(t):/em/.test(t)?12*parseFloat(t):12;var e=24>t?t+4:fe(1.2*t),n=fe(.8*e);return{h:e,b:n}},label:function(n,i,r,o,s,a,l,c,u){function d(){var t,n,i=C.element.style;g=(void 0===v||void 0===y||S.styles.textAlign)&&C.textStr&&C.getBBox(),S.width=(v||g.width||0)+2*M+A,S.height=(y||g.height||0)+2*M,w=M+k.fontMetrics(i&&i.fontSize).b,_&&(m||(t=fe(-T*M),n=c?-w:0,S.box=m=o?k.symbol(o,t,n,S.width,S.height,P):k.rect(t,n,S.width,S.height,0,P[un]),m.attr("fill",Ge).add(S)),m.isImg||m.attr(e({width:S.width,height:S.height},P)),P=null)}function p(){var t,e=S.styles,n=e&&e.textAlign,i=A+M*(1-T);t=c?0:w,h(v)&&g&&("center"===n||"right"===n)&&(i+={center:.5,right:1}[n]*(v-g.width)),(i!==C.x||t!==C.y)&&C.attr({x:i,y:t}),C.x=i,C.y=t}function f(t,e){m?m.attr(t,e):P[t]=e}var m,g,v,y,b,x,w,_,k=this,S=k.g(u),C=k.text("",0,0,l).attr({zIndex:1}),T=0,M=3,A=0,E=0,P={},L=S.attrSetters;S.onAdd=function(){C.add(S),S.attr({text:n,x:i,y:r}),m&&h(s)&&S.attr({anchorX:s,anchorY:a})},L.width=function(t){return v=t,!1},L.height=function(t){return y=t,!1},L.padding=function(t){return h(t)&&t!==M&&(M=t,p()),!1},L.paddingLeft=function(t){return h(t)&&t!==A&&(A=t,p()),!1},L.align=function(t){return T={left:0,center:.5,right:1}[t],!1},L.text=function(t,e){return C.attr(e,t),d(),p(),!1},L[un]=function(t,e){return t&&(_=!0),E=t%2/2,f(e,t),!1},L.stroke=L.fill=L.r=function(t,e){return"fill"===e&&t&&(_=!0),f(e,t),!1},L.anchorX=function(t,e){return s=t,f(e,t+E-b),!1},L.anchorY=function(t,e){return a=t,f(e,t-x),!1},L.x=function(t){return S.x=t,t-=T*((v||g.width)+M),b=fe(t),S.attr("translateX",b),!1},L.y=function(t){return x=S.y=fe(t),S.attr("translateY",x),!1};var I=S.css;return t(S,{css:function(t){if(t){var n={};t=e(t),yn(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],function(e){t[e]!==W&&(n[e]=t[e],delete t[e])}),C.css(n)}return I.call(S,t)},getBBox:function(){return{width:g.width+2*M,height:g.height+2*M,x:g.x-M,y:g.y-M}},shadow:function(t){return m&&m.shadow(t),S},destroy:function(){kn(S.element,"mouseenter"),kn(S.element,"mouseleave"),C&&(C=C.destroy()),m&&(m=m.destroy()),F.prototype.destroy.call(S),S=k=d=p=f=null}})}},U=Dn,t(F.prototype,{htmlCss:function(e){var n=this,i=n.element,r=e&&"SPAN"===i.tagName&&e.width;return r&&(delete e.width,n.textWidth=r,n.updateTransform()),n.styles=t(n.styles,e),m(n.element,e),n},htmlGetBBox:function(){var t=this,e=t.element,n=t.bBox;return n||("text"===e.nodeName&&(e.style.position=We),n=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),n},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,e=t.renderer,n=t.element,r=t.translateX||0,o=t.translateY||0,s=t.x||0,a=t.y||0,l=t.textAlign||"left",c={left:0,center:.5,right:1}[l],u=t.shadows;if(m(n,{marginLeft:r,marginTop:o}),u&&yn(u,function(t){m(t,{marginLeft:r+1,marginTop:o+1})}),t.inverted&&yn(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var d,p,g=t.rotation,v=i(t.textWidth),y=[g,l,n.innerHTML,t.textWidth].join(",");y!==t.cTT&&(p=e.fontMetrics(n.style.fontSize).b,h(g)&&t.setSpanRotation(g,c,p),d=f(t.elemWidth,n.offsetWidth),d>v&&/[ \-]/.test(n.textContent||n.innerText)&&(m(n,{width:v+Ye,display:"block",whiteSpace:"normal"}),d=v),t.getSpanCorrection(d,p,c,g,l)),m(n,{left:s+(t.xCorr||0)+Ye,top:a+(t.yCorr||0)+Ye}),Ae&&(p=n.offsetHeight),t.cTT=y}},setSpanRotation:function(t,e,n){var i={},r=Te?"-ms-transform":Ae?"-webkit-transform":Ee?"MozTransform":Ce?"-o-transform":"";i[r]=i.transform="rotate("+t+"deg)",i[r+(Ee?"Origin":"-origin")]=i.transformOrigin=100*e+"% "+n+"px",m(this.element,i)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),t(Dn.prototype,{html:function(e,n,i){var r=this.createElement("span"),o=r.attrSetters,s=r.element,a=r.renderer;return o.text=function(t){return t!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=t,!1},o.x=o.y=o.align=o.rotation=function(t,e){return"align"===e&&(e="textAlign"),r[e]=t,r.htmlUpdateTransform(),!1},r.attr({text:e,x:fe(n),y:fe(i)}).css({position:We,whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.css=r.htmlCss,a.isSVG&&(r.add=function(e){var n,i,o=a.box.parentNode,l=[];if(this.parentGroup=e,e){if(n=e.div,!n){for(i=e;i;)l.push(i),i=i.parentGroup;yn(l.reverse(),function(e){var i;n=e.div=e.div||g(Be,{className:d(e.element,"class")},{position:We,left:(e.translateX||0)+Ye,top:(e.translateY||0)+Ye},n||o),i=n.style,t(e.attrSetters,{translateX:function(t){i.left=t+Ye},translateY:function(t){i.top=t+Ye},visibility:function(t,e){i[e]=t}})})}}else n=o;return n.appendChild(s),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}});var On,Fn;if(!Ie&&!je){dn.VMLElement=Fn={init:function(t,e){var n=this,i=["<",e,' filled="f" stroked="f"'],r=["position: ",We,";"],o=e===Be;("shape"===e||o)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",o?qe:Xe),i.push(' style="',r.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),n.element=g(i)),n.renderer=t,n.attrSetters={}},add:function(t){var e=this,n=e.renderer,i=e.element,r=n.box,o=t&&t.inverted,s=t?t.element||t:r;return o&&n.invertChild(i,s),s.appendChild(i),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),e},updateTransform:F.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=xe(t*ke),n=we(t*ke);m(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):Ge})},getSpanCorrection:function(t,e,n,i,r){var o,s=i?xe(i*ke):1,a=i?we(i*ke):0,l=f(this.elemHeight,this.element.offsetHeight),c=r&&"left"!==r;this.xCorr=0>s&&-t,this.yCorr=0>a&&-l,o=0>s*a,this.xCorr+=a*e*(o?1-n:n),this.yCorr-=s*e*(i?o?n:1-n:1),c&&(this.xCorr-=t*n*(0>s?-1:1),i&&(this.yCorr-=l*n*(0>a?-1:1)),m(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)a(t[e])?n[e]=fe(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},attr:function(t,e){var n,i,o,s,l,c,u=this,p=u.element||{},f=p.style,m=p.nodeName,v=u.renderer,y=u.symbolName,b=u.shadows,x=u.attrSetters,w=u;if(r(t)&&h(e)&&(n=t,t={},t[n]=e),r(t))n=t,w="strokeWidth"===n||"stroke-width"===n?u.strokeweight:u[n];else for(n in t)if(i=t[n],c=!1,s=x[n]&&x[n].call(u,i,n),s!==!1&&null!==i){if(s!==W&&(i=s),y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))l||(u.symbolAttr(t),l=!0),c=!0;else if("d"===n){if(i=i||[],u.d=i.join(" "),p.path=i=u.pathToVML(i),b)for(o=b.length;o--;)b[o].path=b[o].cutOff?this.cutOffPath(i,b[o].cutOff):i;c=!0}else if("visibility"===n){if("inherit"===i&&(i=Xe),b)for(o=b.length;o--;)b[o].style[n]=i;"DIV"===m&&(i=i===qe?"-999em":0,Me||(f[n]=i?Xe:qe),n="top"),f[n]=i,c=!0}else if("zIndex"===n)i&&(f[n]=i),c=!0;else if(-1!==vn(n,["x","y","width","height"]))u[n]=i,"x"===n||"y"===n?n={x:"left",y:"top"}[n]:i=ve(0,i),u.updateClipping?(u[n]=i,u.updateClipping()):f[n]=i,c=!0;else if("class"===n&&"DIV"===m)p.className=i;else if("stroke"===n)i=v.color(i,p,n),n="strokecolor";else if("stroke-width"===n||"strokeWidth"===n)p.stroked=i?!0:!1,n="strokeweight",u[n]=i,a(i)&&(i+=Ye);else if("dashstyle"===n){var _=p.getElementsByTagName("stroke")[0]||g(v.prepVML(["<stroke/>"]),null,null,p);_[n]=i||"solid",u.dashstyle=i,c=!0}else"fill"===n?"SPAN"===m?f.color=i:"IMG"!==m&&(p.filled=i!==Ge?!0:!1,i=v.color(i,p,n,u),n="fillcolor"):"opacity"===n?c=!0:"shape"===m&&"rotation"===n?(u[n]=p.style[n]=i,p.style.left=-fe(we(i*ke)+1)+Ye,p.style.top=fe(xe(i*ke))+Ye):("translateX"===n||"translateY"===n||"rotation"===n)&&(u[n]=i,u.updateTransform(),c=!0);c||(Me?p[n]=i:d(p,n,i))}return w},clip:function(t){var e,n,i=this;return t?(e=t.members,u(e,i),e.push(i),i.destroyClip=function(){u(e,i)},n=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),n={clip:Me?"inherit":"rect(auto)"}),i.css(n)},css:F.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&P(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),F.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=de.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return t=t.split(/[ ,]/),n=t.length,(9===n||11===n)&&(t[n-4]=t[n-2]=i(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var r,o,s,a,l,c,u,h=[],d=this.element,p=this.renderer,m=d.style,v=d.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,t){for(c=f(t.width,3),u=(t.opacity||.15)/c,r=1;3>=r;r++)a=2*c+1-2*r,n&&(l=this.cutOffPath(v.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=g(p.prepVML(s),null,{left:i(m.left)+f(t.offsetX,1),top:i(m.top)+f(t.offsetY,1)}),n&&(o.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',u*r,'"/>'],g(p.prepVML(s),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),h.push(o);this.shadows=h}return this}},Fn=v(F,Fn);var Rn={Element:Fn,isIE8:Se.indexOf("MSIE 8.0")>-1,init:function(e,n,i,r){var o,s,a,l=this;if(l.alignedObjects=[],o=l.createElement(Be).css(t(this.getStyle(r),{position:Ue})),s=o.element,e.appendChild(o.element),l.isVML=!0,l.box=s,l.boxWrapper=o,l.cache={},l.setSize(n,i,!1),!he.namespaces.hcv){he.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),a="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{he.createStyleSheet().cssText=a}catch(c){he.styleSheets[0].cssText+=a}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,n,i,r){var s=this.createElement(),a=o(e);return t(s,{members:[],left:(a?e.x:e)+1,top:(a?e.y:n)+1,width:(a?e.width:i)-1,height:(a?e.height:r)-1,getCSS:function(e){var n=e.element,i=n.nodeName,r="shape"===i,o=e.inverted,s=this,a=s.top-(r?n.offsetTop:0),l=s.left,c=l+s.width,u=a+s.height,h={clip:"rect("+fe(o?l:a)+"px,"+fe(o?u:c)+"px,"+fe(o?c:u)+"px,"+fe(o?a:l)+"px)"};return!o&&Me&&"DIV"===i&&t(h,{width:c+Ye,height:u+Ye}),h},updateClipping:function(){yn(s.members,function(t){t.css(s.getCSS(t))})}})},color:function(t,e,n,i){var r,o,s,a=this,l=/^rgba/,c=Ge;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var u,h,d,p,f,m,v,y,b,x,w,_,k=t.linearGradient||t.radialGradient,S="",C=t.stops,T=[],M=function(){o=['<fill colors="'+T.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',s,'" ',S,'focus="100%" method="any" />'],g(a.prepVML(o),null,null,e)};if(w=C[0],_=C[C.length-1],w[0]>0&&C.unshift([0,w[1]]),_[0]<1&&C.push([1,_[1]]),yn(C,function(t,e){l.test(t[1])?(r=jn(t[1]),u=r.get("rgb"),h=r.get("a")):(u=t[1],h=1),T.push(100*t[0]+"% "+u),e?(y=h,b=u):(v=h,x=u)}),"fill"===n)if("gradient"===s)d=k.x1||k[0]||0,p=k.y1||k[1]||0,f=k.x2||k[2]||0,m=k.y2||k[3]||0,S='angle="'+(90-180*pe.atan((m-p)/(f-d))/_e)+'"',M();else{var A,E=k.r,P=2*E,L=2*E,I=k.cx,N=k.cy,j=e.radialReference,D=function(){j&&(A=i.getBBox(),I+=(j[0]-A.x)/A.width-.5,N+=(j[1]-A.y)/A.height-.5,P*=j[2]/A.width,L*=j[2]/A.height),S='src="'+X.global.VMLRadialGradientURL+'" size="'+P+","+L+'" origin="0.5,0.5" position="'+I+","+N+'" color2="'+x+'" ',M()};i.added?D():i.onAdd=D,c=b}else c=u}else if(l.test(t)&&"IMG"!==e.tagName)r=jn(t),o=["<",n,' opacity="',r.get("a"),'"/>'],g(this.prepVML(o),null,null,e),c=r.get("rgb");else{var O=e.getElementsByTagName(n);O.length&&(O[0].opacity=1,O[0].type="solid"),c=t}return c},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return t=t.join(""),n?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Dn.prototype.html,path:function(e){var n={coordsize:"10 10"};return s(e)?n.d=e:o(e)&&t(n,e),this.createElement("shape").attr(n)},circle:function(t,e,n){var i=this.symbol("circle");return o(t)&&(n=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=n,i.attr({x:t,y:e})},g:function(t){var e,n;return t&&(n={className:Ve+t,"class":Ve+t}),e=this.createElement(Be).attr(n)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:n,width:i,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):Dn.prototype.createElement.call(this,t)},invertChild:function(t,e){var n=this,r=e.style,o="IMG"===t.tagName&&t.style;m(t,{flip:"x",left:i(r.width)-(o?i(o.top):1),top:i(r.height)-(o?i(o.left):1),rotation:-90}),yn(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,n,i,r){var o,s=r.start,a=r.end,l=r.r||n||i,c=r.innerR,u=xe(s),h=we(s),d=xe(a),p=we(a);return a-s===0?["x"]:(o=["wa",t-l,e-l,t+l,e+l,t+l*u,e+l*h,t+l*d,e+l*p],r.open&&!c&&o.push("e",$e,t,e),o.push("at",t-c,e-c,t+c,e+c,t+c*d,e+c*p,t+c*u,e+c*h,"x","e"),o.isArc=!0,o)},circle:function(t,e,n,i,r){return r&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){var o,s,a=t+n,l=e+i;return h(r)&&r.r?(s=ye(r.r,n,i),o=[$e,t+s,e,Ke,a-s,e,"wa",a-2*s,e,a,e+2*s,a-s,e,a,e+s,Ke,a,l-s,"wa",a-2*s,l-2*s,a,l,a,l-s,a-s,l,Ke,t+s,l,"wa",t,l-2*s,t+2*s,l,t+s,l,t,l-s,Ke,t,e+s,"wa",t,e,t+2*s,e+2*s,t,e+s,t+s,e,"x","e"]):o=Dn.prototype.symbols.square.apply(0,arguments),o}}};dn.VMLRenderer=On=function(){this.init.apply(this,arguments)},On.prototype=e(Dn.prototype,Rn),U=On}Dn.prototype.measureSpanWidth=function(t,e){var n,i=he.createElement("span"),r=he.createTextNode(t);return i.appendChild(r),m(i,e),this.box.appendChild(i),n=i.offsetWidth,P(i),n};var zn,Hn;je&&(dn.CanVGRenderer=zn=function(){Le="http://www.w3.org/1999/xhtml"},zn.prototype.symbols={},Hn=function(){function t(){var t,n=e.length;for(t=0;n>t;t++)e[t]();e=[]}var e=[];return{push:function(n,i){0===e.length&&gn(i,t),e.push(n)}}}(),U=zn),R.prototype={addLabel:function(){var e,n,i,r,o=this,s=o.axis,l=s.options,u=s.chart,d=s.horiz,p=s.categories,m=s.names,g=o.pos,v=l.labels,y=s.tickPositions,b=d&&p&&!v.step&&!v.staggerLines&&!v.rotation&&u.plotWidth/y.length||!d&&(u.margin[3]||.33*u.chartWidth),x=g===y[0],w=g===y[y.length-1],_=p?f(p[g],m[g],g):g,k=o.label,S=y.info;s.isDatetimeAxis&&S&&(r=l.dateTimeLabelFormats[S.higherRanks[g]||S.unitName]),o.isFirst=x,o.isLast=w,e=s.labelFormatter.call({axis:s,chart:u,isFirst:x,isLast:w,dateTimeLabelFormat:r,value:s.isLog?I(c(_)):_}),n=b&&{width:ve(1,fe(b-2*(v.padding||10)))+Ye},n=t(n,v.style),h(k)?k&&k.attr({text:e}).css(n):(i={align:s.labelAlign},a(v.rotation)&&(i.rotation=v.rotation),b&&v.ellipsis&&(i._clipHeight=s.len/y.length),o.label=h(e)&&v.enabled?u.renderer.text(e,0,0,v.useHTML).attr(i).css(n).add(s.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?t.getBBox()[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.label.getBBox(),e=this.axis,n=e.horiz,i=e.options,r=i.labels,o=n?t.width:t.height,s=n?r.x-o*{left:0,center:.5,right:1}[e.labelAlign]:0,a=n?o+s:o;return[s,a]},handleOverflow:function(t,e){var n,i,r,o,s,a=!0,l=this.axis,c=this.isFirst,u=this.isLast,h=l.horiz,d=h?e.x:e.y,p=l.reversed,f=l.tickPositions,m=this.getLabelSides(),g=m[0],v=m[1],y=this.label.line||0,b=l.labelEdge,x=l.justifyLabels&&(c||u);if(b[y]===W||d+g>b[y]?b[y]=d+v:x||(a=!1),x){s=l.justifyToPlot,n=s?l.pos:0,i=s?n+l.len:l.chart.chartWidth;do t+=c?1:-1,r=l.ticks[f[t]];while(f[t]&&(!r||r.label.line!==y));o=r&&r.label.xy&&r.label.xy.x+r.getLabelSides()[c?0:1],c&&!p||u&&p?n>d+g&&(d=n-g,r&&d+v>o&&(a=!1)):d+v>i&&(d=i-v,r&&o>d+g&&(a=!1)),e.x=d}return a},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,n,i,r,o,s,a){var l=this.axis,c=l.transA,u=l.reversed,d=l.staggerLines,p=l.chart.renderer.fontMetrics(r.style.fontSize).b,f=r.rotation;return t=t+r.x-(o&&i?o*c*(u?-1:1):0),e=e+r.y-(o&&!i?o*c*(u?1:-1):0),f&&2===l.side&&(e-=p-p*xe(f*ke)),h(r.y)||f||(e+=p-n.getBBox().height/2),d&&(n.line=s/(a||1)%d,e+=n.line*(l.labelOffset/d)),{x:t,y:e}
},getMarkPath:function(t,e,n,i,r,o){return o.crispLine([$e,t,e,Ke,t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e,n){var i,r,o,s=this,a=s.axis,l=a.options,c=a.chart,u=c.renderer,h=a.horiz,d=s.type,p=s.label,m=s.pos,g=l.labels,v=s.gridLine,y=d?d+"Grid":"grid",b=d?d+"Tick":"tick",x=l[y+"LineWidth"],w=l[y+"LineColor"],_=l[y+"LineDashStyle"],k=l[b+"Length"],S=l[b+"Width"]||0,C=l[b+"Color"],T=l[b+"Position"],M=s.mark,A=g.step,E=!0,P=a.tickmarkOffset,L=s.getPosition(h,m,P,e),I=L.x,N=L.y,j=h&&I===a.pos+a.len||!h&&N===a.pos?-1:1;this.isActive=!0,x&&(i=a.getPlotLinePath(m+P,x*j,e,!0),v===W&&(o={stroke:w,"stroke-width":x},_&&(o.dashstyle=_),d||(o.zIndex=1),e&&(o.opacity=0),s.gridLine=v=x?u.path(i).attr(o).add(a.gridGroup):null),!e&&v&&i&&v[s.isNew?"attr":"animate"]({d:i,opacity:n})),S&&k&&("inside"===T&&(k=-k),a.opposite&&(k=-k),r=s.getMarkPath(I,N,k,S*j,h,u),M?M.animate({d:r,opacity:n}):s.mark=u.path(r).attr({stroke:C,"stroke-width":S,opacity:n}).add(a.axisGroup)),p&&!isNaN(I)&&(p.xy=L=s.getLabelPosition(I,N,p,h,g,P,t,A),s.isFirst&&!s.isLast&&!f(l.showFirstLabel,1)||s.isLast&&!s.isFirst&&!f(l.showLastLabel,1)?E=!1:a.isRadial||g.step||g.rotation||e||0===n||(E=s.handleOverflow(t,L)),A&&t%A&&(E=!1),E&&!isNaN(L.y)?(L.opacity=n,p[s.isNew?"attr":"animate"](L),s.isNew=!1):p.attr("y",-9999))},destroy:function(){E(this,this.axis)}},dn.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},dn.PlotLineOrBand.prototype={render:function(){var t,n,i,r,o,s,a,c=this,u=c.axis,d=u.horiz,p=(u.pointRange||0)/2,m=c.options,g=m.label,v=c.label,y=m.width,b=m.to,x=m.from,w=h(x)&&h(b),_=m.value,k=m.dashStyle,S=c.svgElem,C=[],T=m.color,E=m.zIndex,P=m.events,L=u.chart.renderer;if(u.isLog&&(x=l(x),b=l(b),_=l(_)),y)C=u.getPlotLinePath(_,y),a={stroke:T,"stroke-width":y},k&&(a.dashstyle=k);else{if(!w)return;x=ve(x,u.min-p),b=ye(b,u.max+p),C=u.getPlotBandPath(x,b,m),a={fill:T},m.borderWidth&&(a.stroke=m.borderColor,a["stroke-width"]=m.borderWidth)}if(h(E)&&(a.zIndex=E),S)C?S.animate({d:C},null,S.onGetPath):(S.hide(),S.onGetPath=function(){S.show()},v&&(c.label=v=v.destroy()));else if(C&&C.length&&(c.svgElem=S=L.path(C).attr(a).add(),P)){t=function(t){S.on(t,function(e){P[t].apply(c,[e])})};for(n in P)t(n)}return g&&h(g.text)&&C&&C.length&&u.width>0&&u.height>0?(g=e({align:d&&w&&"center",x:d?!w&&4:10,verticalAlign:!d&&w&&"middle",y:d?w?16:10:w?6:-4,rotation:d&&!w&&90},g),v||(c.label=v=L.text(g.text,0,0,g.useHTML).attr({align:g.textAlign||g.align,rotation:g.rotation,zIndex:E}).css(g.style).add()),i=[C[1],C[4],f(C[6],C[1])],r=[C[2],C[5],f(C[7],C[2])],o=M(i),s=M(r),v.align(g,!1,{x:o,y:s,width:A(i)-o,height:A(r)-s}),v.show()):v&&v.hide(),c},destroy:function(){u(this.axis.plotLinesAndBands,this),delete this.axis,E(this)}},Q={getPlotBandPath:function(t,e){var n=this.getPlotLinePath(e),i=this.getPlotLinePath(t);return i&&n?i.push(n[4],n[5],n[1],n[2]):i=null,i},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var n=new dn.PlotLineOrBand(this,t).render(),i=this.userOptions;return n&&(e&&(i[e]=i[e]||[],i[e].push(t)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();yn([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&u(e,e[r])})}},z.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:An,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return y(this.total,-1)},style:An.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var n=e.isX,i=this;i.horiz=t.inverted?!n:n,i.isXAxis=n,i.coll=n?"xAxis":"yAxis",i.opposite=e.opposite,i.side=e.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(e);var r=this.options,o=r.type,s="datetime"===o;i.labelFormatter=r.labels.formatter||i.defaultLabelFormatter,i.userOptions=e,i.minPixelPadding=0,i.chart=t,i.reversed=r.reversed,i.zoomEnabled=r.zoomEnabled!==!1,i.categories=r.categories||"category"===o,i.names=[],i.isLog="logarithmic"===o,i.isDatetimeAxis=s,i.isLinked=h(r.linkedTo),i.tickmarkOffset=i.categories&&"between"===r.tickmarkPlacement?.5:0,i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=r.minRange||r.maxZoom,i.range=r.range,i.offset=r.offset||0,i.stacks={},i.oldStacks={},i.max=null,i.min=null,i.crosshair=f(r.crosshair,p(t.options.tooltip.crosshairs)[n?0:1],!1);var a,u=i.options.events;-1===vn(i,t.axes)&&(n&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,i):t.axes.push(i),t[i.coll].push(i)),i.series=i.series||[],t.inverted&&n&&i.reversed===W&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine;for(a in u)_n(i,a,u[a]);i.isLog&&(i.val2lin=l,i.lin2val=c)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(X[this.coll],t))},defaultLabelFormatter:function(){var t,e,n=this.axis,i=this.value,r=n.categories,o=this.dateTimeLabelFormat,s=X.lang.numericSymbols,a=s&&s.length,l=n.options.labels.format,c=n.isLog?i:n.tickInterval;if(l)e=_(l,this);else if(r)e=i;else if(o)e=Y(o,i);else if(a&&c>=1e3)for(;a--&&e===W;)t=Math.pow(1e3,a+1),c>=t&&null!==s[a]&&(e=y(i/t,-1)+s[a]);return e===W&&(e=i>=1e4?y(i,0):y(i,-1,W,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.buildStacks&&t.buildStacks(),yn(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var i,r,o,s=n.options,a=s.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=a&&(a=null),t.isXAxis?(i=n.xData,i.length&&(t.dataMin=ye(f(t.dataMin,i[0]),M(i)),t.dataMax=ve(f(t.dataMax,i[0]),A(i)))):(n.getExtremes(),o=n.dataMax,r=n.dataMin,h(r)&&h(o)&&(t.dataMin=ye(f(t.dataMin,r),r),t.dataMax=ve(f(t.dataMax,o),o)),h(a)&&(t.dataMin>=a?(t.dataMin=a,t.ignoreMinPadding=!0):t.dataMax<a&&(t.dataMax=a,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,n,i,r,o){var s,l=this,c=1,u=0,h=i?l.oldTransA:l.transA,d=i?l.oldMin:l.min,p=l.minPixelPadding,f=(l.options.ordinal||l.isLog&&r)&&l.lin2val;return h||(h=l.transA),n&&(c*=-1,u=l.len),l.reversed&&(c*=-1,u-=c*(l.sector||l.len)),e?(t=t*c+u,t-=p,s=t/h+d,f&&(s=l.lin2val(s))):(f&&(t=l.val2lin(t)),"between"===o&&(o=.5),s=c*(t-d)*h+u+c*p+(a(o)?h*o*l.pointRange:0)),s},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l,c,u=this,h=u.chart,d=u.left,p=u.top,m=n&&h.oldChartHeight||h.chartHeight,g=n&&h.oldChartWidth||h.chartWidth,v=u.transB;return r=f(r,u.translate(t,null,null,n)),o=a=fe(r+v),s=l=fe(m-r-v),isNaN(r)?c=!0:u.horiz?(s=p,l=m-u.bottom,(d>o||o>d+u.width)&&(c=!0)):(o=d,a=g-u.right,(p>s||s>p+u.height)&&(c=!0)),c&&!i?null:h.renderer.crispLine([$e,o,s,Ke,a,l],e||1)},getLinearTickPositions:function(t,e,n){var i,r,o=I(me(e/t)*t),s=I(ge(n/t)*t),a=[];for(i=o;s>=i&&(a.push(i),i=I(i+t),i!==r);)r=i;return a},getMinorTickPositions:function(){var t,e,n,i=this,r=i.options,o=i.tickPositions,s=i.minorTickInterval,a=[];if(i.isLog)for(n=o.length,e=1;n>e;e++)a=a.concat(i.getLogTickPositions(s,o[e-1],o[e],!0));else if(i.isDatetimeAxis&&"auto"===r.minorTickInterval)a=a.concat(i.getTimeTicks(i.normalizeTimeTickInterval(s),i.min,i.max,r.startOfWeek)),a[0]<i.min&&a.shift();else for(t=i.min+(o[0]-i.min)%s;t<=i.max;t+=s)a.push(t);return a},adjustForMinRange:function(){var t,e,n,i,r,o,s,a,l=this,c=l.options,u=l.min,d=l.max,p=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===W&&!l.isLog&&(h(c.min)||h(c.max)?l.minRange=null:(yn(l.series,function(t){for(r=t.xData,o=t.xIncrement?1:r.length-1,n=o;n>0;n--)i=r[n]-r[n-1],(e===W||e>i)&&(e=i)}),l.minRange=ye(5*e,l.dataMax-l.dataMin))),d-u<l.minRange){var m=l.minRange;t=(m-d+u)/2,s=[u-t,f(c.min,u-t)],p&&(s[2]=l.dataMin),u=A(s),a=[u+m,f(c.max,u+m)],p&&(a[2]=l.dataMax),d=M(a),m>d-u&&(s[0]=d-m,s[1]=f(c.min,d-m),u=A(s))}l.min=u,l.max=d},setAxisTranslation:function(t){var e,n,i=this,o=i.max-i.min,s=i.axisPointRange||0,a=0,l=0,c=i.linkedParent,u=!!i.categories,d=i.transA;(i.isXAxis||u||s)&&(c?(a=c.minPointOffset,l=c.pointRangePadding):yn(i.series,function(t){var n=ve(i.isXAxis?t.pointRange:i.axisPointRange||0,+u),c=t.options.pointPlacement,d=t.closestPointRange;n>o&&(n=0),s=ve(s,n),a=ve(a,r(c)?0:n/2),l=ve(l,"on"===c?0:n),!t.noSharedTooltip&&h(d)&&(e=h(e)?ye(e,d):d)}),n=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=a*=n,i.pointRangePadding=l*=n,i.pointRange=ye(s,o),i.closestPointRange=e),t&&(i.oldTransA=d),i.translationSlope=i.transA=d=i.len/(o+l||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=d*a},setTickPositions:function(t){var e,n,i,r,o=this,s=o.chart,a=o.options,c=o.isLog,u=o.isDatetimeAxis,d=o.isXAxis,p=o.isLinked,m=o.options.tickPositioner,g=a.maxPadding,v=a.minPadding,y=a.tickInterval,b=a.minTickInterval,x=a.tickPixelInterval,w=o.categories;if(p?(o.linkedParent=s[o.coll][a.linkedTo],n=o.linkedParent.getExtremes(),o.min=f(n.min,n.dataMin),o.max=f(n.max,n.dataMax),a.type!==o.linkedParent.options.type&&L(11,1)):(o.min=f(o.userMin,a.min,o.dataMin),o.max=f(o.userMax,a.max,o.dataMax)),c&&(!t&&ye(o.min,f(o.dataMin,o.min))<=0&&L(10,1),o.min=I(l(o.min)),o.max=I(l(o.max))),o.range&&h(o.max)&&(o.userMin=o.min=ve(o.min,o.max-o.range),o.userMax=o.max,o.range=null),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),w||o.axisPointRange||o.usePercentage||p||!h(o.min)||!h(o.max)||(e=o.max-o.min,e&&(h(a.min)||h(o.userMin)||!v||!(o.dataMin<0)&&o.ignoreMinPadding||(o.min-=e*v),h(a.max)||h(o.userMax)||!g||!(o.dataMax>0)&&o.ignoreMaxPadding||(o.max+=e*g))),o.min===o.max||void 0===o.min||void 0===o.max?o.tickInterval=1:p&&!y&&x===o.linkedParent.options.tickPixelInterval?o.tickInterval=o.linkedParent.tickInterval:(o.tickInterval=f(y,w?1:(o.max-o.min)*x/ve(o.len,x)),!h(y)&&o.len<x&&!this.isRadial&&!this.isLog&&!w&&a.startOnTick&&a.endOnTick&&(r=!0,o.tickInterval/=4)),d&&!t&&yn(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&(o.tickInterval=ve(o.pointRange,o.tickInterval)),!y&&o.tickInterval<b&&(o.tickInterval=b),u||c||y||(o.tickInterval=S(o.tickInterval,null,k(o.tickInterval),a)),o.minorTickInterval="auto"===a.minorTickInterval&&o.tickInterval?o.tickInterval/5:a.minorTickInterval,o.tickPositions=i=a.tickPositions?[].concat(a.tickPositions):m&&m.apply(o,[o.min,o.max]),i||(!o.ordinalPositions&&(o.max-o.min)/o.tickInterval>ve(2*o.len,200)&&L(19,!0),i=u?o.getTimeTicks(o.normalizeTimeTickInterval(o.tickInterval,a.units),o.min,o.max,a.startOfWeek,o.ordinalPositions,o.closestPointRange,!0):c?o.getLogTickPositions(o.tickInterval,o.min,o.max):o.getLinearTickPositions(o.tickInterval,o.min,o.max),r&&i.splice(1,i.length-2),o.tickPositions=i),!p){var _,C=i[0],T=i[i.length-1],M=o.minPointOffset||0;a.startOnTick?o.min=C:o.min-M>C&&i.shift(),a.endOnTick?o.max=T:o.max+M<T&&i.pop(),1===i.length&&(_=.001*be(o.max||1),o.min-=_,o.max+=_)}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},n=this.tickPositions,i=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(e[i]||0)&&this.options.alignTicks!==!1&&(e[i]=n.length),t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,n=t._maxTicksKey,i=t.tickPositions,r=e.maxTicks;if(r&&r[n]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==!1&&this.min!==W){var o,s=t.tickAmount,a=i.length;if(t.tickAmount=o=r[n],o>a){for(;i.length<o;)i.push(I(i[i.length-1]+t.tickInterval));t.transA*=(a-1)/(o-1),t.max=i[i.length-1]}h(s)&&o!==s&&(t.isDirty=!0)}},setScale:function(){var t,e,n,i,r=this,o=r.stacks;if(r.oldMin=r.min,r.oldMax=r.max,r.oldAxisLength=r.len,r.setAxisSize(),i=r.len!==r.oldAxisLength,yn(r.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(n=!0)}),i||n||r.isLinked||r.forceRedraw||r.userMin!==r.oldUserMin||r.userMax!==r.oldUserMax){if(!r.isXAxis)for(t in o)for(e in o[t])o[t][e].total=null,o[t][e].cum=0;r.forceRedraw=!1,r.getSeriesExtremes(),r.setTickPositions(),r.oldUserMin=r.userMin,r.oldUserMax=r.userMax,r.isDirty||(r.isDirty=i||r.min!==r.oldMin||r.max!==r.oldMax)}else if(!r.isXAxis){r.oldStacks&&(o=r.stacks=r.oldStacks);for(t in o)for(e in o[t])o[t][e].cum=o[t][e].total}r.setMaxTicks()},setExtremes:function(e,n,i,r,o){var s=this,a=s.chart;i=f(i,!0),o=t(o,{min:e,max:n}),Sn(s,"setExtremes",o,function(){s.userMin=e,s.userMax=n,s.eventArgs=o,s.isDirtyExtremes=!0,i&&a.redraw(r)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options;return this.allowZoomOutside||(h(n)&&t<=ye(n,f(r.min,n))&&(t=W),h(i)&&e>=ve(i,f(r.max,i))&&(e=W)),this.displayBtn=t!==W||e!==W,this.setExtremes(t,e,!1,W,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,n,i,r=this.chart,o=this.options,s=o.offsetLeft||0,a=o.offsetRight||0,l=this.horiz;this.left=i=f(o.left,r.plotLeft+s),this.top=n=f(o.top,r.plotTop),this.width=t=f(o.width,r.plotWidth-s+a),this.height=e=f(o.height,r.plotHeight),this.bottom=r.chartHeight-e-n,this.right=r.chartWidth-t-i,this.len=ve(l?t:e,0),this.pos=l?i:n},getExtremes:function(){var t=this,e=t.isLog;return{min:e?I(c(t.min)):t.min,max:e?I(c(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,n=e.isLog,i=n?c(e.min):e.min,r=n?c(e.max):e.max;return i>t||null===t?t=i:t>r&&(t=r),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,n=(f(t,0)-90*this.side+720)%360;return e=n>15&&165>n?"right":n>195&&345>n?"left":"center"},getOffset:function(){var t,e,n,i,r,o,s,a,l,c,u,d,p,m=this,g=m.chart,v=g.renderer,y=m.options,b=m.tickPositions,x=m.ticks,w=m.horiz,_=m.side,k=g.inverted?[1,0,3,2][_]:_,S=0,C=0,T=y.title,M=y.labels,A=0,E=g.axisOffset,P=g.clipOffset,L=[-1,1,1,-1][_],I=1,N=f(M.maxStaggerLines,5);if(m.hasData=t=m.hasVisibleSeries||h(m.min)&&h(m.max)&&!!b,m.showAxis=e=t||f(y.showEmpty,!0),m.staggerLines=m.horiz&&M.staggerLines,m.axisGroup||(m.gridGroup=v.g("grid").attr({zIndex:y.gridZIndex||1}).add(),m.axisGroup=v.g("axis").attr({zIndex:y.zIndex||2}).add(),m.labelGroup=v.g("axis-labels").attr({zIndex:M.zIndex||7}).addClass(Ve+m.coll.toLowerCase()+"-labels").add()),t||m.isLinked){if(m.labelAlign=f(M.align||m.autoLabelAlign(M.rotation)),yn(b,function(t){x[t]?x[t].addLabel():x[t]=new R(m,t)}),m.horiz&&!m.staggerLines&&N&&!M.rotation){for(o=m.reversed?[].concat(b).reverse():b;N>I;){for(s=[],a=!1,r=0;r<o.length;r++)l=o[r],c=x[l].label&&x[l].label.getBBox(),d=c?c.width:0,p=r%I,d&&(u=m.translate(l),s[p]!==W&&u<s[p]&&(a=!0),s[p]=u+d);if(!a)break;I++}I>1&&(m.staggerLines=I)}yn(b,function(t){(0===_||2===_||{1:"left",3:"right"}[_]===m.labelAlign)&&(A=ve(x[t].getLabelSize(),A))}),m.staggerLines&&(A*=m.staggerLines,m.labelOffset=A)}else for(i in x)x[i].destroy(),delete x[i];T&&T.text&&T.enabled!==!1&&(m.axisTitle||(m.axisTitle=v.text(T.text,0,0,T.useHTML).attr({zIndex:7,rotation:T.rotation||0,align:T.textAlign||{low:"left",middle:"center",high:"right"}[T.align]}).addClass(Ve+this.coll.toLowerCase()+"-title").css(T.style).add(m.axisGroup),m.axisTitle.isNew=!0),e&&(S=m.axisTitle.getBBox()[w?"height":"width"],C=f(T.margin,w?5:10),n=T.offset),m.axisTitle[e?"show":"hide"]()),m.offset=L*f(y.offset,E[_]),m.axisTitleMargin=f(n,A+C+(2!==_&&A&&L*y.labels[w?"y":"x"])),E[_]=ve(E[_],m.axisTitleMargin+S+L*m.offset),P[k]=ve(P[k],2*me(y.lineWidth/2))},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,s=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine([$e,r?this.left:o,r?s:this.top,Ke,r?e.chartWidth-this.right:o,r?s:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,r=this.len,o=this.options.title,s=t?e:n,a=this.opposite,l=this.offset,c=i(o.style.fontSize||12),u={low:s+(t?0:r),middle:s+r/2,high:s+(t?r:0)}[o.align],h=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?u:h+(a?this.width:0)+l+(o.x||0),y:t?h-(a?this.height:0)+l:u+(o.y||0)}},render:function(){var t,e,n,i,r=this,o=r.horiz,s=r.reversed,a=r.chart,l=a.renderer,u=r.options,d=r.isLog,p=r.isLinked,f=r.tickPositions,m=r.axisTitle,g=r.ticks,v=r.minorTicks,y=r.alternateBands,b=u.stackLabels,x=u.alternateGridColor,w=r.tickmarkOffset,_=u.lineWidth,k=a.hasRendered,S=k&&h(r.oldMin)&&!isNaN(r.oldMin),C=r.hasData,T=r.showAxis,M=u.labels.overflow,A=r.justifyLabels=o&&M!==!1;r.labelEdge.length=0,r.justifyToPlot="justify"===M,yn([g,v,y],function(t){var e;for(e in t)t[e].isActive=!1}),(C||p)&&(r.minorTickInterval&&!r.categories&&yn(r.getMinorTickPositions(),function(t){v[t]||(v[t]=new R(r,t,"minor")),S&&v[t].isNew&&v[t].render(null,!0),v[t].render(null,!1,1)}),f.length&&(t=f.slice(),(o&&s||!o&&!s)&&t.reverse(),A&&(t=t.slice(1).concat([t[0]])),yn(t,function(e,n){A&&(n=n===t.length-1?0:n+1),(!p||e>=r.min&&e<=r.max)&&(g[e]||(g[e]=new R(r,e)),S&&g[e].isNew&&g[e].render(n,!0,.1),g[e].render(n,!1,1))}),w&&0===r.min&&(g[-1]||(g[-1]=new R(r,-1,null,!0)),g[-1].render(-1))),x&&yn(f,function(t,e){e%2===0&&t<r.max&&(y[t]||(y[t]=new dn.PlotLineOrBand(r)),n=t+w,i=f[e+1]!==W?f[e+1]+w:r.max,y[t].options={from:d?c(n):n,to:d?c(i):i,color:x},y[t].render(),y[t].isActive=!0)}),r._addedPlotLB||(yn((u.plotLines||[]).concat(u.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),yn([g,v,y],function(t){var e,n,i=[],r=G?G.duration||500:0,o=function(){for(n=i.length;n--;)t[i[n]]&&!t[i[n]].isActive&&(t[i[n]].destroy(),delete t[i[n]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,i.push(e));t!==y&&a.hasRendered&&r?r&&setTimeout(o,r):o()}),_&&(e=r.getLinePath(_),r.axisLine?r.axisLine.animate({d:e}):r.axisLine=l.path(e).attr({stroke:u.lineColor,"stroke-width":_,zIndex:7}).add(r.axisGroup),r.axisLine[T?"show":"hide"]()),m&&T&&(m[m.isNew?"attr":"animate"](r.getTitlePosition()),m.isNew=!1),b&&b.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){var t=this,e=t.chart,n=e.pointer;n&&n.reset(!0),t.render(),yn(t.plotLinesAndBands,function(t){t.render()}),yn(t.series,function(t){t.isDirty=!0})},destroy:function(t){var e,n,i=this,r=i.stacks,o=i.plotLinesAndBands;t||kn(i);for(e in r)E(r[e]),r[e]=null;for(yn([i.ticks,i.minorTicks,i.alternateBands],function(t){E(t)}),n=o.length;n--;)o[n].destroy();yn(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){if(this.crosshair){if((h(e)||!f(this.crosshair.snap,!0))===!1)return void this.hideCrosshair();var n,i,r=this.crosshair,o=r.animation;if(f(r.snap,!0)?h(e)&&(i=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:f(e.stackY,e.y)):this.getPlotLinePath(null,null,null,null,i),null===n)return void this.hideCrosshair();if(this.cross)this.cross.attr({visibility:Xe})[o?"animate":"attr"]({d:n},o);else{var s={"stroke-width":r.width||1,stroke:r.color||"#C0C0C0",zIndex:r.zIndex||2};r.dashStyle&&(s.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(s).add()}}},hideCrosshair:function(){this.cross&&this.cross.hide()}},t(z.prototype,Q),z.prototype.getTimeTicks=function(e,n,i,r){var o,s,a=[],l={},c=X.global.useUTC,u=new Date(n-J),d=e.unitRange,p=e.count;if(h(n)){d>=K[nn]&&(u.setMilliseconds(0),u.setSeconds(d>=K[rn]?0:p*me(u.getSeconds()/p))),d>=K[rn]&&u[se](d>=K[on]?0:p*me(u[te]()/p)),d>=K[on]&&u[ae](d>=K[sn]?0:p*me(u[ee]()/p)),d>=K[sn]&&u[le](d>=K[ln]?1:p*me(u[ie]()/p)),d>=K[ln]&&(u[ce](d>=K[cn]?0:p*me(u[re]()/p)),s=u[oe]()),d>=K[cn]&&(s-=s%p,u[ue](s)),d===K[an]&&u[le](u[ie]()-u[ne]()+f(r,1)),o=1,J&&(u=new Date(u.getTime()+J)),s=u[oe]();for(var m=u.getTime(),g=u[re](),v=u[ie](),y=c?J:(864e5+60*u.getTimezoneOffset()*1e3)%864e5;i>m;)a.push(m),d===K[cn]?m=Z(s+o*p,0):d===K[ln]?m=Z(s,g+o*p):c||d!==K[sn]&&d!==K[an]?m+=d*p:m=Z(s,g,v+o*p*(d===K[sn]?1:7)),o++;a.push(m),yn(bn(a,function(t){return d<=K[on]&&t%K[sn]===y}),function(t){l[t]=sn})}return a.info=t(e,{higherRanks:l,totalRange:d*p}),a},z.prototype.normalizeTimeTickInterval=function(t,e){var n,i,r=e||[[en,[1,2,5,10,20,25,50,100,200,500]],[nn,[1,2,5,10,15,30]],[rn,[1,2,5,10,15,30]],[on,[1,2,3,4,6,8,12]],[sn,[1,2]],[an,[1,2]],[ln,[1,2,3,4,6]],[cn,null]],o=r[r.length-1],s=K[o[0]],a=o[1];for(i=0;i<r.length;i++)if(o=r[i],s=K[o[0]],a=o[1],r[i+1]){var l=(s*a[a.length-1]+K[r[i+1][0]])/2;if(l>=t)break}return s===K[cn]&&5*s>t&&(a=[1,2,5]),n=S(t/s,a,o[0]===cn?ve(k(t/s),1):1),{unitRange:s,count:n,unitName:o[0]}},z.prototype.getLogTickPositions=function(t,e,n,i){var r=this,o=r.options,s=r.len,a=[];if(i||(r._minorAutoInterval=null),t>=.5)t=fe(t),a=r.getLinearTickPositions(t,e,n);else if(t>=.08){var u,h,d,p,m,g,v,y=me(e);for(u=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],h=y;n+1>h&&!v;h++)for(p=u.length,d=0;p>d&&!v;d++)m=l(c(h)*u[d]),m>e&&(!i||n>=g)&&a.push(g),g>n&&(v=!0),g=m}else{var b=c(e),x=c(n),w=o[i?"minorTickInterval":"tickInterval"],_="auto"===w?null:w,C=o.tickPixelInterval/(i?5:1),T=i?s/r.tickPositions.length:s;t=f(_,r._minorAutoInterval,(x-b)*C/(T||1)),t=S(t,null,k(t)),a=wn(r.getLinearTickPositions(t,b,x),l),i||(r._minorAutoInterval=t/5)}return i||(r.tickInterval=t),a};var Bn=dn.Tooltip=function(){this.init.apply(this,arguments)};Bn.prototype={init:function(t,e){var n=e.borderWidth,r=e.style,o=i(r.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999}),je||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,n,i,r){var o=this,s=o.now,a=o.options.animation!==!1&&!o.isHidden;t(s,{x:a?(2*s.x+e)/3:e,y:a?(s.y+n)/2:n,anchorX:a?(2*s.anchorX+i)/3:i,anchorY:a?(s.anchorY+r)/2:r}),o.label.attr(s),a&&(be(e-s.x)>1||be(n-s.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,n,i,r)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},f(this.options.hideDelay,500)),t&&yn(t,function(t){t.setState()}),this.chart.hoverPoints=null)},getAnchor:function(t,e){var n,i,r=this.chart,o=r.inverted,s=r.plotTop,a=0,l=0;return t=p(t),n=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===W&&(e=r.pointer.normalize(e)),n=[e.chartX-r.plotLeft,e.chartY-s]),n||(yn(t,function(t){i=t.series.yAxis,a+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&i?i.top-s:0)}),a/=t.length,l/=t.length,n=[o?r.plotWidth-l:a,this.shared&&!o&&t.length>1&&e?e.chartY-s:o?r.plotHeight-a:l]),wn(n,fe)},getPosition:function(t,e,n){var i,r=this.chart,o=r.plotLeft,s=r.plotTop,a=r.plotWidth,l=r.plotHeight,c=f(this.options.distance,12),u=isNaN(n.plotX)?0:n.plotX,h=n.plotY,d=u+o+(r.inverted?c:-t-c),p=h-e+s+15;return 7>d&&(d=o+ve(u,0)+c),d+t>o+a&&(d-=d+t-(o+a),p=h-e+s-c,i=!0),s+5>p&&(p=s+5,i&&h>=p&&p+e>=h&&(p=h+s+c)),p+e>s+l&&(p=ve(s,s+l-e-c)),{x:d,y:p}},defaultFormatter:function(t){var e,n=this.points||p(this),i=n[0].series;return e=[t.tooltipHeaderFormatter(n[0])],yn(n,function(t){i=t.series,e.push(i.tooltipFormatter&&i.tooltipFormatter(t)||t.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var n,i,r,o,s,a,l=this,c=l.chart,u=l.label,h=l.options,d={},f=[],m=h.formatter||l.defaultFormatter,g=c.hoverPoints,v=l.shared;clearTimeout(this.hideTimer),l.followPointer=p(t)[0].series.tooltipOptions.followPointer,r=l.getAnchor(t,e),n=r[0],i=r[1],!v||t.series&&t.series.noSharedTooltip?d=t.getLabelConfig():(c.hoverPoints=t,g&&yn(g,function(t){t.setState()}),yn(t,function(t){t.setState(Je),f.push(t.getLabelConfig())}),d={x:t[0].category,y:t[0].y},d.points=f,t=t[0]),o=m.call(d,l),a=t.series,o===!1?this.hide():(l.isHidden&&(Mn(u),u.attr("opacity",1).show()),u.attr({text:o}),s=h.borderColor||t.color||a.color||"#606060",u.attr({stroke:s}),l.updatePosition({plotX:n,plotY:i}),this.isHidden=!1),Sn(c,"tooltipRefresh",{text:o,x:n+c.plotLeft,y:i+c.plotTop,borderColor:s})},updatePosition:function(t){var e=this.chart,n=this.label,i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(fe(i.x),fe(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)},tooltipHeaderFormatter:function(t){var e,n=t.series,i=n.tooltipOptions,r=i.dateTimeLabelFormats,o=i.xDateFormat,s=n.xAxis,l=s&&"datetime"===s.options.type&&a(t.key),c=i.headerFormat,u=s&&s.closestPointRange;if(l&&!o){if(u){for(e in K)if(K[e]>=u||K[e]<=K[sn]&&t.key%K[e]>0){o=r[e];break}}else o=r.day;o=o||r.year}return l&&o&&(c=c.replace("{point.key}","{point.key:"+o+"}")),_(c,{point:t,series:n})}};var Wn;q=he.documentElement.ontouchstart!==W;var Un=dn.Pointer=function(t,e){this.init(t,e)};if(Un.prototype={init:function(t,e){var n,i,r=e.chart,o=r.events,s=je?"":r.zoomType,a=t.inverted;this.options=e,this.chart=t,this.zoomX=n=/x/.test(s),this.zoomY=i=/y/.test(s),this.zoomHor=n&&!a||i&&a,this.zoomVert=i&&!a||n&&a,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},dn.Tooltip&&e.tooltip.enabled&&(t.tooltip=new Bn(t,e.tooltip)),this.setDOMEvents()},normalize:function(e,n){var i,r,o;return e=e||de.event,e=Cn(e),e.target||(e.target=e.srcElement),o=e.touches?e.touches.item(0):e,n||(this.chartPosition=n=xn(this.chart.container)),o.pageX===W?(i=ve(e.x,e.clientX-n.left),r=e.y):(i=o.pageX-n.left,r=o.pageY-n.top),t(e,{chartX:fe(i),chartY:fe(r)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return yn(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,n,i,r,o,s=this,a=s.chart,l=a.series,c=a.tooltip,u=a.hoverPoint,d=a.hoverSeries,p=a.chartWidth,m=s.getIndex(t);if(c&&s.options.tooltip.shared&&(!d||!d.noSharedTooltip)){for(n=[],i=l.length,r=0;i>r;r++)l[r].visible&&l[r].options.enableMouseTracking!==!1&&!l[r].noSharedTooltip&&l[r].singularTooltips!==!0&&l[r].tooltipPoints.length&&(e=l[r].tooltipPoints[m],e&&e.series&&(e._dist=be(m-e.clientX),p=ye(p,e._dist),n.push(e)));for(i=n.length;i--;)n[i]._dist>p&&n.splice(i,1);n.length&&n[0].clientX!==s.hoverX&&(c.refresh(n,t),s.hoverX=n[0].clientX)}!d||!d.tracker||c&&c.followPointer?c&&c.followPointer&&!c.isHidden&&(o=c.getAnchor([{}],t),c.updatePosition({plotX:o[0],plotY:o[1]})):(e=d.tooltipPoints[m],e&&e!==u&&e.onMouseOver(t)),c&&!s._onDocumentMouseMove&&(s._onDocumentMouseMove=function(t){h(Wn)&&Re[Wn].pointer.onDocumentMouseMove(t)},_n(he,"mousemove",s._onDocumentMouseMove)),yn(a.axes,function(n){n.drawCrosshair(t,f(e,u))})},reset:function(t){var e=this,n=e.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.tooltip,s=o&&o.shared?n.hoverPoints:r;t=t&&o&&s,t&&p(s)[0].plotX===W&&(t=!1),t?(o.refresh(s),r&&r.setState(r.state,!0)):(r&&r.onMouseOut(),i&&i.onMouseOut(),o&&o.hide(),e._onDocumentMouseMove&&(kn(he,"mousemove",e._onDocumentMouseMove),e._onDocumentMouseMove=null),yn(n.axes,function(t){t.hideCrosshair()}),e.hoverX=null)},scaleGroups:function(t,e){var n,i=this.chart;yn(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n,i=this.chart,r=i.options.chart,o=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,c=i.plotLeft,u=i.plotTop,h=i.plotWidth,d=i.plotHeight,p=this.mouseDownX,f=this.mouseDownY;c>o?o=c:o>c+h&&(o=c+h),u>s?s=u:s>u+d&&(s=u+d),this.hasDragged=Math.sqrt(Math.pow(p-o,2)+Math.pow(f-s,2)),this.hasDragged>10&&(e=i.isInsidePlot(p-c,f-u),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&(this.selectionMarker||(this.selectionMarker=i.renderer.rect(c,u,a?1:h,l?1:d,0).attr({fill:r.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&a&&(n=o-p,this.selectionMarker.attr({width:be(n),x:(n>0?0:n)+p})),this.selectionMarker&&l&&(n=s-f,this.selectionMarker.attr({height:be(n),y:(n>0?0:n)+f})),e&&!this.selectionMarker&&r.panning&&i.pan(t,r.panning))},drop:function(e){var n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},s=this.selectionMarker,a=s.x,l=s.y;(this.hasDragged||i)&&(yn(n.axes,function(t){if(t.zoomEnabled){var e=t.horiz,n=t.toValue(e?a:l),i=t.toValue(e?a+s.width:l+s.height);isNaN(n)||isNaN(i)||(o[t.coll].push({axis:t,min:ye(n,i),max:ve(n,i)}),r=!0)}}),r&&Sn(n,"selection",o,function(e){n.zoom(t(e,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(m(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){h(Wn)&&Re[Wn].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition,i=e.hoverSeries;t=this.normalize(t,n),n&&i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=Re[Wn];t&&(t.pointer.reset(),t.pointer.chartPosition=null),Wn=null},onContainerMouseMove:function(t){var e=this.chart;Wn=e.index,t=this.normalize(t),"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var n;t;){if(n=d(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf(Ve+"container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,n=t.relatedTarget||t.toElement,i=n&&n.point&&n.point.series;!e||e.options.stickyTracking||this.inClass(n,Ve+"tooltip")||i===e||e.onMouseOut()},onContainerClick:function(e){var n,i,r,o=this.chart,s=o.hoverPoint,a=o.plotLeft,l=o.plotTop,c=o.inverted;e=this.normalize(e),e.cancelBubble=!0,o.cancelClick||(s&&this.inClass(e.target,Ve+"tracker")?(n=this.chartPosition,i=s.plotX,r=s.plotY,t(s,{pageX:n.left+a+(c?o.plotWidth-r:i),pageY:n.top+l+(c?o.plotHeight-i:r)}),Sn(s.series,"click",t(e,{point:s})),o.hoverPoint&&s.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),o.isInsidePlot(e.chartX-a,e.chartY-l)&&Sn(o,"click",e)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},_n(e,"mouseleave",t.onContainerMouseLeave),_n(he,"mouseup",t.onDocumentMouseUp),q&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},_n(he,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;kn(this.chart.container,"mouseleave",this.onContainerMouseLeave),kn(he,"mouseup",this.onDocumentMouseUp),kn(he,"touchend",this.onDocumentTouchEnd),clearInterval(this.tooltipTimeout);
for(t in this)this[t]=null}},t(dn.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o,s,a){t&&this.pinchTranslateDirection(!0,n,i,r,o,s,a),e&&this.pinchTranslateDirection(!1,n,i,r,o,s,a)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,c,u,h,d,p,f=this.chart,m=t?"x":"y",g=t?"X":"Y",v="chart"+g,y=t?"width":"height",b=f["plot"+(t?"Left":"Top")],x=a||1,w=f.inverted,_=f.bounds[t?"h":"v"],k=1===e.length,S=e[0][v],C=n[0][v],T=!k&&e[1][v],M=!k&&n[1][v],A=function(){!k&&be(S-T)>20&&(x=a||be(C-M)/be(S-T)),u=(b-C)/x+S,l=f["plot"+(t?"Width":"Height")]/x};A(),c=u,c<_.min?(c=_.min,h=!0):c+l>_.max&&(c=_.max-l,h=!0),h?(C-=.8*(C-s[m][0]),k||(M-=.8*(M-s[m][1])),A()):s[m]=[C,M],w||(o[m]=u-b,o[y]=l),p=w?t?"scaleY":"scaleX":"scale"+g,d=w?1/x:x,r[y]=l,r[m]=c,i[p]=x,i["translate"+g]=d*b+(C-d*S)},pinch:function(e){var n=this,i=n.chart,r=n.pinchDown,o=i.tooltip&&i.tooltip.options.followTouchMove,s=e.touches,a=s.length,l=n.lastValidTouch,c=n.zoomHor||n.pinchHor,u=n.zoomVert||n.pinchVert,h=c||u,d=n.selectionMarker,p={},f=1===a&&(n.inClass(e.target,Ve+"tracker")&&i.runTrackerClick||i.runChartClick),m={};!h&&!o||f||e.preventDefault(),wn(s,function(t){return n.normalize(t)}),"touchstart"===e.type?(yn(s,function(t,e){r[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[r[0].chartX,r[1]&&r[1].chartX],l.y=[r[0].chartY,r[1]&&r[1].chartY],yn(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,r=t.toPixels(t.dataMin),o=t.toPixels(t.dataMax),s=ye(r,o),a=ve(r,o);e.min=ye(t.pos,s-n),e.max=ve(t.pos+t.len,a+n)}})):r.length&&(d||(n.selectionMarker=d=t({destroy:Fe},i.plotBox)),n.pinchTranslate(c,u,r,s,p,d,m,l),n.hasPinched=h,n.scaleGroups(p,m),!h&&o&&1===a&&this.runPointActions(n.normalize(e)))},onContainerTouchStart:function(t){var e=this.chart;Wn=e.index,1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){h(Wn)&&Re[Wn].pointer.drop(t)}}),de.PointerEvent||de.MSPointerEvent){var qn={},Vn=!!de.PointerEvent,Xn=function(){var t,e=[];e.item=function(t){return this[t]};for(t in qn)qn.hasOwnProperty(t)&&e.push({pageX:qn[t].pageX,pageY:qn[t].pageY,target:qn[t].target});return e},Yn=function(t,e,n,i){var r;t=t.originalEvent||t,"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Re[Wn]||(i(t),r=Re[Wn].pointer,r[e]({type:n,target:t.currentTarget,preventDefault:Fe,touches:Xn()}))};t(Un.prototype,{onContainerPointerDown:function(t){Yn(t,"onContainerTouchStart","touchstart",function(t){qn[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){Yn(t,"onContainerTouchMove","touchmove",function(t){qn[t.pointerId]={pageX:t.pageX,pageY:t.pageY},qn[t.pointerId].target||(qn[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){Yn(t,"onContainerTouchEnd","touchend",function(t){delete qn[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,Vn?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,Vn?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(he,Vn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),x(Un.prototype,"init",function(t,e,n){m(e.container,{"-ms-touch-action":Ge,"touch-action":Ge}),t.call(this,e,n)}),x(Un.prototype,"setDOMEvents",function(t){t.apply(this),this.batchMSEvents(_n)}),x(Un.prototype,"destroy",function(t){this.batchMSEvents(kn),t.call(this)})}var Gn=dn.Legend=function(t,e){this.init(t,e)};Gn.prototype={init:function(t,n){var r=this,o=n.itemStyle,s=f(n.padding,8),a=n.itemMarginTop||0;this.options=n,n.enabled&&(r.baseline=i(o.fontSize)+3+a,r.itemStyle=o,r.itemHiddenStyle=e(o,n.itemHiddenStyle),r.itemMarginTop=a,r.padding=s,r.initialItemX=s,r.initialItemY=s-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.lastLineHeight=0,r.symbolWidth=f(n.symbolWidth,16),r.pages=[],r.render(),_n(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(t,e){var n,i,r=this,o=r.options,s=t.legendItem,a=t.legendLine,l=t.legendSymbol,c=r.itemHiddenStyle.color,u=e?o.itemStyle.color:c,h=e?t.legendColor||t.color||"#CCC":c,d=t.options&&t.options.marker,p={stroke:h,fill:h};if(s&&s.css({fill:u,color:u}),a&&a.attr({stroke:h}),l){if(d&&l.isMarker){d=t.convertAttribs(d);for(n in d)i=d[n],i!==W&&(p[n]=i)}l.attr(p)}},positionItem:function(t){var e=this,n=e.options,i=n.symbolPadding,r=!n.rtl,o=t._legendItemPos,s=o[0],a=o[1],l=t.checkbox;t.legendGroup&&t.legendGroup.translate(r?s:e.legendWidth-s-2*i-4,a),l&&(l.x=s,l.y=a)},destroyItem:function(t){var e=t.checkbox;yn(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&P(t.checkbox)},destroy:function(){var t=this,e=t.group,n=t.box;n&&(t.box=n.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight;n&&(e=n.translateY,yn(this.allItems,function(r){var o,s=r.checkbox;s&&(o=e+s.y+(t||0)+3,m(s,{left:n.translateX+r.legendItemWidth+s.x-20+Ye,top:o+Ye,display:o>e-6&&e+i-6>o?"":Ge}))}))},renderTitle:function(){var t,e=this.options,n=this.padding,i=e.title,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),r=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},renderItem:function(t){var n,i,r,o=this,s=o.chart,a=s.renderer,l=o.options,c="horizontal"===l.layout,u=o.symbolWidth,h=l.symbolPadding,d=o.itemStyle,p=o.itemHiddenStyle,m=o.padding,g=c?f(l.itemDistance,8):0,v=!l.rtl,y=l.width,b=l.itemMarginBottom||0,x=o.itemMarginTop,w=o.initialItemX,k=t.legendItem,S=t.series&&t.series.drawLegendSymbol?t.series:t,C=S.options,T=o.createCheckboxForItem&&C&&C.showCheckbox,M=l.useHTML;k||(t.legendGroup=a.g("legend-item").attr({zIndex:1}).add(o.scrollGroup),S.drawLegendSymbol(o,t),t.legendItem=k=a.text(l.labelFormat?_(l.labelFormat,t):l.labelFormatter.call(t),v?u+h:-h,o.baseline,M).css(e(t.visible?d:p)).attr({align:v?"left":"right",zIndex:2}).add(t.legendGroup),o.setItemEvents&&o.setItemEvents(t,k,M,d,p),o.colorizeItem(t,t.visible),T&&o.createCheckboxForItem(t)),i=k.getBBox(),r=t.legendItemWidth=l.itemWidth||t.legendItemWidth||u+h+i.width+g+(T?20:0),o.itemHeight=n=fe(t.legendItemHeight||i.height),c&&o.itemX-w+r>(y||s.chartWidth-2*m-w-l.x)&&(o.itemX=w,o.itemY+=x+o.lastLineHeight+b,o.lastLineHeight=0),o.maxItemWidth=ve(o.maxItemWidth,r),o.lastItemY=x+o.itemY+b,o.lastLineHeight=ve(n,o.lastLineHeight),t._legendItemPos=[o.itemX,o.itemY],c?o.itemX+=r:(o.itemY+=x+n+b,o.lastLineHeight=n),o.offsetWidth=y||ve((c?o.itemX-w-g:r)+m,o.offsetWidth)},getAllItems:function(){var t=[];return yn(this.chart.series,function(e){var n=e.options;f(n.showInLegend,h(n.linkedTo)?!1:W,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),t},render:function(){var e,n,i,r,o=this,s=o.chart,a=s.renderer,l=o.group,c=o.box,u=o.options,h=o.padding,d=u.borderWidth,p=u.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,l||(o.group=l=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(l),o.scrollGroup=a.g().add(o.contentGroup)),o.renderTitle(),e=o.getAllItems(),T(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),u.reversed&&e.reverse(),o.allItems=e,o.display=n=!!e.length,yn(e,function(t){o.renderItem(t)}),i=u.width||o.offsetWidth,r=o.lastItemY+o.lastLineHeight+o.titleHeight,r=o.handleOverflow(r),(d||p)&&(i+=h,r+=h,c?i>0&&r>0&&(c[c.isNew?"attr":"animate"](c.crisp({width:i,height:r})),c.isNew=!1):(o.box=c=a.rect(0,0,i,r,u.borderRadius,d||0).attr({stroke:u.borderColor,"stroke-width":d||0,fill:p||Ge}).add(l).shadow(u.shadow),c.isNew=!0),c[n?"show":"hide"]()),o.legendWidth=i,o.legendHeight=r,yn(e,function(t){o.positionItem(t)}),n&&l.align(t({width:i,height:r},u),!0,"spacingBox"),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,l="top"===s.verticalAlign,c=r.spacingBox.height+(l?-a:a)-this.padding,u=s.maxHeight,h=this.clipRect,d=s.navigation,p=f(d.animation,!0),m=d.arrowSize||12,g=this.nav,v=this.pages,y=this.allItems;return"horizontal"===s.layout&&(c/=2),u&&(c=ye(c,u)),v.length=0,t>c&&!s.useHTML?(this.clipHeight=e=c-20-this.titleHeight-this.padding,this.currentPage=f(this.currentPage,1),this.fullHeight=t,yn(y,function(t,i){var r=t._legendItemPos[1],o=fe(t.legendItem.getBBox().height),s=v.length;(!s||r-v[s-1]>e&&(n||r)!==v[s-1])&&(v.push(n||r),s++),i===y.length-1&&r+o-v[s-1]>e&&v.push(r),r!==n&&(n=r)}),h||(h=i.clipRect=o.clipRect(0,this.padding,9999,0),i.contentGroup.clip(h)),h.attr({height:e}),g||(this.nav=g=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,m,m).on("click",function(){i.scroll(-1,p)}).add(g),this.pager=o.text("",15,10).css(d.style).add(g),this.down=o.symbol("triangle-down",0,0,m,m).on("click",function(){i.scroll(1,p)}).add(g)),i.scroll(0),t=c):g&&(h.attr({height:r.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n,i=this.pages,r=i.length,o=this.currentPage+t,s=this.clipHeight,a=this.options.navigation,l=a.activeColor,c=a.inactiveColor,u=this.pager,h=this.padding;o>r&&(o=r),o>0&&(e!==W&&N(e,this.chart),this.nav.attr({translateX:h,translateY:s+this.padding+7+this.titleHeight,visibility:Xe}),this.up.attr({fill:1===o?c:l}).css({cursor:1===o?"default":"pointer"}),u.attr({text:o+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===r?c:l}).css({cursor:o===r?"default":"pointer"}),n=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=o,this.positionCheckboxes(n))}};var $n=dn.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-n/2,t.symbolWidth,n,f(t.options.symbolRadius,2)).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n,i,r=this.options,o=r.marker,s=t.options,a=t.symbolWidth,l=this.chart.renderer,c=this.legendGroup,u=t.baseline-fe(.3*l.fontMetrics(s.itemStyle.fontSize).b);r.lineWidth&&(i={"stroke-width":r.lineWidth},r.dashStyle&&(i.dashstyle=r.dashStyle),this.legendLine=l.path([$e,0,u,Ke,a,u]).attr(i).add(c)),o&&o.enabled&&(e=o.radius,this.legendSymbol=n=l.symbol(this.symbol,a/2-e,u-e,2*e,2*e).add(c),n.isMarker=!0)}};(/Trident\/7\.0/.test(Se)||Ee)&&x(Gn.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};n.chart.renderer.forExport?i():setTimeout(i)}),H.prototype={init:function(t,n){var i,r=t.series;t.series=null,i=e(X,t),i.series=t.series=r,this.userOptions=t;var o=i.chart;this.margin=this.splashArray("margin",o),this.spacing=this.splashArray("spacing",o);var s=o.events;this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var a,l=this;if(l.index=Re.length,Re.push(l),o.reflow!==!1&&_n(l,"load",function(){l.initReflow()}),s)for(a in s)_n(l,a,s[a]);l.xAxis=[],l.yAxis=[],l.animation=je?!1:f(o.animation,!0),l.pointCount=0,l.counters=new C,l.firstRender()},initSeries:function(t){var e,n=this,i=n.options.chart,r=t.type||i.type||i.defaultSeriesType,o=hn[r];return o||L(17,!0),e=new o,e.init(this,t),e},isInsidePlot:function(t,e,n){var i=n?e:t,r=n?t:e;return i>=0&&i<=this.plotWidth&&r>=0&&r<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&yn(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var n,i,r,o=this,s=o.axes,a=o.series,l=o.pointer,c=o.legend,u=o.isDirtyLegend,h=o.isDirtyBox,d=a.length,p=d,f=o.renderer,m=f.isHidden(),g=[];for(N(e,o),m&&o.cloneRenderTo(),o.layOutTitles();p--;)if(r=a[p],r.options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(p=d;p--;)r=a[p],r.options.stacking&&(r.isDirty=!0);yn(a,function(t){t.isDirty&&"point"===t.options.legendType&&(u=!0)}),u&&c.options.enabled&&(c.render(),o.isDirtyLegend=!1),n&&o.getStacks(),o.hasCartesianSeries&&(o.isResizing||(o.maxTicks=null,yn(s,function(t){t.setScale()})),o.adjustTickAmounts(),o.getMargins(),yn(s,function(t){t.isDirty&&(h=!0)}),yn(s,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,g.push(function(){Sn(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(h||n)&&e.redraw()})),h&&o.drawChartBox(),yn(a,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),l&&l.reset(!0),f.draw(),Sn(o,"redraw"),m&&o.cloneRenderTo(!0),yn(g,function(t){t.call()})},get:function(t){var e,n,i,r=this,o=r.axes,s=r.series;for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(i=s[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t,e,n=this,i=this.options,r=i.xAxis=p(i.xAxis||{}),o=i.yAxis=p(i.yAxis||{});yn(r,function(t,e){t.index=e,t.isX=!0}),yn(o,function(t,e){t.index=e}),t=r.concat(o),yn(t,function(t){e=new z(n,t)}),n.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return yn(this.series,function(e){t=t.concat(bn(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return bn(this.series,function(t){return t.selected})},getStacks:function(){var t=this;yn(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),yn(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+f(e.options.stack,""))})},setTitle:function(t,n,i){var r,o,s=this,a=s.options;r=a.title=e(a.title,t),o=a.subtitle=e(a.subtitle,n),yn([["title",t,r],["subtitle",n,o]],function(t){var e=t[0],n=s[e],i=t[1],r=t[2];n&&i&&(s[e]=n=n.destroy()),r&&r.text&&!n&&(s[e]=s.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,"class":Ve+e,zIndex:r.zIndex||4}).css(r.style).add())}),s.layOutTitles(i)},layOutTitles:function(e){var n,i=0,r=this.title,o=this.subtitle,s=this.options,a=s.title,l=s.subtitle,c=this.spacingBox.width-44;r&&(r.css({width:(a.width||c)+Ye}).align(t({y:15},a),!1,"spacingBox"),a.floating||a.verticalAlign||(i=r.getBBox().height,i>=18&&25>=i&&(i=15))),o&&(o.css({width:(l.width||c)+Ye}).align(t({y:i+a.margin},l),!1,"spacingBox"),l.floating||l.verticalAlign||(i=ge(i+o.getBBox().height))),n=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&f(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,e=t.options.chart,n=e.width,i=e.height,r=t.renderToClone||t.renderTo;h(n)||(t.containerWidth=mn(r,"width")),h(i)||(t.containerHeight=mn(r,"height")),t.chartWidth=ve(0,n||t.containerWidth||600),t.chartHeight=ve(0,f(i,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;t?e&&(this.renderTo.appendChild(n),P(e),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),m(e,{position:We,top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),he.body.appendChild(e),n&&e.appendChild(n))},getContainer:function(){var e,n,o,s,a,l,c=this,u=c.options.chart,h="data-highcharts-chart";c.renderTo=s=u.renderTo,l=Ve+Oe++,r(s)&&(c.renderTo=s=he.getElementById(s)),s||L(13,!0),a=i(d(s,h)),!isNaN(a)&&Re[a]&&Re[a].hasRendered&&Re[a].destroy(),d(s,h,c.index),s.innerHTML="",u.skipClone||s.offsetWidth||c.cloneRenderTo(),c.getChartSize(),n=c.chartWidth,o=c.chartHeight,c.container=e=g(Be,{className:Ve+"container"+(u.className?" "+u.className:""),id:l},t({position:Ue,overflow:qe,width:n+Ye,height:o+Ye,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},u.style),c.renderToClone||s),c._cursor=e.style.cursor,c.renderer=u.forExport?new Dn(e,n,o,u.style,!0):new U(e,n,o,u.style),je&&c.renderer.create(c,e,n,o)},getMargins:function(){var t,e=this,n=e.spacing,i=e.legend,r=e.margin,o=e.options.legend,s=f(o.margin,10),a=o.x,l=o.y,c=o.align,u=o.verticalAlign,d=e.titleOffset;e.resetMargins(),t=e.axisOffset,d&&!h(r[0])&&(e.plotTop=ve(e.plotTop,d+e.options.title.margin+n[0])),i.display&&!o.floating&&("right"===c?h(r[1])||(e.marginRight=ve(e.marginRight,i.legendWidth-a+s+n[1])):"left"===c?h(r[3])||(e.plotLeft=ve(e.plotLeft,i.legendWidth+a+s+n[3])):"top"===u?h(r[0])||(e.plotTop=ve(e.plotTop,i.legendHeight+l+s+n[0])):"bottom"===u&&(h(r[2])||(e.marginBottom=ve(e.marginBottom,i.legendHeight-l+s+n[2])))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&yn(e.axes,function(t){t.getOffset()}),h(r[3])||(e.plotLeft+=t[3]),h(r[0])||(e.plotTop+=t[0]),h(r[2])||(e.marginBottom+=t[2]),h(r[1])||(e.marginRight+=t[1]),e.setChartSize()},reflow:function(t){var e=this,n=e.options.chart,i=e.renderTo,r=n.width||mn(i,"width"),o=n.height||mn(i,"height"),s=t?t.target:de,a=function(){e.container&&(e.setSize(r,o,!1),e.hasUserSize=null)};e.hasUserSize||!r||!o||s!==de&&s!==he||((r!==e.containerWidth||o!==e.containerHeight)&&(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(a,100):a()),e.containerWidth=r,e.containerHeight=o)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};_n(de,"resize",e),_n(t,"destroy",function(){kn(de,"resize",e)})},setSize:function(t,e,n){var i,r,o,s=this;s.isResizing+=1,o=function(){s&&Sn(s,"endResize",null,function(){s.isResizing-=1})},N(n,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,h(t)&&(s.chartWidth=i=ve(0,fe(t)),s.hasUserSize=!!i),h(e)&&(s.chartHeight=r=ve(0,fe(e))),(G?Tn:m)(s.container,{width:i+Ye,height:r+Ye},G),s.setChartSize(!0),s.renderer.setSize(i,r,n),s.maxTicks=null,yn(s.axes,function(t){t.isDirty=!0,t.setScale()}),yn(s.series,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.getMargins(),s.redraw(n),s.oldChartHeight=null,Sn(s,"resize"),G===!1?o():setTimeout(o,G&&G.duration||500)},setChartSize:function(t){var e,n,i,r,o,s,a,l=this,c=l.inverted,u=l.renderer,h=l.chartWidth,d=l.chartHeight,p=l.options.chart,f=l.spacing,m=l.clipOffset;l.plotLeft=i=fe(l.plotLeft),l.plotTop=r=fe(l.plotTop),l.plotWidth=o=ve(0,fe(h-i-l.marginRight)),l.plotHeight=s=ve(0,fe(d-r-l.marginBottom)),l.plotSizeX=c?s:o,l.plotSizeY=c?o:s,l.plotBorderWidth=p.plotBorderWidth||0,l.spacingBox=u.spacingBox={x:f[3],y:f[0],width:h-f[3]-f[1],height:d-f[0]-f[2]},l.plotBox=u.plotBox={x:i,y:r,width:o,height:s},a=2*me(l.plotBorderWidth/2),e=ge(ve(a,m[3])/2),n=ge(ve(a,m[0])/2),l.clipBox={x:e,y:n,width:me(l.plotSizeX-ve(a,m[1])/2-e),height:me(l.plotSizeY-ve(a,m[2])/2-n)},t||yn(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.spacing,n=t.margin;t.plotTop=f(n[0],e[0]),t.marginRight=f(n[1],e[1]),t.marginBottom=f(n[2],e[2]),t.plotLeft=f(n[3],e[3]),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this,i=n.options.chart,r=n.renderer,o=n.chartWidth,s=n.chartHeight,a=n.chartBackground,l=n.plotBackground,c=n.plotBorder,u=n.plotBGImage,h=i.borderWidth||0,d=i.backgroundColor,p=i.plotBackgroundColor,f=i.plotBackgroundImage,m=i.plotBorderWidth||0,g=n.plotLeft,v=n.plotTop,y=n.plotWidth,b=n.plotHeight,x=n.plotBox,w=n.clipRect,_=n.clipBox;t=h+(i.shadow?8:0),(h||d)&&(a?a.animate(a.crisp({width:o-t,height:s-t})):(e={fill:d||Ge},h&&(e.stroke=i.borderColor,e["stroke-width"]=h),n.chartBackground=r.rect(t/2,t/2,o-t,s-t,i.borderRadius,h).attr(e).addClass(Ve+"background").add().shadow(i.shadow))),p&&(l?l.animate(x):n.plotBackground=r.rect(g,v,y,b,0).attr({fill:p}).add().shadow(i.plotShadow)),f&&(u?u.animate(x):n.plotBGImage=r.image(f,g,v,y,b).add()),w?w.animate({width:_.width,height:_.height}):n.clipRect=r.clipRect(_),m&&(c?c.animate(c.crisp({x:g,y:v,width:y,height:b})):n.plotBorder=r.rect(g,v,y,b,0,-m).attr({stroke:i.plotBorderColor,"stroke-width":m,fill:Ge,zIndex:1}).add()),n.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;yn(["inverted","angular","polar"],function(s){for(t=hn[r.type||r.defaultSeriesType],n=i[s]||r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)t=hn[o[e].type],t&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;yn(e,function(t){t.linkedSeries.length=0}),yn(e,function(e){var n=e.options.linkedTo;r(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n),n&&(n.linkedSeries.push(e),e.linkedParent=n))})},renderSeries:function(){yn(this.series,function(t){t.translate(),t.setTooltipPoints&&t.setTooltipPoints(),t.render()})},render:function(){var e,n=this,r=n.axes,o=n.renderer,s=n.options,a=s.labels,l=s.credits;n.setTitle(),n.legend=new Gn(n,s.legend),n.getStacks(),yn(r,function(t){t.setScale()}),n.getMargins(),n.maxTicks=null,yn(r,function(t){t.setTickPositions(!0),t.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&yn(r,function(t){t.render()}),n.seriesGroup||(n.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),n.renderSeries(),a.items&&yn(a.items,function(e){var r=t(a.style,e.style),s=i(r.left)+n.plotLeft,l=i(r.top)+n.plotTop+12;delete r.left,delete r.top,o.text(e.html,s,l).attr({zIndex:2}).css(r).add()}),l.enabled&&!n.credits&&(e=l.href,n.credits=o.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),n.hasRendered=!0},destroy:function(){var t,e=this,n=e.axes,i=e.series,r=e.container,o=r&&r.parentNode;for(Sn(e,"destroy"),Re[e.index]=W,e.renderTo.removeAttribute("data-highcharts-chart"),kn(e),t=n.length;t--;)n[t]=n[t].destroy();for(t=i.length;t--;)i[t]=i[t].destroy();yn(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",kn(r),o&&P(r));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!Ie&&de==de.top&&"complete"!==he.readyState||je&&!de.canvg?(je?Hn.push(function(){t.firstRender()},t.options.global.canvasToolsURL):he.attachEvent("onreadystatechange",function(){he.detachEvent("onreadystatechange",t.firstRender),"complete"===he.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,n=t.callback;t.isReadyToRender()&&(t.getContainer(),Sn(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),yn(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Sn(t,"beforeRender"),dn.Pointer&&(t.pointer=new Un(t,e)),t.render(),t.renderer.draw(),n&&n.apply(t,[t]),yn(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),Sn(t,"load"))},splashArray:function(t,e){var n=e[t],i=o(n)?n:[n,n,n,n];return[f(e[t+"Top"],i[0]),f(e[t+"Right"],i[1]),f(e[t+"Bottom"],i[2]),f(e[t+"Left"],i[3])]}},H.prototype.callbacks=[];var Kn=dn.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,r=this.chart,o=2*(n.slicedOffset||0),s=r.plotWidth-2*o,a=r.plotHeight-2*o,l=n.center,c=[f(l[0],"50%"),f(l[1],"50%"),n.size||"100%",n.innerSize||0],u=ye(s,a);return wn(c,function(n,r){return e=/%$/.test(n),t=2>r||2===r&&e,(e?[s,a,u,u][r]*i(n)/100:n)+(t?o:0)})}},Qn=function(){};Qn.prototype={init:function(t,e,n){var i,r=this;return r.series=t,r.applyOptions(e,n),r.pointAttr={},t.options.colorByPoint&&(i=t.options.colors||t.chart.options.colors,r.color=r.color||i[t.colorCounter++],t.colorCounter===i.length&&(t.colorCounter=0)),t.chart.pointCount++,r},applyOptions:function(e,n){var i=this,r=i.series,o=r.pointValKey;return e=Qn.prototype.optionsToObject.call(this,e),t(i,e),i.options=i.options?t(i.options,e):e,o&&(i.y=i[o]),i.x===W&&r&&(i.x=n===W?r.autoIncrement():n),i},optionsToObject:function(t){var e,n={},i=this.series,r=i.pointArrayMap||["y"],o=r.length,a=0,l=0;if("number"==typeof t||null===t)n[r[0]]=t;else if(s(t))for(t.length>o&&(e=typeof t[0],"string"===e?n.name=t[0]:"number"===e&&(n.x=t[0]),a++);o>l;)n[r[l++]]=t[a++];else"object"==typeof t&&(n=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return n},destroy:function(){var t,e=this,n=e.series,i=n.chart,r=i.hoverPoints;i.pointCount--,r&&(e.setState(),u(r,e),r.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(kn(e),e.destroyElements()),e.legendItem&&i.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,n=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],i=6;i--;)t=n[i],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,i=f(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return yn(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||o)&&(t=t.replace(e+"}",r+e+"}"+o)),t=t.replace(e+"}",e+":,."+i+"f}")}),_(t,{point:this,series:this.series})}};var Zn=function(){};Zn.prototype={isCartesian:!0,type:"line",pointClass:Qn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,n){var i,r,o=this,s=e.series,a=function(t,e){return f(t.options.index,t._i)-f(e.options.index,e._i)};o.chart=e,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),t(o,{name:n.name,state:Ze,pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0}),je&&(n.animation=!1),r=n.events;for(i in r)_n(o,i,r[i]);(r&&r.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(e.runTrackerClick=!0),o.getColor(),o.getSymbol(),yn(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(n.data,!1),o.isCartesian&&(e.hasCartesianSeries=!0),s.push(o),o._i=s.length-1,T(s,a),this.yAxis&&T(this.yAxis.series,a),yn(s,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,n=e.options,i=e.chart;yn(e.axisTypes||[],function(r){yn(i[r],function(i){t=i.options,(n[r]===t.index||n[r]!==W&&n[r]===t.id||n[r]===W&&0===t.index)&&(i.series.push(e),e[r]=i,i.isDirty=!0)}),e[r]||e.optionalAxis===r||L(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r="number"==typeof e?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};yn(n.parallelArrays,r)},autoIncrement:function(){var t=this,e=t.options,n=t.xIncrement;return n=f(n,e.pointStart,0),t.pointInterval=f(t.pointInterval,e.pointInterval,1),t.xIncrement=n+t.pointInterval,n},getSegments:function(){var t,e=this,n=-1,i=[],r=e.points,o=r.length;if(o)if(e.options.connectNulls){for(t=o;t--;)null===r[t].y&&r.splice(t,1);r.length&&(i=[r])}else yn(r,function(t,e){null===t.y?(e>n+1&&i.push(r.slice(n+1,e)),n=e):e===o-1&&i.push(r.slice(n+1,e+1))});e.segments=i},setOptions:function(t){var n,i=this.chart,r=i.options,o=r.plotOptions,s=i.userOptions||{},a=s.plotOptions||{},l=o[this.type];return this.userOptions=t,n=e(l,o.series,t),this.tooltipOptions=e(X.tooltip,X.plotOptions[this.type].tooltip,s.tooltip,a.series&&a.series.tooltip,a[this.type]&&a[this.type].tooltip,t.tooltip),null===l.marker&&delete n.marker,n},getColor:function(){var t,e,n=this.options,i=this.userOptions,r=this.chart.options.colors,o=this.chart.counters;t=n.color||En[this.type].color,t||n.colorByPoint||(h(i._colorIndex)?e=i._colorIndex:(i._colorIndex=o.color,e=o.color++),t=r[e]),this.color=t,o.wrapColor(r.length)},getSymbol:function(){var t,e=this,n=e.userOptions,i=e.options.marker,r=e.chart,o=r.options.symbols,s=r.counters;e.symbol=i.symbol,e.symbol||(h(n._symbolIndex)?t=n._symbolIndex:(n._symbolIndex=s.symbol,t=s.symbol++),e.symbol=o[t]),/^url/.test(e.symbol)&&(i.radius=0),s.wrapSymbol(o.length)},drawLegendSymbol:$n.drawLineMarker,setData:function(t,e,n,i){var o,l,c,u=this,h=u.points,d=h&&h.length||0,p=u.options,m=u.chart,g=null,v=u.xAxis,y=v&&!!v.categories,b=u.tooltipPoints,x=p.turboThreshold,w=this.xData,_=this.yData,k=u.pointArrayMap,S=k&&k.length;if(t=t||[],o=t.length,e=f(e,!0),i===!1||!o||d!==o||u.cropped||u.hasGroupedData){if(u.xIncrement=null,u.pointRange=y?1:p.pointRange,u.colorCounter=0,yn(this.parallelArrays,function(t){u[t+"Data"].length=0}),x&&o>x){for(l=0;null===g&&o>l;)g=t[l],l++;if(a(g)){var C=f(p.pointStart,0),T=f(p.pointInterval,1);for(l=0;o>l;l++)w[l]=C,_[l]=t[l],C+=T;u.xIncrement=C}else if(s(g))if(S)for(l=0;o>l;l++)c=t[l],w[l]=c[0],_[l]=c.slice(1,S+1);else for(l=0;o>l;l++)c=t[l],w[l]=c[0],_[l]=c[1];else L(12)}else for(l=0;o>l;l++)t[l]!==W&&(c={series:u},u.pointClass.prototype.applyOptions.apply(c,[t[l]]),u.updateParallelArrays(c,l),y&&c.name&&(v.names[c.x]=c.name));for(r(_[0])&&L(14,!0),u.data=[],u.options.data=t,l=d;l--;)h[l]&&h[l].destroy&&h[l].destroy();b&&(b.length=0),v&&(v.minRange=v.userMinRange),u.isDirty=u.isDirtyData=m.isDirtyBox=!0,n=!1}else yn(t,function(t,e){h[e].update(t,!1)});e&&m.redraw(n)},processData:function(t){var e,n,i,r,o,s=this,a=s.xData,l=s.yData,c=a.length,u=0,h=s.xAxis,d=s.options,p=d.cropThreshold,f=s.isCartesian;if(f&&!s.isDirty&&!h.isDirty&&!s.yAxis.isDirty&&!t)return!1;if(f&&s.sorted&&(!p||c>p||s.forceCrop)){var m=h.min,g=h.max;a[c-1]<m||a[0]>g?(a=[],l=[]):(a[0]<m||a[c-1]>g)&&(e=this.cropData(s.xData,s.yData,m,g),a=e.xData,l=e.yData,u=e.start,n=!0)}for(o=a.length-1;o>=0;o--)i=a[o]-a[o-1],i>0&&(r===W||r>i)?r=i:0>i&&s.requireSorting&&L(15);s.cropped=n,s.cropStart=u,s.processedXData=a,s.processedYData=l,null===d.pointRange&&(s.pointRange=r||1),s.closestPointRange=r},cropData:function(t,e,n,i){var r,o=t.length,s=0,a=o,l=f(this.cropShoulder,1);for(r=0;o>r;r++)if(t[r]>=n){s=ve(0,r-l);break}for(;o>r;r++)if(t[r]>i){a=r+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,n,i,r=this,o=r.options,s=o.data,a=r.data,l=r.processedXData,c=r.processedYData,u=r.pointClass,h=l.length,d=r.cropStart||0,f=r.hasGroupedData,m=[];if(!a&&!f){var g=[];g.length=s.length,a=r.data=g}for(i=0;h>i;i++)e=d+i,f?m[i]=(new u).init(r,[l[i]].concat(p(c[i]))):(a[e]?n=a[e]:s[e]!==W&&(a[e]=n=(new u).init(r,s[e],l[i])),m[i]=n);if(a&&(h!==(t=a.length)||f))for(i=0;t>i;i++)i!==d||f||(i+=h),a[i]&&(a[i].destroyElements(),a[i].plotX=W);r.data=a,r.points=m},getExtremes:function(t){var e,n,i,r,o,s,a,l,c,u=this.xAxis,h=this.yAxis,d=this.processedXData,p=[],m=0,g=u.getExtremes(),v=g.min,y=g.max;for(t=t||this.stackedYData||this.processedYData,e=t.length,l=0;e>l;l++)if(s=d[l],a=t[l],n=null!==a&&a!==W&&(!h.isLog||a.length||a>0),i=this.getExtremesFromAll||this.cropped||(d[l+1]||s)>=v&&(d[l-1]||s)<=y,n&&i)if(c=a.length)for(;c--;)null!==a[c]&&(p[m++]=a[c]);else p[m++]=a;this.dataMin=f(r,M(p)),this.dataMax=f(o,A(p))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e=this,n=e.options,i=n.stacking,r=e.xAxis,o=r.categories,s=e.yAxis,l=e.points,c=l.length,u=!!e.modifyValue,d=n.pointPlacement,p="between"===d||a(d),m=n.threshold;for(t=0;c>t;t++){var g,v,y=l[t],b=y.x,x=y.y,w=y.low,_=i&&s.stacks[(e.negStacks&&m>x?"-":"")+e.stackKey];s.isLog&&0>=x&&(y.y=x=null),y.plotX=r.translate(b,0,0,0,1,d,"flags"===this.type),i&&e.visible&&_&&_[b]&&(g=_[b],v=g.points[e.index],w=v[0],x=v[1],0===w&&(w=f(m,s.min)),s.isLog&&0>=w&&(w=null),y.total=y.stackTotal=g.total,y.percentage=g.total&&y.y/g.total*100,y.stackY=x,g.setOffset(e.pointXOffset||0,e.barW||0)),y.yBottom=h(w)?s.translate(w,0,1,0,1):null,u&&(x=e.modifyValue(x,y)),y.plotY="number"==typeof x&&1/0!==x?s.translate(x,0,1,0,1):W,y.clientX=p?r.translate(b,0,0,0,1):y.plotX,y.negative=y.y<(m||0),y.category=o&&o[y.x]!==W?o[y.x]:y.x}e.getSegments()},animate:function(e){var n,i,r,s=this,a=s.chart,l=a.renderer,c=s.options.animation,u=a.clipBox,h=a.inverted;c&&!o(c)&&(c=En[s.type].animation),r="_sharedClip"+c.duration+c.easing,e?(n=a[r],i=a[r+"m"],n||(a[r]=n=l.clipRect(t(u,{width:0})),a[r+"m"]=i=l.clipRect(-99,h?-a.plotLeft:-a.plotTop,99,h?a.chartWidth:a.chartHeight)),s.group.clip(n),s.markerGroup.clip(i),s.sharedClipKey=r):(n=a[r],n&&(n.animate({width:a.plotSizeX},c),a[r+"m"].animate({width:a.plotSizeX+99},c)),s.animate=null,s.animationTimeout=setTimeout(function(){s.afterAnimate()},c.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,n=this.group;n&&this.options.clip!==!1&&(n.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,n,i,r,o,s,a,l,c,u,h,d,p=this,m=p.points,g=p.chart,v=p.options,y=v.marker,b=p.pointAttr[""],x=p.markerGroup;
if(y.enabled||p._hasPointMarkers)for(r=m.length;r--;)o=m[r],n=me(o.plotX),i=o.plotY,c=o.graphic,u=o.marker||{},h=y.enabled&&u.enabled===W||u.enabled,d=g.isInsidePlot(fe(n),i,g.inverted),h&&i!==W&&!isNaN(i)&&null!==o.y?(e=o.pointAttr[o.selected?tn:Ze]||b,s=e.r,a=f(u.symbol,p.symbol),l=0===a.indexOf("url"),c?c.attr({visibility:d?"inherit":qe}).animate(t({x:n-s,y:i-s},c.symbolName?{width:2*s,height:2*s}:{})):d&&(s>0||l)&&(o.graphic=c=g.renderer.symbol(a,n-s,i-s,2*s,2*s).attr(e).add(x))):c&&(o.graphic=c.destroy())},convertAttribs:function(t,e,n,i){var r,o,s=this.pointAttrToOptions,a={};t=t||{},e=e||{},n=n||{},i=i||{};for(r in s)o=s[r],a[r]=f(t[o],e[r],n[r],i[r]);return a},getAttribs:function(){var e,n,i,r,o,s,a=this,l=a.options,c=En[a.type].marker?l.marker:l,u=c.states,d=u[Je],p=a.color,f={stroke:p,fill:p},m=a.points||[],g=[],v=a.pointAttrToOptions,y=a.hasPointSpecificOptions,b=l.negativeColor,x=c.lineColor,w=c.fillColor,_=l.turboThreshold;if(l.marker?(d.radius=d.radius||c.radius+2,d.lineWidth=d.lineWidth||c.lineWidth+1):d.color=d.color||jn(d.color||p).brighten(d.brightness).get(),g[Ze]=a.convertAttribs(c,f),yn([Je,tn],function(t){g[t]=a.convertAttribs(u[t],g[Ze])}),a.pointAttr=g,n=m.length,!_||_>n||y)for(;n--;){if(i=m[n],c=i.options&&i.options.marker||i.options,c&&c.enabled===!1&&(c.radius=0),i.negative&&b&&(i.color=i.fillColor=b),y=l.colorByPoint||i.color,i.options)for(s in v)h(c[v[s]])&&(y=!0);y?(c=c||{},r=[],u=c.states||{},e=u[Je]=u[Je]||{},l.marker||(e.color=e.color||!i.options.color&&d.color||jn(i.color).brighten(e.brightness||d.brightness).get()),o={color:i.color},w||(o.fillColor=i.color),x||(o.lineColor=i.color),r[Ze]=a.convertAttribs(t(o,c),g[Ze]),r[Je]=a.convertAttribs(u[Je],g[Je],r[Ze]),r[tn]=a.convertAttribs(u[tn],g[tn],r[Ze])):r=g,i.pointAttr=r}},destroy:function(){var t,e,n,i,r,o=this,s=o.chart,a=/AppleWebKit\/533/.test(Se),l=o.data||[];for(Sn(o,"destroy"),kn(o),yn(o.axisTypes||[],function(t){r=o[t],r&&(u(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=l.length;e--;)n=l[e],n&&n.destroy&&n.destroy();o.points=null,clearTimeout(o.animationTimeout),yn(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(e){o[e]&&(t=a&&"group"===e?"hide":"destroy",o[e][t]())}),s.hoverSeries===o&&(s.hoverSeries=null),u(s.series,o);for(i in o)delete o[i]},getSegmentPath:function(t){var e=this,n=[],i=e.options.step;return yn(t,function(r,o){var s,a=r.plotX,l=r.plotY;e.getPointSpline?n.push.apply(n,e.getPointSpline(t,r,o)):(n.push(o?Ke:$e),i&&o&&(s=t[o-1],"right"===i?n.push(s.plotX,l):"center"===i?n.push((s.plotX+a)/2,s.plotY,(s.plotX+a)/2,l):n.push(a,s.plotY)),n.push(r.plotX,r.plotY))}),n},getGraphPath:function(){var t,e=this,n=[],i=[];return yn(e.segments,function(r){t=e.getSegmentPath(r),r.length>1?n=n.concat(t):i.push(r[0])}),e.singlePoints=i,e.graphPath=n,n},drawGraph:function(){var t=this,e=this.options,n=[["graph",e.lineColor||this.color]],i=e.lineWidth,r=e.dashStyle,o="square"!==e.linecap,s=this.getGraphPath(),a=e.negativeColor;a&&n.push(["graphNeg",a]),yn(n,function(n,a){var l,c=n[0],u=t[c];u?(Mn(u),u.animate({d:s})):i&&s.length&&(l={stroke:n[1],"stroke-width":i,fill:Ge,zIndex:1},r?l.dashstyle=r:o&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),t[c]=t.chart.renderer.path(s).attr(l).add(t.group).shadow(!a&&e.shadow))})},clipNeg:function(){var t,e,n,i,r,o=this.options,s=this.chart,a=s.renderer,l=o.negativeColor||o.negativeFillColor,c=this.graph,u=this.area,h=this.posClip,d=this.negClip,p=s.chartWidth,f=s.chartHeight,m=ve(p,f),g=this.yAxis;l&&(c||u)&&(t=fe(g.toPixels(o.threshold||0,!0)),0>t&&(m-=t),i={x:0,y:0,width:m,height:t},r={x:0,y:t,width:m,height:m},s.inverted&&(i.height=r.y=s.plotWidth-t,a.isVML&&(i={x:s.plotWidth-t-s.plotLeft,y:0,width:p,height:f},r={x:t+s.plotLeft-p,y:0,width:s.plotLeft+t,height:p})),g.reversed?(e=r,n=i):(e=i,n=r),h?(h.animate(e),d.animate(n)):(this.posClip=h=a.clipRect(e),this.negClip=d=a.clipRect(n),c&&this.graphNeg&&(c.clip(h),this.graphNeg.clip(d)),u&&(u.clip(h),this.areaNeg.clip(d))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};yn(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,n=e.chart;e.xAxis&&(_n(n,"resize",t),_n(e,"destroy",function(){kn(n,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:n,zIndex:i||.1}).add(r)),o[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,i=e.options,r=i.animation,o=r&&!!e.animate&&n.renderer.isSVG,s=e.visible?Xe:qe,a=i.zIndex,l=e.hasRendered,c=n.seriesGroup;t=e.plotGroup("group","series",s,a,c),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,c),o&&e.animate(!0),e.getAttribs(),t.inverted=e.isCartesian?n.inverted:!1,e.drawGraph&&(e.drawGraph(),e.clipNeg()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),n.inverted&&e.invertGroups(),i.clip===!1||e.sharedClipKey||l||t.clip(n.clipRect),o?e.animate():l||e.afterAnimate(),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,n=t.isDirtyData,i=t.group,r=t.xAxis,o=t.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:f(r&&r.left,e.plotLeft),translateY:f(o&&o.top,e.plotTop)})),t.translate(),t.setTooltipPoints(!0),t.render(),n&&Sn(t,"updatedData")}},B.prototype={destroy:function(){E(this,this.axis)},render:function(t){var e=this.options,n=e.format,i=n?_(n,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:qe}):this.label=this.axis.chart.renderer.text(i,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:qe}).add(t)},setOffset:function(t,e){var n,i=this,r=i.axis,o=r.chart,s=o.inverted,a=this.isNegative,l=r.translate(this.percent?100:this.total,0,0,0,1),c=r.translate(0),u=be(l-c),h=o.xAxis[0].translate(this.x)+t,d=o.plotHeight,p={x:s?a?l:l-u:h,y:s?d-h-e:a?d-l-u:d-l,width:s?u:e,height:s?e:u},f=this.label;f&&(f.align(this.alignOptions,null,p),n=f.alignAttr,f[this.options.crop===!1||o.isInsidePlot(n.x,n.y)?"show":"hide"](!0))}},z.prototype.buildStacks=function(){var t=this.series,e=f(this.options.reversedStacks,!0),n=t.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)t[e?n:t.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<t.length;n++)t[n].setPercentStacks()}},z.prototype.renderStackTotals=function(){var t,e,n,i=this,r=i.chart,o=r.renderer,s=i.stacks,a=i.stackTotalGroup;a||(i.stackTotalGroup=a=o.g("stack-labels").attr({visibility:Xe,zIndex:6}).add()),a.translate(r.plotLeft,r.plotTop);for(t in s){e=s[t];for(n in e)e[n].render(a)}},Zn.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,n,i,r,o,s,a=this,l=a.processedXData,c=a.processedYData,u=[],h=c.length,d=a.options,p=d.threshold,f=d.stack,m=d.stacking,g=a.stackKey,v="-"+g,y=a.negStacks,b=a.yAxis,x=b.stacks,w=b.oldStacks;for(r=0;h>r;r++)o=l[r],s=c[r],t=y&&p>s,i=t?v:g,x[i]||(x[i]={}),x[i][o]||(w[i]&&w[i][o]?(x[i][o]=w[i][o],x[i][o].total=null):x[i][o]=new B(b,b.options.stackLabels,t,o,f,m)),e=x[i][o],e.points[a.index]=[e.cum||0],"percent"===m?(n=t?g:v,y&&x[n]&&x[n][o]?(n=x[n][o],e.total=n.total=ve(n.total,e.total)+be(s)||0):e.total=I(e.total+(be(s)||0))):e.total=I(e.total+(s||0)),e.cum=(e.cum||0)+(s||0),e.points[a.index].push(e.cum),u[r]=e.cum;"percent"===m&&(b.usePercentage=!0),this.stackedYData=u,b.oldStacks={}}},Zn.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,n=t.yAxis.stacks,i=t.processedXData;yn([e,"-"+e],function(e){for(var r,o,s,a,l=i.length;l--;)r=i[l],o=n[e]&&n[e][r],s=o&&o.points[t.index],s&&(a=o.total?100/o.total:0,s[0]=I(s[0]*a),s[1]=I(s[1]*a),t.stackedYData[l]=s[1])})},t(H.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=f(e,!0),Sn(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(t,n,i,r){var o,s=n?"xAxis":"yAxis",a=this.options;o=new z(this,e(t,{index:this[s].length,isX:n})),a[s]=p(a[s]||{}),a[s].push(t),f(i,!0)&&this.redraw(r)},showLoading:function(e){var n=this,i=n.options,r=n.loadingDiv,o=i.loading;r||(n.loadingDiv=r=g(Be,{className:Ve+"loading"},t(o.style,{zIndex:10,display:Ge}),n.container),n.loadingSpan=g("span",null,o.labelStyle,r)),n.loadingSpan.innerHTML=e||i.lang.loading,n.loadingShown||(m(r,{opacity:0,display:"",left:n.plotLeft+Ye,top:n.plotTop+Ye,width:n.plotWidth+Ye,height:n.plotHeight+Ye}),Tn(r,{opacity:o.style.opacity},{duration:o.showDuration||0}),n.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Tn(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){m(e,{display:Ge})}}),this.loadingShown=!1}}),t(Qn.prototype,{update:function(t,e,n){var i,r=this,s=r.series,a=r.graphic,l=s.data,c=s.chart,u=s.options;e=f(e,!0),r.firePointEvent("update",{options:t},function(){r.applyOptions(t),o(t)&&(s.getAttribs(),a&&(t&&t.marker&&t.marker.symbol?r.graphic=a.destroy():a.attr(r.pointAttr[r.state||""])),t&&t.dataLabels&&r.dataLabel&&(r.dataLabel=r.dataLabel.destroy())),i=vn(r,l),s.updateParallelArrays(r,i),u.data[i]=r.options,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&c.legend.destroyItem(r),e&&c.redraw(n)})},remove:function(t,e){var n,i=this,r=i.series,o=r.points,s=r.chart,a=r.data;N(e,s),t=f(t,!0),i.firePointEvent("remove",null,function(){n=vn(i,a),a.length===o.length&&o.splice(n,1),a.splice(n,1),r.options.data.splice(n,1),r.updateParallelArrays(i,"splice",n,1),i.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&s.redraw()})}}),t(Zn.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this,c=l.options,u=l.data,h=l.graph,d=l.area,p=l.chart,m=l.xAxis&&l.xAxis.names,g=h&&h.shift||0,v=c.data,y=l.xData;if(N(i,p),n&&yn([h,d,l.graphNeg,l.areaNeg],function(t){t&&(t.shift=g+1)}),d&&(d.isArea=!0),e=f(e,!0),r={series:l},l.pointClass.prototype.applyOptions.apply(r,[t]),s=r.x,a=y.length,l.requireSorting&&s<y[a-1])for(o=!0;a&&y[a-1]>s;)a--;l.updateParallelArrays(r,"splice",a,0,0),l.updateParallelArrays(r,a),m&&(m[s]=r.name),v.splice(a,0,t),o&&(l.data.splice(a,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),l.updateParallelArrays(r,"shift"),v.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&(l.getAttribs(),p.redraw())},remove:function(t,e){var n=this,i=n.chart;t=f(t,!0),n.isRemoving||(n.isRemoving=!0,Sn(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),t&&i.redraw(e)})),n.isRemoving=!1},update:function(n,i){var r,o=this.chart,s=this.userOptions,a=this.type,l=hn[a].prototype;n=e(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n),this.remove(!1);for(r in l)l.hasOwnProperty(r)&&(this[r]=W);t(this,hn[n.type||a].prototype),this.init(o,n),f(i,!0)&&o.redraw(!1)}}),t(z.prototype,{update:function(n,i){var r=this.chart;n=r.options[this.coll][this.options.index]=e(this.userOptions,n),this.destroy(!0),this._addedPlotLB=this.userMin=this.userMax=W,this.init(r,t(n,{events:W})),r.isDirtyBox=!0,f(i,!0)&&r.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);u(e.axes,this),u(e[n],this),e.options[n].splice(this.options.index,1),yn(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,f(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var Jn=v(Zn);hn.line=Jn,En.area=e(Pn,{threshold:0});var ti=v(Zn,{type:"area",getSegments:function(){var t,e,n,i,r,o=[],s=[],a=[],l=this.xAxis,c=this.yAxis,u=c.stacks[this.stackKey],h={},d=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<d.length;i++)h[d[i].x]=d[i];for(r in u)null!==u[r].total&&a.push(+r);a.sort(function(t,e){return t-e}),yn(a,function(i){(!p||h[i]&&null!==h[i].y)&&(h[i]?s.push(h[i]):(t=l.translate(i),n=u[i].percent?u[i].total?100*u[i].cum/u[i].total:0:u[i].cum,e=c.toPixels(n,!0),s.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Fe})))}),s.length&&o.push(s)}else Zn.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,n,i=Zn.prototype.getSegmentPath.call(this,t),r=[].concat(i),o=this.options,s=i.length,a=this.yAxis.getThreshold(o.threshold);if(3===s&&r.push(Ke,i[1],i[2]),o.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)n=f(t[e].yBottom,a),e<t.length-1&&o.step&&r.push(t[e+1].plotX,n),r.push(t[e].plotX,n);else this.closeSegment(r,t,a);return this.areaPath=this.areaPath.concat(r),i},closeSegment:function(t,e,n){t.push(Ke,e[e.length-1].plotX,n,Ke,e[0].plotX,n)},drawGraph:function(){this.areaPath=[],Zn.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,n=this.options,i=n.negativeColor,r=n.negativeFillColor,o=[["area",this.color,n.fillColor]];(i||r)&&o.push(["areaNeg",i,r]),yn(o,function(i){var r=i[0],o=t[r];o?o.animate({d:e}):t[r]=t.chart.renderer.path(e).attr({fill:f(i[2],jn(i[1]).setOpacity(f(n.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:$n.drawRectangle});hn.area=ti,En.spline=e(Pn);var ei=v(Zn,{type:"spline",getPointSpline:function(t,e,n){var i,r,o,s,a,l=1.5,c=l+1,u=e.plotX,h=e.plotY,d=t[n-1],p=t[n+1];if(d&&p){var f,m=d.plotX,g=d.plotY,v=p.plotX,y=p.plotY;i=(l*u+m)/c,r=(l*h+g)/c,o=(l*u+v)/c,s=(l*h+y)/c,f=(s-r)*(o-u)/(o-i)+h-s,r+=f,s+=f,r>g&&r>h?(r=ve(g,h),s=2*h-r):g>r&&h>r&&(r=ye(g,h),s=2*h-r),s>y&&s>h?(s=ve(y,h),r=2*h-s):y>s&&h>s&&(s=ye(y,h),r=2*h-s),e.rightContX=o,e.rightContY=s}return n?(a=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,i||u,r||h,u,h],d.rightContX=d.rightContY=null):a=[$e,u,h],a}});hn.spline=ei,En.areaspline=e(En.area);var ni=ti.prototype,ii=v(ei,{type:"areaspline",closedStacks:!0,getSegmentPath:ni.getSegmentPath,closeSegment:ni.closeSegment,drawGraph:ni.drawGraph,drawLegendSymbol:$n.drawRectangle});hn.areaspline=ii,En.column=e(Pn,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});var ri=v(Zn,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Zn.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&yn(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,n=this,i=n.options,r=n.xAxis,o=n.yAxis,s=r.reversed,a={},l=0;i.grouping===!1?l=1:yn(n.chart.series,function(i){var r=i.options,s=i.yAxis;i.type===n.type&&i.visible&&o.len===s.len&&o.pos===s.pos&&(r.stacking?(t=i.stackKey,a[t]===W&&(a[t]=l++),e=a[t]):r.grouping!==!1&&(e=l++),i.columnIndex=e)});var c=ye(be(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),u=c*i.groupPadding,d=c-2*u,p=d/l,m=i.pointWidth,g=h(m)?(p-m)/2:p*i.pointPadding,v=f(m,p-2*g),y=(s?l-(n.columnIndex||0):n.columnIndex)||0,b=g+(u+y*p-c/2)*(s?-1:1);return n.columnMetrics={width:v,offset:b}},translate:function(){var t=this,e=t.chart,n=t.options,i=n.borderWidth,r=t.yAxis,o=n.threshold,s=t.translatedThreshold=r.getThreshold(o),a=f(n.minPointLength,5),l=t.getColumnMetrics(),c=l.width,u=t.barW=ge(ve(c,1+2*i)),h=t.pointXOffset=l.offset,d=-(i%2?.5:0),p=i%2?.5:1;e.renderer.isVML&&e.inverted&&(p+=1),Zn.prototype.translate.apply(t),yn(t.points,function(t){var e,n,i,o,l=f(t.yBottom,s),m=ye(ve(-999-l,t.plotY),r.len+999+l),g=t.plotX+h,v=u,y=ye(m,l),b=ve(m,l)-y;be(b)<a&&a&&(b=a,y=fe(be(y-s)>a?l-a:s-(r.translate(t.y,0,1,0,1)<=s?a:0))),t.barX=g,t.pointWidth=c,o=be(g)<.5,e=fe(g+v)+d,g=fe(g)+d,v=e-g,i=be(y)<.5,n=fe(y+b)+p,y=fe(y)+p,b=n-y,o&&(g+=1,v-=1),i&&(y-=1,b+=1),t.shapeType="rect",t.shapeArgs={x:g,y:y,width:v,height:b}})},getSymbol:Fe,drawLegendSymbol:$n.drawRectangle,drawGraph:Fe,drawPoints:function(){var t,n=this,i=this.chart,r=n.options,o=i.renderer,s=r.animationLimit||250;yn(n.points,function(i){var a=i.plotY,l=i.graphic;a===W||isNaN(a)||null===i.y?l&&(i.graphic=l.destroy()):(t=i.shapeArgs,l?(Mn(l),l[n.points.length<s?"animate":"attr"](e(t))):i.graphic=l=o[i.shapeType](t).attr(i.pointAttr[i.selected?tn:Ze]).add(n.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius))})},animate:function(t){var e,n=this,i=this.yAxis,r=n.options,o=this.chart.inverted,s={};Ie&&(t?(s.scaleY=.001,e=ye(i.pos+i.len,ve(i.pos,i.toPixels(r.threshold))),o?s.translateX=e-i.len:s.translateY=e,n.group.attr(s)):(s.scaleY=1,s[o?"translateX":"translateY"]=i.pos,n.group.animate(s,n.options.animation),n.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&yn(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Zn.prototype.remove.apply(t,arguments)}});hn.column=ri,En.bar=e(En.column);var oi=v(ri,{type:"bar",inverted:!0});hn.bar=oi,En.scatter=e(Pn,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});var si=v(Zn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&Zn.prototype.drawGraph.call(this)}});hn.scatter=si,En.pie=e(Pn,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var ai=v(Qn,{init:function(){Qn.prototype.init.apply(this,arguments);var e,n=this;return n.y<0&&(n.y=null),t(n,{visible:n.visible!==!1,name:f(n.name,"Slice")}),e=function(t){n.slice("select"===t.type)},_n(n,"select",e),_n(n,"unselect",e),n},setVisible:function(t){var e=this,n=e.series,i=n.chart;e.visible=e.options.visible=t=t===W?!e.visible:t,n.options.data[vn(e,n.data)]=e.options,yn(["graphic","dataLabel","connector","shadowGroup"],function(n){e[n]&&e[n][t?"show":"hide"](!0)}),e.legendItem&&i.legend.colorizeItem(e,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,i.redraw())},slice:function(t,e,n){var i,r=this,o=r.series,s=o.chart;N(n,s),e=f(e,!0),r.sliced=r.options.sliced=t=h(t)?t:!r.sliced,o.options.data[vn(r,o.data)]=r.options,i=t?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(i),r.shadowGroup&&r.shadowGroup.animate(i)}}),li={type:"pie",isCartesian:!1,pointClass:ai,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Fe,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(yn(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},setData:function(t,e,n,i){Zn.prototype.setData.call(this,t,!1,n,i),this.processData(),this.generatePoints(),f(e,!0)&&this.chart.redraw(n)},generatePoints:function(){var t,e,n,i,r=0,o=this.options.ignoreHiddenPoint;for(Zn.prototype.generatePoints.call(this),e=this.points,n=e.length,t=0;n>t;t++)i=e[t],r+=o&&!i.visible?0:i.y;for(this.total=r,t=0;n>t;t++)i=e[t],i.percentage=r>0?i.y/r*100:0,i.total=r},translate:function(t){this.generatePoints();var e,n,i,r,o,s,a,l=this,c=0,u=1e3,h=l.options,d=h.slicedOffset,p=d+h.borderWidth,m=h.startAngle||0,g=l.startAngleRad=_e/180*(m-90),v=l.endAngleRad=_e/180*(f(h.endAngle,m+360)-90),y=v-g,b=l.points,x=h.dataLabels.distance,w=h.ignoreHiddenPoint,_=b.length;for(t||(l.center=t=l.getCenter()),l.getX=function(e,n){return i=pe.asin(ye((e-t[1])/(t[2]/2+x),1)),t[0]+(n?-1:1)*xe(i)*(t[2]/2+x)},s=0;_>s;s++)a=b[s],e=g+c*y,(!w||a.visible)&&(c+=a.percentage/100),n=g+c*y,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:fe(e*u)/u,end:fe(n*u)/u},i=(n+e)/2,i>1.5*_e?i-=2*_e:-_e/2>i&&(i+=2*_e),a.slicedTranslation={translateX:fe(xe(i)*d),translateY:fe(we(i)*d)},r=xe(i)*t[2]/2,o=we(i)*t[2]/2,a.tooltipPos=[t[0]+.7*r,t[1]+.7*o],a.half=-_e/2>i||i>_e/2?1:0,a.angle=i,p=ye(p,x/2),a.labelPos=[t[0]+r+xe(i)*x,t[1]+o+we(i)*x,t[0]+r+xe(i)*p,t[1]+o+we(i)*p,t[0]+r,t[1]+o,0>x?"center":a.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var e,n,i,r,o=this,s=o.chart,a=s.renderer,l=o.options.shadow;l&&!o.shadowGroup&&(o.shadowGroup=a.g("shadow").add(o.group)),yn(o.points,function(s){n=s.graphic,r=s.shapeArgs,i=s.shadowGroup,l&&!i&&(i=s.shadowGroup=a.g("shadow").add(o.shadowGroup)),e=s.sliced?s.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(e),n?n.animate(t(r,e)):s.graphic=n=a[s.shapeType](r).setRadialReference(o.center).attr(s.pointAttr[s.selected?tn:Ze]).attr({"stroke-linejoin":"round"}).attr(e).add(o.group).shadow(l,i),void 0!==s.visible&&s.setVisible(s.visible)})},sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:$n.drawRectangle,getCenter:Kn.getCenter,getSymbol:Fe};li=v(Zn,li),hn.pie=li,Zn.prototype.drawDataLabels=function(){var n,i,r,o,s=this,a=s.options,l=a.cursor,c=a.dataLabels,u=s.points;(c.enabled||s._hasPointLabels)&&(s.dlProcessOptions&&s.dlProcessOptions(c),o=s.plotGroup("dataLabelsGroup","data-labels",s.visible?Xe:qe,c.zIndex||6),i=c,yn(u,function(a){var u,d,p,m,g,v=a.dataLabel,y=a.connector,b=!0;if(n=a.options&&a.options.dataLabels,u=f(n&&n.enabled,i.enabled),v&&!u)a.dataLabel=v.destroy();else if(u){if(c=e(i,n),g=c.rotation,d=a.getLabelConfig(),r=c.format?_(c.format,d):c.formatter.call(d,c),c.style.color=f(c.color,c.style.color,s.color,"black"),v)h(r)?(v.attr({text:r}),b=!1):(a.dataLabel=v=v.destroy(),y&&(a.connector=y.destroy()));else if(h(r)){p={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,rotation:g,padding:c.padding,zIndex:1};for(m in p)p[m]===W&&delete p[m];v=a.dataLabel=s.chart.renderer[g?"text":"label"](r,0,-999,null,null,null,c.useHTML).attr(p).css(t(c.style,l&&{cursor:l})).add(o).shadow(c.shadow)}v&&s.alignDataLabel(a,v,c,null,b)}}))},Zn.prototype.alignDataLabel=function(e,n,i,r,o){var s,a=this.chart,l=a.inverted,c=f(e.plotX,-999),u=f(e.plotY,-999),h=n.getBBox(),d=this.visible&&(e.series.forceDL||a.isInsidePlot(c,fe(u),l)||r&&a.isInsidePlot(c,l?r.x+1:r.y+r.height-1,l));d&&(r=t({x:l?a.plotWidth-u:c,y:fe(l?a.plotHeight-c:u),width:0,height:0},r),t(i,{width:h.width,height:h.height}),i.rotation?(s={align:i.align,x:r.x+i.x+r.width/2,y:r.y+i.y+r.height/2},n[o?"attr":"animate"](s)):(n.align(i,null,r),s=n.alignAttr,"justify"===f(i.overflow,"justify")?this.justifyDataLabel(n,i,s,h,r,o):f(i.crop,!0)&&(d=a.isInsidePlot(s.x,s.y)&&a.isInsidePlot(s.x+h.width,s.y+h.height)))),d||(n.attr({y:-999}),n.placed=!1)},Zn.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign;s=n.x,0>s&&("right"===c?e.align="left":e.x=-s,a=!0),s=n.x+i.width,s>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),s=n.y,0>s&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),s=n.y+i.height,s>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},hn.pie&&(hn.pie.prototype.drawDataLabels=function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p=this,m=p.data,g=p.chart,v=p.options.dataLabels,y=f(v.connectorPadding,10),b=f(v.connectorWidth,1),x=g.plotWidth,w=g.plotHeight,_=f(v.softConnector,!0),k=v.distance,S=p.center,C=S[2]/2,T=S[1],M=k>0,E=[[],[]],P=[0,0,0,0],L=function(t,e){return e.y-t.y};if(p.visible&&(v.enabled||p._hasPointLabels)){for(Zn.prototype.drawDataLabels.apply(p),yn(m,function(t){t.dataLabel&&t.visible&&E[t.half].push(t)}),h=0;!s&&m[h];)s=m[h]&&m[h].dataLabel&&(m[h].dataLabel.getBBox().height||21),h++;for(h=2;h--;){var I,N,j,D=[],O=[],F=E[h],R=F.length;if(p.sortByAngle(F,h-.5),k>0){for(N=T-C-k;T+C+k>=N;N+=s)D.push(N);if(I=D.length,R>I){for(u=[].concat(F),u.sort(L),d=R;d--;)u[d].rank=d;for(d=R;d--;)F[d].rank>=I&&F.splice(d,1);R=F.length}for(d=0;R>d;d++){t=F[d],o=t.labelPos;var z,H,B=9999;for(H=0;I>H;H++)z=be(D[H]-o[1]),B>z&&(B=z,j=H);if(d>j&&null!==D[d])j=d;else if(R-d+j>I&&null!==D[d])for(j=I-R+d;null===D[j];)j++;else for(;null===D[j];)j++;O.push({i:j,y:D[j]}),D[j]=null}O.sort(L)}for(d=0;R>d;d++){var W,U;t=F[d],o=t.labelPos,i=t.dataLabel,c=t.visible===!1?qe:Xe,U=o[1],k>0?(W=O.pop(),j=W.i,l=W.y,(U>l&&null!==D[j+1]||l>U&&null!==D[j-1])&&(l=U)):l=U,a=v.justify?S[0]+(h?-1:1)*(C+k):p.getX(0===j||j===D.length-1?U:l,h),i._attr={visibility:c,align:o[6]},i._pos={x:a+v.x+({left:y,right:-y}[o[6]]||0),y:l+v.y-10},i.connX=a,i.connY=l,null===this.options.size&&(r=i.width,y>a-r?P[3]=ve(fe(r-a+y),P[3]):a+r>x-y&&(P[1]=ve(fe(a+r-x+y),P[1])),0>l-s/2?P[0]=ve(fe(-l+s/2),P[0]):l+s/2>w&&(P[2]=ve(fe(l+s/2-w),P[2])))}}(0===A(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),M&&b&&yn(this.points,function(t){e=t.connector,o=t.labelPos,i=t.dataLabel,i&&i._pos?(c=i._attr.visibility,a=i.connX,l=i.connY,n=_?[$e,a+("left"===o[6]?5:-5),l,"C",a,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],Ke,o[4],o[5]]:[$e,a+("left"===o[6]?5:-5),l,Ke,o[2],o[3],Ke,o[4],o[5]],e?(e.animate({d:n}),e.attr("visibility",c)):t.connector=e=p.chart.renderer.path(n).attr({"stroke-width":b,stroke:v.connectorColor||t.color||"#606060",visibility:c}).add(p.group)):e&&(t.connector=e.destroy())}))}},hn.pie.prototype.placeDataLabels=function(){yn(this.points,function(t){var e,n=t.dataLabel;n&&(e=n._pos,e?(n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-999}))})},hn.pie.prototype.alignDataLabel=Fe,hn.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,s=o;return null!==r[0]?s=ve(n[2]-ve(t[1],t[3]),o):(s=ve(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?s=ve(ye(s,n[2]-ve(t[0],t[2])),o):(s=ve(ye(s,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),s<n[2]?(n[2]=s,this.translate(n),yn(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),hn.column&&(hn.column.prototype.alignDataLabel=function(t,n,i,r,o){var s=this.chart,a=s.inverted,l=t.dlBox||t.shapeArgs,c=t.below||t.plotY>f(this.translatedThreshold,s.plotSizeY),u=f(i.inside,!!this.options.stacking);l&&(r=e(l),a&&(r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}),u||(a?(r.x+=c?0:r.width,r.width=0):(r.y+=c?r.height:0,r.height=0))),i.align=f(i.align,!a||u?"center":c?"right":"left"),i.verticalAlign=f(i.verticalAlign,a||u?"middle":c?"top":"bottom"),Zn.prototype.alignDataLabel.call(this,t,n,i,r,o)});var ci=dn.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,n=e.pointer,i=t.options.cursor,r=i&&{cursor:i},o=function(n){var i,r=n.target;for(e.hoverSeries!==t&&t.onMouseOver();r&&!i;)i=r.point,r=r.parentNode;i!==W&&i!==e.hoverPoint&&i.onMouseOver(n)};yn(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(yn(t.trackerGroups,function(e){t[e]&&(t[e].addClass(Ve+"tracker").on("mouseover",o).on("mouseout",function(t){n.onTrackerMouseOut(t)}).css(r),q&&t[e].on("touchstart",o))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e,n=this,i=n.options,r=i.trackByArea,o=[].concat(r?n.areaPath:n.graphPath),s=o.length,a=n.chart,l=a.pointer,c=a.renderer,u=a.options.tooltip.snap,h=n.tracker,d=i.cursor,p=d&&{cursor:d},f=n.singlePoints,m=function(){a.hoverSeries!==n&&n.onMouseOver()},g="rgba(192,192,192,"+(Ie?1e-4:.002)+")";if(s&&!r)for(e=s+1;e--;)o[e]===$e&&o.splice(e+1,0,o[e+1]-u,o[e+2],Ke),(e&&o[e]===$e||e===s)&&o.splice(e,0,Ke,o[e-2]+u,o[e-1]);for(e=0;e<f.length;e++)t=f[e],o.push($e,t.plotX-u,t.plotY,Ke,t.plotX+u,t.plotY);h?h.attr({d:o}):(n.tracker=c.path(o).attr({"stroke-linejoin":"round",visibility:n.visible?Xe:qe,stroke:g,fill:r?g:Ge,"stroke-width":i.lineWidth+(r?0:2*u),zIndex:2}).add(n.group),yn([n.tracker,n.markerGroup],function(t){t.addClass(Ve+"tracker").on("mouseover",m).on("mouseout",function(t){l.onTrackerMouseOut(t)}).css(p),q&&t.on("touchstart",m)}))}};hn.column&&(ri.prototype.drawTracker=ci.drawTrackerPoint),hn.pie&&(hn.pie.prototype.drawTracker=ci.drawTrackerPoint),hn.scatter&&(si.prototype.drawTracker=ci.drawTrackerPoint),t(Gn.prototype,{setItemEvents:function(t,e,n,i,r){var o=this;(n?e:t.legendGroup).on("mouseover",function(){t.setState(Je),e.css(o.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?i:r),t.setState()}).on("click",function(e){var n="legendItemClick",i=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(n,e,i):Sn(t,n,e,i)})},createCheckboxForItem:function(t){var e=this;t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),_n(t.checkbox,"click",function(e){var n=e.target;Sn(t,"checkboxClick",{checked:n.checked},function(){t.select()})})}}),X.legend.itemStyle.cursor="pointer",t(H.prototype,{showResetZoom:function(){var t=this,e=X.lang,n=t.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:e.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var t=this;Sn(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,i=this,r=i.pointer,s=!1;!t||t.resetSelection?yn(i.axes,function(t){e=t.zoom()}):yn(t.xAxis.concat(t.yAxis),function(t){var n=t.axis,i=n.isXAxis;(r[i?"zoomX":"zoomY"]||r[i?"pinchX":"pinchY"])&&(e=n.zoom(t.min,t.max),n.displayBtn&&(s=!0))}),n=i.resetZoomButton,s&&!n?i.showResetZoom():!s&&o(n)&&(i.resetZoomButton=n.destroy()),e&&i.redraw(f(i.options.chart.animation,t&&t.animation,i.pointCount<100))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&yn(r,function(t){t.setState()}),yn("xy"===e?[1,0]:[1],function(e){var r=t[e?"chartX":"chartY"],o=i[e?"xAxis":"yAxis"][0],s=i[e?"mouseDownX":"mouseDownY"],a=(o.pointRange||0)/2,l=o.getExtremes(),c=o.toValue(s-r,!0)+a,u=o.toValue(s+i[e?"plotWidth":"plotHeight"]-r,!0)-a;o.series.length&&c>ye(l.dataMin,l.min)&&u<ve(l.dataMax,l.max)&&(o.setExtremes(c,u,!1,!1,{trigger:"pan"}),n=!0),i[e?"mouseDownX":"mouseDownY"]=r}),n&&i.redraw(!1),m(i.container,{cursor:"move"})}}),t(Qn.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=f(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[vn(n,i.data)]=n.options,n.setState(t&&tn),e||yn(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[vn(t,i.data)]=t.options,t.setState(Ze),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,n=e.series,i=n.chart,r=i.tooltip,o=i.hoverPoint;o&&o!==e&&o.onMouseOut(),e.firePointEvent("mouseOver"),!r||r.shared&&!n.noSharedTooltip||r.refresh(e,t),e.setState(Je),i.hoverPoint=e},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==vn(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},firePointEvent:function(t,e,n){var i=this,r=this.series,o=r.options;(o.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(n=function(t){i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Sn(this,t,e,n)},importEvents:function(){if(!this.hasImportedEvents){var t,n=this,i=e(n.series.options.point,n.options),r=i.events;n.events=r;for(t in r)_n(n,t,r[t]);this.hasImportedEvents=!0}},setState:function(t,n){var i,r,o=this,s=o.plotX,a=o.plotY,l=o.series,c=l.options.states,u=En[l.type].marker&&l.options.marker,h=u&&!u.enabled,d=u&&u.states[t],p=d&&d.enabled===!1,f=l.stateMarkerGraphic,m=o.marker||{},g=l.chart,v=o.pointAttr;t=t||Ze,n=n&&f,t===o.state&&!n||o.selected&&t!==tn||c[t]&&c[t].enabled===!1||t&&(p||h&&!d.enabled)||t&&m.states&&m.states[t]&&m.states[t].enabled===!1||(o.graphic?(i=u&&o.graphic.symbolName&&v[t].r,o.graphic.attr(e(v[t],i?{x:s-i,y:a-i,width:2*i,height:2*i}:{}))):(t&&d&&(i=d.radius,r=m.symbol||l.symbol,f&&f.currentSymbol!==r&&(f=f.destroy()),f?f[n?"animate":"attr"]({x:s-i,y:a-i}):(l.stateMarkerGraphic=f=g.renderer.symbol(r,s-i,a-i,2*i,2*i).attr(v[t]).add(l.markerGroup),f.currentSymbol=r)),f&&f[t&&g.isInsidePlot(s,a,g.inverted)?"show":"hide"]()),o.state=t)
}}),t(Zn.prototype,{onMouseOver:function(){var t=this,e=t.chart,n=e.hoverSeries;n&&n!==t&&n.onMouseOut(),t.options.events.mouseOver&&Sn(t,"mouseOver"),t.setState(Je),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,n=t.chart,i=n.tooltip,r=n.hoverPoint;r&&r.onMouseOut(),t&&e.events.mouseOut&&Sn(t,"mouseOut"),!i||e.stickyTracking||i.shared&&!t.noSharedTooltip||i.hide(),t.setState(),n.hoverSeries=null},setState:function(t){var e,n=this,i=n.options,r=n.graph,o=n.graphNeg,s=i.states,a=i.lineWidth;if(t=t||Ze,n.state!==t){if(n.state=t,s[t]&&s[t].enabled===!1)return;t&&(a=s[t].lineWidth||a+1),r&&!r.dashstyle&&(e={"stroke-width":a},r.attr(e),o&&o.attr(e))}},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;i.visible=t=i.userOptions.visible=t===W?!a:t,n=t?"show":"hide",yn(["group","dataLabelsGroup","markerGroup","tracker"],function(t){i[t]&&i[t][n]()}),r.hoverSeries===i&&i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&yn(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),yn(i.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),Sn(i,n)},setTooltipPoints:function(t){var e,n,i,r,o,s,a,l=this,c=[],u=l.xAxis,h=u&&u.getExtremes(),d=u?u.tooltipLen||u.len:l.chart.plotSizeX,p=[];if(l.options.enableMouseTracking!==!1&&!l.singularTooltips){for(t&&(l.tooltipPoints=null),yn(l.segments||l.points,function(t){c=c.concat(t)}),u&&u.reversed&&(c=c.reverse()),l.orderTooltipPoints&&l.orderTooltipPoints(c),e=c.length,a=0;e>a;a++)if(r=c[a],o=r.x,o>=h.min&&o<=h.max)for(s=c[a+1],n=i===W?0:i+1,i=c[a+1]?ye(ve(0,me((r.clientX+(s?s.wrappedClientX||s.clientX:d))/2)),d):d;n>=0&&i>=n;)p[n++]=r;l.tooltipPoints=p}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===W?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),Sn(e,t?"select":"unselect")},drawTracker:ci.drawTrackerGraph}),t(dn,{Axis:z,Chart:H,Color:jn,Point:Qn,Tick:R,Renderer:U,Series:Zn,SVGElement:F,SVGRenderer:Dn,arrayMin:M,arrayMax:A,charts:Re,dateFormat:Y,format:_,pathAnim:$,getOptions:O,hasBidiBug:Ne,isTouchDevice:Pe,numberFormat:y,seriesTypes:hn,setOptions:D,addEvent:_n,removeEvent:kn,createElement:g,discardElement:P,css:m,each:yn,extend:t,map:wn,merge:e,pick:f,splat:p,extendClass:v,pInt:i,wrap:x,svg:Ie,canvas:je,vml:!Ie&&!je,product:ze,version:He})}(),function(t,e){function n(t,e,n){this.init.call(this,t,e,n)}var i=t.arrayMin,r=t.arrayMax,o=t.each,s=t.extend,a=t.merge,l=t.map,c=t.pick,u=t.pInt,h=t.getOptions().plotOptions,d=t.seriesTypes,p=t.extendClass,f=t.splat,m=t.wrap,g=t.Axis,v=t.Tick,y=t.Point,b=t.Pointer,x=t.TrackerMixin,w=t.CenteredSeriesMixin,_=t.Series,k=Math,S=k.round,C=k.floor,T=k.max,M=t.Color,A=function(){};s(n.prototype,{init:function(t,e,n){var i,r=this,s=r.defaultOptions;r.chart=e,e.angular&&(s.background={}),r.options=t=a(s,t),i=t.background,i&&o([].concat(f(i)).reverse(),function(t){var e=t.backgroundColor;t=a(r.defaultBackgroundOptions,t),e&&(t.backgroundColor=e),t.color=t.backgroundColor,n.options.plotBands.unshift(t)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var E=g.prototype,P=v.prototype,L={getOffset:A,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:A,setCategories:A,setTitle:A},I={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){var e=this.options=a(this.defaultOptions,this.defaultRadialOptions,t);e.plotBands||(e.plotBands=[])},getOffset:function(){E.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=w.getCenter.call(this.pane)},getLinePath:function(t,e){var n=this.center;return e=c(e,n[2]/2-this.offset),this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],e,e,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){E.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){E.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=t.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*c(this.sector,1)/2)},getPosition:function(t,e){return this.isCircular||(e=this.translate(t),t=this.min),this.postTranslate(this.translate(t),c(e,this.center[2]/2)-this.offset)},postTranslate:function(t,e){var n=this.chart,i=this.center;return t=this.startAngleRad+t,{x:n.plotLeft+i[0]+Math.cos(t)*e,y:n.plotTop+i[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,n){var i,r,o,s,a=this.center,h=this.startAngleRad,d=a[2]/2,p=[c(n.outerRadius,"100%"),n.innerRadius,c(n.thickness,10)],f=/%$/,m=this.isCircular;return"polygon"===this.options.gridLineInterpolation?s=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(m||(p[0]=this.translate(t),p[1]=this.translate(e)),p=l(p,function(t){return f.test(t)&&(t=u(t,10)*d/100),t}),"circle"!==n.shape&&m?(i=h+this.translate(t),r=h+this.translate(e)):(i=-Math.PI/2,r=1.5*Math.PI,o=!0),s=this.chart.renderer.symbols.arc(this.left+a[0],this.top+a[1],p[0],p[0],{start:i,end:r,innerR:c(p[1],p[0]-p[2]),open:o})),s},getPlotLinePath:function(t,e){var n,i,r,s,a=this,l=a.center,c=a.chart,u=a.getPosition(t);return a.isCircular?s=["M",l[0]+c.plotLeft,l[1]+c.plotTop,"L",u.x,u.y]:"circle"===a.options.gridLineInterpolation?(t=a.translate(t),t&&(s=a.getLinePath(0,t))):(n=c.xAxis[0],s=[],t=a.translate(t),r=n.tickPositions,n.autoConnect&&(r=r.concat([r[0]])),e&&(r=[].concat(r).reverse()),o(r,function(e,r){i=n.getPosition(e,t),s.push(r?"L":"M",i.x,i.y)})),s},getTitlePosition:function(){var t=this.center,e=this.chart,n=this.options.title;return{x:e.plotLeft+t[0]+(n.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[n.align]*t[2]+(n.y||0)}}};m(E,"init",function(t,i,r){var o,l,u,h,d,p,m=this,g=i.angular,v=i.polar,y=r.isX,b=g&&y,x=i.options,w=r.pane||0;g?(s(this,b?L:I),o=!y,o&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):v&&(s(this,I),o=y,this.defaultRadialOptions=y?this.defaultRadialXOptions:a(this.defaultYAxisOptions,this.defaultRadialYOptions)),t.call(this,i,r),b||!g&&!v||(h=this.options,i.panes||(i.panes=[]),this.pane=d=i.panes[w]=i.panes[w]||new n(f(x.pane)[w],i,m),p=d.options,i.inverted=!1,x.chart.zoomType=null,this.startAngleRad=l=(p.startAngle-90)*Math.PI/180,this.endAngleRad=u=(c(p.endAngle,p.startAngle+360)-90)*Math.PI/180,this.offset=h.offset||0,this.isCircular=o,o&&r.max===e&&u-l===2*Math.PI&&(this.autoConnect=!0))}),m(P,"getPosition",function(t,e,n,i,r){var o=this.axis;return o.getPosition?o.getPosition(n):t.call(this,e,n,i,r)}),m(P,"getLabelPosition",function(t,e,n,i,r,o,s,a,l){var u,h=this.axis,d=o.y,p=o.align,f=(h.translate(this.pos)+h.startAngleRad+Math.PI/2)/Math.PI*180%360;return h.isRadial?(u=h.getPosition(this.pos,h.center[2]/2+c(o.distance,-25)),"auto"===o.rotation?i.attr({rotation:f}):null===d&&(d=h.chart.renderer.fontMetrics(i.styles.fontSize).b-i.getBBox().height/2),null===p&&(p=h.isCircular?f>20&&160>f?"left":f>200&&340>f?"right":"center":"center",i.attr({align:p})),u.x+=o.x,u.y+=d):u=t.call(this,e,n,i,r,o,s,a,l),u}),m(P,"getMarkPath",function(t,e,n,i,r,o,s){var a,l,c=this.axis;return c.isRadial?(a=c.getPosition(this.pos,c.center[2]/2+i),l=["M",e,n,"L",a.x,a.y]):l=t.call(this,e,n,i,r,o,s),l}),h.arearange=a(h.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}}),d.arearange=p(d.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",getSegments:function(){var t=this;o(t.points,function(e){t.options.connectNulls||null!==e.low&&null!==e.high?null===e.low&&null!==e.high&&(e.y=e.high):e.y=null}),_.prototype.getSegments.call(this)},translate:function(){var t=this,e=t.yAxis;d.area.prototype.translate.apply(t),o(t.points,function(t){var n=t.low,i=t.high,r=t.plotY;null===i&&null===n?t.y=null:null===n?(t.plotLow=t.plotY=null,t.plotHigh=e.translate(i,0,1,0,1)):null===i?(t.plotLow=r,t.plotHigh=null):(t.plotLow=r,t.plotHigh=e.translate(i,0,1,0,1))})},getSegmentPath:function(t){var e,n,i,r,o,s=[],a=t.length,l=_.prototype.getSegmentPath,c=this.options,u=c.step;for(e=HighchartsAdapter.grep(t,function(t){return null!==t.plotLow});a--;)n=t[a],null!==n.plotHigh&&s.push({plotX:n.plotX,plotY:n.plotHigh});return r=l.call(this,e),u&&(u===!0&&(u="left"),c.step={left:"right",center:"center",right:"left"}[u]),o=l.call(this,s),c.step=u,i=[].concat(r,o),o[0]="L",this.areaPath=this.areaPath.concat(r,o),i},drawDataLabels:function(){var t,e,n=this.data,i=n.length,r=[],o=_.prototype,s=this.options.dataLabels,a=this.chart.inverted;if(s.enabled||this._hasPointLabels){for(t=i;t--;)e=n[t],e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,r[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=!1,a?(s.align="left",s.x=s.xHigh):s.y=s.yHigh;for(o.drawDataLabels&&o.drawDataLabels.apply(this,arguments),t=i;t--;)e=n[t],e.dataLabelUpper=e.dataLabel,e.dataLabel=r[t],e.y=e.low,e.plotY=e._plotY,e.below=!0,a?(s.align="right",s.x=s.xLow):s.y=s.yLow;o.drawDataLabels&&o.drawDataLabels.apply(this,arguments)}},alignDataLabel:function(){d.column.prototype.alignDataLabel.apply(this,arguments)},getSymbol:d.column.prototype.getSymbol,drawPoints:A}),h.areasplinerange=a(h.arearange),d.areasplinerange=p(d.arearange,{type:"areasplinerange",getPointSpline:d.spline.prototype.getPointSpline}),function(){var t=d.column.prototype;h.columnrange=a(h.column,h.arearange,{lineWidth:1,pointRange:null}),d.columnrange=p(d.arearange,{type:"columnrange",translate:function(){var e,n=this,i=n.yAxis;t.translate.apply(n),o(n.points,function(t){var r,o,s,a=t.shapeArgs,l=n.options.minPointLength;t.plotHigh=e=i.translate(t.high,0,1,0,1),t.plotLow=t.plotY,s=e,o=t.plotY-e,l>o&&(r=l-o,o+=r,s-=r/2),a.height=o,a.y=s})},trackerGroups:["group","dataLabels"],drawGraph:A,pointAttrToOptions:t.pointAttrToOptions,drawPoints:t.drawPoints,drawTracker:t.drawTracker,animate:t.animate,getColumnMetrics:t.getColumnMetrics})}(),h.gauge=a(h.line,{dataLabels:{enabled:!0,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});var N=p(y,{setState:function(t){this.state=t}}),j={type:"gauge",pointClass:N,angular:!0,drawGraph:A,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabels"],translate:function(){var t=this,e=t.yAxis,n=t.options,i=e.center;t.generatePoints(),o(t.points,function(t){var r=a(n.dial,t.dial),o=u(c(r.radius,80))*i[2]/200,s=u(c(r.baseLength,70))*o/100,l=u(c(r.rearLength,10))*o/100,h=r.baseWidth||3,d=r.topWidth||1,p=n.overshoot,f=e.startAngleRad+e.translate(t.y,null,null,null,!0);p&&"number"==typeof p?(p=p/180*Math.PI,f=Math.max(e.startAngleRad-p,Math.min(e.endAngleRad+p,f))):n.wrap===!1&&(f=Math.max(e.startAngleRad,Math.min(e.endAngleRad,f))),f=180*f/Math.PI,t.shapeType="path",t.shapeArgs={d:r.path||["M",-l,-h/2,"L",s,-h/2,o,-d/2,o,d/2,s,h/2,-l,h/2,"z"],translateX:i[0],translateY:i[1],rotation:f},t.plotX=i[0],t.plotY=i[1]})},drawPoints:function(){var t=this,e=t.yAxis.center,n=t.pivot,i=t.options,r=i.pivot,s=t.chart.renderer;o(t.points,function(e){var n=e.graphic,r=e.shapeArgs,o=r.d,l=a(i.dial,e.dial);n?(n.animate(r),r.d=o):e.graphic=s[e.shapeType](r).attr({stroke:l.borderColor||"none","stroke-width":l.borderWidth||0,fill:l.backgroundColor||"black",rotation:r.rotation}).add(t.group)}),n?n.animate({translateX:e[0],translateY:e[1]}):t.pivot=s.circle(0,0,c(r.radius,5)).attr({"stroke-width":r.borderWidth||0,stroke:r.borderColor||"silver",fill:r.backgroundColor||"black"}).translate(e[0],e[1]).add(t.group)},animate:function(t){var e=this;t||(o(e.points,function(t){var n=t.graphic;n&&(n.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),n.animate({rotation:t.shapeArgs.rotation},e.options.animation))}),e.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),_.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){_.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),c(e,!0)&&this.chart.redraw()},drawTracker:x.drawTrackerPoint};d.gauge=p(d.line,j),h.boxplot=a(h.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),d.boxplot=p(d.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:A,translate:function(){var t=this,e=t.yAxis,n=t.pointArrayMap;d.column.prototype.translate.apply(t),o(t.points,function(t){o(n,function(n){null!==t[n]&&(t[n+"Plot"]=e.translate(t[n],0,1,0,1))})})},drawPoints:function(){var t,n,i,r,s,a,l,u,h,d,p,f,m,g,v,y,b,x,w,_,k,T,M=this,A=M.points,E=M.options,P=M.chart,L=P.renderer,I=M.doQuartiles!==!1,N=parseInt(M.options.whiskerLength,10)/100;o(A,function(o){h=o.graphic,k=o.shapeArgs,p={},g={},y={},T=o.color||M.color,o.plotY!==e&&(t=o.pointAttr[o.selected?"selected":""],b=k.width,x=C(k.x),w=x+b,_=S(b/2),n=C(I?o.q1Plot:o.lowPlot),i=C(I?o.q3Plot:o.lowPlot),r=C(o.highPlot),s=C(o.lowPlot),p.stroke=o.stemColor||E.stemColor||T,p["stroke-width"]=c(o.stemWidth,E.stemWidth,E.lineWidth),p.dashstyle=o.stemDashStyle||E.stemDashStyle,g.stroke=o.whiskerColor||E.whiskerColor||T,g["stroke-width"]=c(o.whiskerWidth,E.whiskerWidth,E.lineWidth),y.stroke=o.medianColor||E.medianColor||T,y["stroke-width"]=c(o.medianWidth,E.medianWidth,E.lineWidth),y["stroke-linecap"]="round",l=p["stroke-width"]%2/2,u=x+_+l,d=["M",u,i,"L",u,r,"M",u,n,"L",u,s,"z"],I&&(l=t["stroke-width"]%2/2,u=C(u)+l,n=C(n)+l,i=C(i)+l,x+=l,w+=l,f=["M",x,i,"L",x,n,"L",w,n,"L",w,i,"L",x,i,"z"]),N&&(l=g["stroke-width"]%2/2,r+=l,s+=l,m=["M",u-_*N,r,"L",u+_*N,r,"M",u-_*N,s,"L",u+_*N,s]),l=y["stroke-width"]%2/2,a=S(o.medianPlot)+l,v=["M",x,a,"L",w,a,"z"],h?(o.stem.animate({d:d}),N&&o.whiskers.animate({d:m}),I&&o.box.animate({d:f}),o.medianShape.animate({d:v})):(o.graphic=h=L.g().add(M.group),o.stem=L.path(d).attr(p).add(h),N&&(o.whiskers=L.path(m).attr(g).add(h)),I&&(o.box=L.path(f).attr(t).add(h)),o.medianShape=L.path(v).attr(y).add(h)))})}}),h.errorbar=a(h.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),d.errorbar=p(d.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:d.arearange?d.arearange.prototype.drawDataLabels:A,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||d.column.prototype.getColumnMetrics.call(this)}}),h.waterfall=a(h.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333"}),d.waterfall=p(d.column,{type:"waterfall",upColorProp:"fill",pointArrayMap:["low","y"],pointValKey:"y",init:function(t,e){e.stacking=!0,d.column.prototype.init.call(this,t,e)},translate:function(){var t,e,n,i,r,o,s,a,l,c=this,u=c.options,h=c.yAxis,p=u.threshold,f=u.borderWidth%2/2;for(d.column.prototype.translate.apply(this),a=p,n=c.points,e=0,t=n.length;t>e;e++)i=n[e],r=i.shapeArgs,o=c.getStack(e),l=o.points[c.index],isNaN(i.y)&&(i.y=c.yData[e]),s=T(a,a+i.y)+l[0],r.y=h.translate(s,0,1),i.isSum||i.isIntermediateSum?(r.y=h.translate(l[1],0,1),r.height=h.translate(l[0],0,1)-r.y):a+=o.total,r.height<0&&(r.y+=r.height,r.height*=-1),i.plotY=r.y=S(r.y)-f,r.height=S(r.height),i.yBottom=r.y+r.height},processData:function(t){var e,n,i,r,o,s,a,l=this,c=l.options,u=l.yData,h=l.points,d=u.length,p=c.threshold||0;for(i=n=r=o=p,a=0;d>a;a++)s=u[a],e=h&&h[a]?h[a]:{},"sum"===s||e.isSum?u[a]=i:"intermediateSum"===s||e.isIntermediateSum?(u[a]=n,n=p):(i+=s,n+=s),r=Math.min(i,r),o=Math.max(i,o);_.prototype.processData.call(this,t),l.dataMin=r,l.dataMax=o},toYData:function(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y},getAttribs:function(){d.column.prototype.getAttribs.apply(this,arguments);var e=this,n=e.options,i=n.states,r=n.upColor||e.color,s=t.Color(r).brighten(.1).get(),l=a(e.pointAttr),c=e.upColorProp;l[""][c]=r,l.hover[c]=i.hover.upColor||s,l.select[c]=i.select.upColor||r,o(e.points,function(t){t.y>0&&!t.color&&(t.pointAttr=l,t.color=r)})},getGraphPath:function(){var t,e,n,i,r=this.data,o=r.length,s=this.options.lineWidth+this.options.borderWidth,a=S(s)%2/2,l=[],c="M",u="L";for(n=1;o>n;n++)e=r[n].shapeArgs,t=r[n-1].shapeArgs,i=[c,t.x+t.width,t.y+a,u,e.x,t.y+a],r[n-1].y<0&&(i[2]+=t.height,i[5]+=t.height),l=l.concat(i);return l},getExtremes:A,getStack:function(t){var e=this.yAxis,n=e.stacks,i=this.stackKey;return this.processedYData[t]<this.options.threshold&&(i="-"+i),n[i][t]},drawGraph:_.prototype.drawGraph}),h.bubble=a(h.scatter,{dataLabels:{inside:!0,style:{color:"white",textShadow:"0px 0px 3px black"},verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0}),d.bubble=p(d.scatter,{type:"bubble",pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(t){var e=this.options.marker,n=c(e.fillOpacity,.5);return t=t||e.fillColor||this.color,1!==n&&(t=M(t).setOpacity(n).get("rgba")),t},convertAttribs:function(){var t=_.prototype.convertAttribs.apply(this,arguments);return t.fill=this.applyOpacity(t.fill),t},getRadii:function(t,e,n,i){var r,o,s,a,l=this.zData,c=[],u="width"!==this.options.sizeBy;for(o=0,r=l.length;r>o;o++)a=e-t,s=a>0?(l[o]-t)/(e-t):.5,u&&s>=0&&(s=Math.sqrt(s)),c.push(k.ceil(n+s*(i-n))/2);this.radii=c},animate:function(t){var e=this.options.animation;t||(o(this.points,function(t){var n=t.graphic,i=t.shapeArgs;n&&i&&(n.attr("r",1),n.animate({r:i.r},e))}),this.animate=null)},translate:function(){var t,n,i,r=this.data,o=this.radii;for(d.scatter.prototype.translate.call(this),t=r.length;t--;)n=r[t],i=o?o[t]:0,n.negative=n.z<(this.options.zThreshold||0),i>=this.minPxSize/2?(n.shapeType="circle",n.shapeArgs={x:n.plotX,y:n.plotY,r:i},n.dlBox={x:n.plotX-i,y:n.plotY-i,width:2*i,height:2*i}):n.shapeArgs=n.plotY=n.dlBox=e},drawLegendSymbol:function(t,e){var n=u(t.itemStyle.fontSize)/2;e.legendSymbol=this.chart.renderer.circle(n,t.baseline-n,n).attr({zIndex:3}).add(e.legendGroup),e.legendSymbol.isMarker=!0},drawPoints:d.column.prototype.drawPoints,alignDataLabel:d.column.prototype.alignDataLabel}),g.prototype.beforePadding=function(){var t=this,n=this.len,s=this.chart,a=0,l=n,h=this.isXAxis,d=h?"xData":"yData",p=this.min,f={},m=k.min(s.plotWidth,s.plotHeight),g=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-p,b=n/y,x=[];this.tickPositions&&(o(this.series,function(e){var n,a=e.options;!e.bubblePadding||!e.visible&&s.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,x.push(e),h&&(o(["minSize","maxSize"],function(t){var e=a[t],n=/%$/.test(e);e=u(e),f[t]=n?m*e/100:e}),e.minPxSize=f.minSize,n=e.zData,n.length&&(g=k.min(g,k.max(i(n),a.displayNegative===!1?a.zThreshold:-Number.MAX_VALUE)),v=k.max(v,r(n)))))}),o(x,function(t){var e,n=t[d],i=n.length;if(h&&t.getRadii(g,v,f.minSize,f.maxSize),y>0)for(;i--;)"number"==typeof n[i]&&(e=t.radii[i],a=Math.min((n[i]-p)*b-e,a),l=Math.max((n[i]-p)*b+e,l))}),x.length&&y>0&&c(this.options.min,this.userMin)===e&&c(this.options.max,this.userMax)===e&&(l-=n,b*=(n+a-l)/n,this.min+=a/b,this.max+=l/b))},function(){function t(t,e,n){t.call(this,e,n),this.chart.polar&&(this.closeSegment=function(t){var e=this.xAxis.center;t.push("L",e[0],e[1])},this.closedStacks=!0)}function e(t,e){var n,i=this.chart,r=this.options.animation,o=this.group,s=this.markerGroup,a=this.xAxis.center,l=i.plotLeft,c=i.plotTop;i.polar?i.renderer.isSVG&&(r===!0&&(r={}),e?(n={translateX:a[0]+l,translateY:a[1]+c,scaleX:.001,scaleY:.001},o.attr(n),s&&(s.attrSetters=o.attrSetters,s.attr(n))):(n={translateX:l,translateY:c,scaleX:1,scaleY:1},o.animate(n,r),s&&s.animate(n,r),this.animate=null)):t.call(this,e)}var n,i=_.prototype,r=b.prototype;i.toXY=function(t){var e,n,i=this.chart,r=t.plotX,o=t.plotY;t.rectPlotX=r,t.rectPlotY=o,n=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360,0>n&&(n+=360),t.clientX=n,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-o),t.plotX=t.polarPlotX=e.x-i.plotLeft,t.plotY=t.polarPlotY=e.y-i.plotTop},i.orderTooltipPoints=function(t){this.chart.polar&&(t.sort(function(t,e){return t.clientX-e.clientX}),t[0]&&(t[0].wrappedClientX=t[0].clientX+360,t.push(t[0])))},d.area&&m(d.area.prototype,"init",t),d.areaspline&&m(d.areaspline.prototype,"init",t),d.spline&&m(d.spline.prototype,"getPointSpline",function(t,e,n,i){var r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,b,x,w,_=1.5,k=_+1;return this.chart.polar?(o=n.plotX,s=n.plotY,a=e[i-1],l=e[i+1],this.connectEnds&&(a||(a=e[e.length-2]),l||(l=e[1])),a&&l&&(c=a.plotX,u=a.plotY,h=l.plotX,d=l.plotY,p=(_*o+c)/k,f=(_*s+u)/k,m=(_*o+h)/k,g=(_*s+d)/k,v=Math.sqrt(Math.pow(p-o,2)+Math.pow(f-s,2)),y=Math.sqrt(Math.pow(m-o,2)+Math.pow(g-s,2)),b=Math.atan2(f-s,p-o),x=Math.atan2(g-s,m-o),w=Math.PI/2+(b+x)/2,Math.abs(b-w)>Math.PI/2&&(w-=Math.PI),p=o+Math.cos(w)*v,f=s+Math.sin(w)*v,m=o+Math.cos(Math.PI+w)*y,g=s+Math.sin(Math.PI+w)*y,n.rightContX=m,n.rightContY=g),i?(r=["C",a.rightContX||a.plotX,a.rightContY||a.plotY,p||o,f||s,o,s],a.rightContX=a.rightContY=null):r=["M",o,s]):r=t.call(this,e,n,i),r}),m(i,"translate",function(t){if(t.call(this),this.chart.polar&&!this.preventPostTranslate)for(var e=this.points,n=e.length;n--;)this.toXY(e[n])}),m(i,"getSegmentPath",function(t,e){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&e[e.length-1]===n[n.length-1]&&null!==n[0].y&&(this.connectEnds=!0,e=[].concat(e,[n[0]])),t.call(this,e)}),m(i,"animate",e),m(i,"setTooltipPoints",function(t,e){return this.chart.polar&&s(this.xAxis,{tooltipLen:360}),t.call(this,e)}),d.column&&(n=d.column.prototype,m(n,"animate",e),m(n,"translate",function(t){var e,n,i,r,o=this.xAxis,s=this.yAxis.len,a=o.center,l=o.startAngleRad,u=this.chart.renderer;if(this.preventPostTranslate=!0,t.call(this),o.isRadial)for(n=this.points,r=n.length;r--;)i=n[r],e=i.barX+l,i.shapeType="path",i.shapeArgs={d:u.symbols.arc(a[0],a[1],s-i.plotY,null,{start:e,end:e+i.pointWidth,innerR:s-c(i.yBottom,s)})},this.toXY(i)}),m(n,"alignDataLabel",function(t,e,n,r,o,s){if(this.chart.polar){var a,l,c=e.rectPlotX/Math.PI*180;null===r.align&&(a=c>20&&160>c?"left":c>200&&340>c?"right":"center",r.align=a),null===r.verticalAlign&&(l=45>c||c>315?"bottom":c>135&&225>c?"top":"middle",r.verticalAlign=l),i.alignDataLabel.call(this,e,n,r,o,s)}else t.call(this,e,n,r,o,s)})),m(r,"getIndex",function(t,e){var n,i,r,o,s=this.chart;return s.polar?(i=s.xAxis[0].center,r=e.chartX-i[0]-s.plotLeft,o=e.chartY-i[1]-s.plotTop,n=180-Math.round(Math.atan2(r,o)/Math.PI*180)):n=t.call(this,e),n}),m(r,"getCoordinates",function(t,e){var n=this.chart,i={xAxis:[],yAxis:[]};return n.polar?o(n.axes,function(t){var r=t.isXAxis,o=t.center,s=e.chartX-o[0]-n.plotLeft,a=e.chartY-o[1]-n.plotTop;i[r?"xAxis":"yAxis"].push({axis:t,value:t.translate(r?Math.PI-Math.atan2(s,a):Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),!0)})}):i=t.call(this,e),i})}()}(Highcharts),/*!
 * Braintree End-to-End Encryption Library
 * https://www.braintreepayments.com
 * Copyright (c) 2009-2014 Braintree, a division of PayPal, Inc.
 *
 * JSBN
 * Copyright (c) 2005  Tom Wu
 *
 * Both Licensed under the MIT License.
 * http://opensource.org/licenses/MIT
 *
 * ASN.1 JavaScript decoder
 * Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
 * Licensed under the ISC License.
 * http://opensource.org/licenses/ISC
 */
function(){// Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
// copyright notice and this permission notice appear in all copies.
function t(e,n){e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}function e(t,e,n,i,r){this.stream=t,this.header=e,this.length=n,this.tag=i,this.sub=r}function n(t){var e,n,i="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+=ee.charAt(n>>6)+ee.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+=ee.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+=ee.charAt(n>>2)+ee.charAt((3&n)<<4));(3&i.length)>0;)i+=ne;return i}function i(t){var e,n,i,r="",o=0;for(e=0;e<t.length&&t.charAt(e)!=ne;++e)i=ee.indexOf(t.charAt(e)),0>i||(0==o?(r+=u(i>>2),n=3&i,o=1):1==o?(r+=u(n<<2|i>>4),n=15&i,o=2):2==o?(r+=u(n),r+=u(i>>2),n=3&i,o=3):(r+=u(n<<2|i>>4),r+=u(15&i),o=0));return 1==o&&(r+=u(n<<2)),r}function r(t){var e,n=i(t),r=new Array;for(e=0;2*e<n.length;++e)r[e]=parseInt(n.substring(2*e,2*e+2),16);return r}function o(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function s(){return new o(null)}function a(t,e,n,i,r,o){for(;--o>=0;){var s=e*this[t++]+n[i]+r;r=Math.floor(s/67108864),n[i++]=67108863&s}return r}function l(t,e,n,i,r,o){for(var s=32767&e,a=e>>15;--o>=0;){var l=32767&this[t],c=this[t++]>>15,u=a*l+c*s;l=s*l+((32767&u)<<15)+n[i]+(1073741823&r),r=(l>>>30)+(u>>>15)+a*c+(r>>>30),n[i++]=1073741823&l}return r}function c(t,e,n,i,r,o){for(var s=16383&e,a=e>>14;--o>=0;){var l=16383&this[t],c=this[t++]>>14,u=a*l+c*s;l=s*l+((16383&u)<<14)+n[i]+r,r=(l>>28)+(u>>14)+a*c,n[i++]=268435455&l}return r}function u(t){return le.charAt(t)}function h(t,e){var n=ce[t.charCodeAt(e)];return null==n?-1:n}function d(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function p(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+this.DV:this.t=0}function f(t){var e=s();return e.fromInt(t),e}function m(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var i=t.length,r=!1,s=0;--i>=0;){var a=8==n?255&t[i]:h(t,i);0>a?"-"==t.charAt(i)&&(r=!0):(r=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,s+=n,s>=this.DB&&(s-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&o.ZERO.subTo(this,this)}function g(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function v(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,r=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-->0)for(a<this.DB&&(n=this[s]>>a)>0&&(r=!0,o=u(n));s>=0;)e>a?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&i,0>=a&&(a+=this.DB,--s)),n>0&&(r=!0),r&&(o+=u(n));return r?o:"0"}function y(){var t=s();return o.ZERO.subTo(this,t),t}function b(){return this.s<0?this.negate():this}function x(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function w(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function _(){return this.t<=0?0:this.DB*(this.t-1)+w(this[this.t-1]^this.s&this.DM)}function k(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function S(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function C(t,e){var n,i=t%this.DB,r=this.DB-i,o=(1<<r)-1,s=Math.floor(t/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function T(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var i=t%this.DB,r=this.DB-i,o=(1<<i)-1;e[0]=this[n]>>i;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<r,e[s-n]=this[s]>>i;i>0&&(e[this.t-n-1]|=(this.s&o)<<r),e.t=this.t-n,e.clamp()}function M(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);r>n;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=0>i?-1:0,-1>i?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function A(t,e){var n=this.abs(),i=t.abs(),r=n.t;for(e.t=r+i.t;--r>=0;)e[r]=0;for(r=0;r<i.t;++r)e[r+n.t]=n.am(0,i[r],e,r,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&o.ZERO.subTo(e,e)}function E(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function P(t,e,n){var i=t.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=s());var a=s(),l=this.s,c=t.s,u=this.DB-w(i[i.t-1]);u>0?(i.lShiftTo(u,a),r.lShiftTo(u,n)):(i.copyTo(a),r.copyTo(n));var h=a.t,d=a[h-1];if(0!=d){var p=d*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),f=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,v=n.t,y=v-h,b=null==e?s():e;for(a.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),o.ONE.dlShiftTo(h,b),b.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--y>=0;){var x=n[--v]==d?this.DM:Math.floor(n[v]*f+(n[v-1]+g)*m);if((n[v]+=a.am(0,x,n,y,0,h))<x)for(a.dlShiftTo(y,b),n.subTo(b,n);n[v]<--x;)n.subTo(b,n)}null!=e&&(n.drShiftTo(h,e),l!=c&&o.ZERO.subTo(e,e)),n.t=h,n.clamp(),u>0&&n.rShiftTo(u,n),0>l&&o.ZERO.subTo(n,n)}}}function L(t){var e=s();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(o.ZERO)>0&&t.subTo(e,e),e}function I(t){this.m=t}function N(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function j(t){return t}function D(t){t.divRemTo(this.m,null,t)}function O(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function F(t,e){t.squareTo(e),this.reduce(e)}function R(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function z(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function H(t){var e=s();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(o.ZERO)>0&&this.m.subTo(e,e),e}function B(t){var e=s();return t.copyTo(e),this.reduce(e),e}function W(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function U(t,e){t.squareTo(e),this.reduce(e)}function q(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function V(){return 0==(this.t>0?1&this[0]:this.s)}function X(t,e){if(t>4294967295||1>t)return o.ONE;var n=s(),i=s(),r=e.convert(this),a=w(t)-1;for(r.copyTo(n);--a>=0;)if(e.sqrTo(n,i),(t&1<<a)>0)e.mulTo(i,r,n);else{var l=n;n=i,i=l}return e.revert(n)}function Y(t,e){var n;return n=256>t||e.isEven()?new I(e):new z(e),this.exp(t,n)}function G(t,e){return new o(t,e)}function $(t,e){if(e<t.length+11)throw new Error("Message too long for RSA");for(var n=new Array,i=t.length-1;i>=0&&e>0;){var r=t.charCodeAt(i--);128>r?n[--e]=r:r>127&&2048>r?(n[--e]=63&r|128,n[--e]=r>>6|192):(n[--e]=63&r|128,n[--e]=r>>6&63|128,n[--e]=r>>12|224)}n[--e]=0;for(var s=0,a=0,l=0;e>2;)0==l&&(a=ue.random.randomWords(1,0)[0]),s=a>>l&255,l=(l+8)%32,0!=s&&(n[--e]=s);return n[--e]=2,n[--e]=0,new o(n)}function K(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Q(t,e){if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw new Error("Invalid RSA public key");this.n=G(t,16),this.e=parseInt(e,16)}function Z(t){return t.modPowInt(this.e,this.n)}function J(t){var e=$(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}t.prototype.get=function(t){if(void 0==t&&(t=this.pos++),t>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]},t.prototype.hexDigits="0123456789ABCDEF",t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e){for(var n="",i=t;e>i;++i)switch(n+=this.hexByte(this.get(i)),15&i){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},t.prototype.parseStringISO=function(t,e){for(var n="",i=t;e>i;++i)n+=String.fromCharCode(this.get(i));return n},t.prototype.parseStringUTF=function(t,e){for(var n="",i=0,r=t;e>r;){var i=this.get(r++);n+=String.fromCharCode(128>i?i:i>191&&224>i?(31&i)<<6|63&this.get(r++):(15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},t.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,t.prototype.parseTime=function(t,e){var n=this.parseStringISO(t,e),i=this.reTime.exec(n);return i?(n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},t.prototype.parseInteger=function(t,e){var n=e-t;if(n>4){n<<=3;var i=this.get(t);if(0==i)n-=8;else for(;128>i;)i<<=1,--n;return"("+n+" bit)"}for(var r=0,o=t;e>o;++o)r=r<<8|this.get(o);return r},t.prototype.parseBitString=function(t,e){var n=this.get(t),i=(e-t-1<<3)-n,r="("+i+" bit)";if(20>=i){var o=n;r+=" ";for(var s=e-1;s>t;--s){for(var a=this.get(s),l=o;8>l;++l)r+=a>>l&1?"1":"0";o=0}}return r},t.prototype.parseOctetString=function(t,e){var n=e-t,i="("+n+" byte) ";n>20&&(e=t+20);for(var r=t;e>r;++r)i+=this.hexByte(this.get(r));return n>20&&(i+=String.fromCharCode(8230)),i},t.prototype.parseOID=function(t,e){for(var n,i=0,r=0,o=t;e>o;++o){var s=this.get(o);i=i<<7|127&s,r+=7,128&s||(void 0==n?n=parseInt(i/40)+"."+i%40:n+="."+(r>=31?"bigint":i),i=r=0),n+=String.fromCharCode()}return n},e.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var t=this.tag>>6,e=(this.tag>>5&1,31&this.tag);switch(t){case 0:switch(e){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+e.toString(16)}case 1:return"Application_"+e.toString(16);case 2:return"["+e+"]";case 3:return"Private_"+e.toString(16)}},e.prototype.content=function(){if(void 0==this.tag)return null;var t=this.tag>>6;if(0!=t)return null==this.sub?null:"("+this.sub.length+")";var e=31&this.tag,n=this.posContent(),i=Math.abs(this.length);switch(e){case 1:return 0==this.stream.get(n)?"false":"true";case 2:return this.stream.parseInteger(n,n+i);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(n,n+i);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(n,n+i);case 6:return this.stream.parseOID(n,n+i);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(n,n+i);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(n,n+i);case 23:case 24:return this.stream.parseTime(n,n+i)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},e.prototype.print=function(t){if(void 0==t&&(t=""),document.writeln(t+this),null!=this.sub){t+="  ";for(var e=0,n=this.sub.length;n>e;++e)this.sub[e].print(t)}},e.prototype.toPrettyString=function(t){void 0==t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,32&this.tag?e+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(e+=" (encapsulates)"),e+="\n",null!=this.sub){t+="  ";for(var n=0,i=this.sub.length;i>n;++n)e+=this.sub[n].toPrettyString(t)}return e},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0==n)return-1;e=0;for(var i=0;n>i;++i)e=e<<8|t.get();return e},e.hasContent=function(n,i,r){if(32&n)return!0;if(3>n||n>4)return!1;var o=new t(r);3==n&&o.get();var s=o.get();if(s>>6&1)return!1;try{var a=e.decodeLength(o);return o.pos-r.pos+a==i}catch(l){return!1}},e.decode=function(n){n instanceof t||(n=new t(n,0));var i=new t(n),r=n.get(),o=e.decodeLength(n),s=n.pos-i.pos,a=null;if(e.hasContent(r,o,n)){var l=n.pos;if(3==r&&n.get(),a=[],o>=0){for(var c=l+o;n.pos<c;)a[a.length]=e.decode(n);if(n.pos!=c)throw"Content size is not correct for container starting at offset "+l}else try{for(;;){var u=e.decode(n);if(0==u.tag)break;a[a.length]=u}o=l-n.pos}catch(h){throw"Exception while decoding undefined length content: "+h}}else n.pos+=o;return new e(i,s,o,r,a)};var te,ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ne="=",ie=0xdeadbeefcafe,re=15715070==(16777215&ie);re&&"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=l,te=30):re&&"Netscape"!=navigator.appName?(o.prototype.am=a,te=26):(o.prototype.am=c,te=28),o.prototype.DB=te,o.prototype.DM=(1<<te)-1,o.prototype.DV=1<<te;var oe=52;o.prototype.FV=Math.pow(2,oe),o.prototype.F1=oe-te,o.prototype.F2=2*te-oe;var se,ae,le="0123456789abcdefghijklmnopqrstuvwxyz",ce=new Array;for(se="0".charCodeAt(0),ae=0;9>=ae;++ae)ce[se++]=ae;for(se="a".charCodeAt(0),ae=10;36>ae;++ae)ce[se++]=ae;for(se="A".charCodeAt(0),ae=10;36>ae;++ae)ce[se++]=ae;I.prototype.convert=N,I.prototype.revert=j,I.prototype.reduce=D,I.prototype.mulTo=O,I.prototype.sqrTo=F,z.prototype.convert=H,z.prototype.revert=B,z.prototype.reduce=W,z.prototype.mulTo=q,z.prototype.sqrTo=U,o.prototype.copyTo=d,o.prototype.fromInt=p,o.prototype.fromString=m,o.prototype.clamp=g,o.prototype.dlShiftTo=k,o.prototype.drShiftTo=S,o.prototype.lShiftTo=C,o.prototype.rShiftTo=T,o.prototype.subTo=M,o.prototype.multiplyTo=A,o.prototype.squareTo=E,o.prototype.divRemTo=P,o.prototype.invDigit=R,o.prototype.isEven=V,o.prototype.exp=X,o.prototype.toString=v,o.prototype.negate=y,o.prototype.abs=b,o.prototype.compareTo=x,o.prototype.bitLength=_,o.prototype.mod=L,o.prototype.modPowInt=Y,o.ZERO=f(0),o.ONE=f(1),K.prototype.doPublic=Z,K.prototype.setPublic=Q,K.prototype.encrypt=J;var ue={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};"undefined"!=typeof module&&module.exports&&(module.exports=ue),ue.cipher.aes=function(t){this._tables[0][0][0]||this._precompute();var e,n,i,r,o,s=this._tables[0][4],a=this._tables[1],l=t.length,c=1;if(4!==l&&6!==l&&8!==l)throw new ue.exception.invalid("invalid aes key size");for(this._key=[r=t.slice(0),o=[]],e=l;4*l+28>e;e++)i=r[e-1],(e%l===0||8===l&&e%l===4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],e%l===0&&(i=i<<8^i>>>24^c<<24,c=c<<1^283*(c>>7))),r[e]=r[e-l]^i;for(n=0;e;n++,e--)i=r[3&n?e:e-4],o[n]=4>=e||4>n?i:a[0][s[i>>>24]]^a[1][s[i>>16&255]]^a[2][s[i>>8&255]]^a[3][s[255&i]]},ue.cipher.aes.prototype={encrypt:function(t){return this._crypt(t,0)},decrypt:function(t){return this._crypt(t,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var t,e,n,i,r,o,s,a,l,c=this._tables[0],u=this._tables[1],h=c[4],d=u[4],p=[],f=[];for(t=0;256>t;t++)f[(p[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!h[e];e^=i||1,n=f[n]||1)for(s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^255&s^99,h[e]=s,d[s]=e,o=p[r=p[i=p[e]]],l=16843009*o^65537*r^257*i^16843008*e,a=257*p[s]^16843008*s,t=0;4>t;t++)c[t][e]=a=a<<24^a>>>8,u[t][s]=l=l<<24^l>>>8;for(t=0;5>t;t++)c[t]=c[t].slice(0),u[t]=u[t].slice(0)},_crypt:function(t,e){if(4!==t.length)throw new ue.exception.invalid("invalid aes block size");var n,i,r,o,s=this._key[e],a=t[0]^s[0],l=t[e?3:1]^s[1],c=t[2]^s[2],u=t[e?1:3]^s[3],h=s.length/4-2,d=4,p=[0,0,0,0],f=this._tables[e],m=f[0],g=f[1],v=f[2],y=f[3],b=f[4];for(o=0;h>o;o++)n=m[a>>>24]^g[l>>16&255]^v[c>>8&255]^y[255&u]^s[d],i=m[l>>>24]^g[c>>16&255]^v[u>>8&255]^y[255&a]^s[d+1],r=m[c>>>24]^g[u>>16&255]^v[a>>8&255]^y[255&l]^s[d+2],u=m[u>>>24]^g[a>>16&255]^v[l>>8&255]^y[255&c]^s[d+3],d+=4,a=n,l=i,c=r;for(o=0;4>o;o++)p[e?3&-o:o]=b[a>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&u]^s[d++],n=a,a=l,l=c,c=u,u=n;return p}},ue.bitArray={bitSlice:function(t,e,n){return t=ue.bitArray._shiftRight(t.slice(e/32),32-(31&e)).slice(1),void 0===n?t:ue.bitArray.clamp(t,n-e)},extract:function(t,e,n){var i,r=Math.floor(-e-n&31);return i=-32&(e+n-1^e)?t[e/32|0]<<32-r^t[e/32+1|0]>>>r:t[e/32|0]>>>r,i&(1<<n)-1},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var n=t[t.length-1],i=ue.bitArray.getPartial(n);return 32===i?t.concat(e):ue.bitArray._shiftRight(e,i,0|n,t.slice(0,t.length-1))},bitLength:function(t){var e,n=t.length;return 0===n?0:(e=t[n-1],32*(n-1)+ue.bitArray.getPartial(e))},clamp:function(t,e){if(32*t.length<e)return t;t=t.slice(0,Math.ceil(e/32));var n=t.length;return e=31&e,n>0&&e&&(t[n-1]=ue.bitArray.partial(e,t[n-1]&2147483648>>e-1,1)),t},partial:function(t,e,n){return 32===t?e:(n?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(ue.bitArray.bitLength(t)!==ue.bitArray.bitLength(e))return!1;var n,i=0;for(n=0;n<t.length;n++)i|=t[n]^e[n];return 0===i},_shiftRight:function(t,e,n,i){var r,o,s=0;for(void 0===i&&(i=[]);e>=32;e-=32)i.push(n),n=0;if(0===e)return i.concat(t);for(r=0;r<t.length;r++)i.push(n|t[r]>>>e),n=t[r]<<32-e;return s=t.length?t[t.length-1]:0,o=ue.bitArray.getPartial(s),i.push(ue.bitArray.partial(e+o&31,e+o>32?n:i.pop(),1)),i},_xor4:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]}},ue.codec.hex={fromBits:function(t){var e,n="";for(e=0;e<t.length;e++)n+=((0|t[e])+0xf00000000000).toString(16).substr(4);return n.substr(0,ue.bitArray.bitLength(t)/4)},toBits:function(t){var e,n,i=[];for(t=t.replace(/\s|0x/g,""),n=t.length,t+="00000000",e=0;e<t.length;e+=8)i.push(0^parseInt(t.substr(e,8),16));return ue.bitArray.clamp(i,4*n)}},ue.codec.utf8String={fromBits:function(t){var e,n,i="",r=ue.bitArray.bitLength(t);for(e=0;r/8>e;e++)0===(3&e)&&(n=t[e/4]),i+=String.fromCharCode(n>>>24),n<<=8;return decodeURIComponent(escape(i))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,n=[],i=0;for(e=0;e<t.length;e++)i=i<<8|t.charCodeAt(e),3===(3&e)&&(n.push(i),i=0);return 3&e&&n.push(ue.bitArray.partial(8*(3&e),i)),n}},ue.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e,n){var i,r="",o=0,s=ue.codec.base64._chars,a=0,l=ue.bitArray.bitLength(t);for(n&&(s=s.substr(0,62)+"-_"),i=0;6*r.length<l;)r+=s.charAt((a^t[i]>>>o)>>>26),6>o?(a=t[i]<<6-o,o+=26,i++):(a<<=6,o-=6);for(;3&r.length&&!e;)r+="=";return r},toBits:function(t,e){t=t.replace(/\s|=/g,"");var n,i,r=[],o=0,s=ue.codec.base64._chars,a=0;for(e&&(s=s.substr(0,62)+"-_"),n=0;n<t.length;n++){if(i=s.indexOf(t.charAt(n)),0>i)throw new ue.exception.invalid("this isn't base64!");o>26?(o-=26,r.push(a^i>>>o),a=i<<32-o):(o+=6,a^=i<<32-o)}return 56&o&&r.push(ue.bitArray.partial(56&o,a,1)),r}},ue.codec.base64url={fromBits:function(t){return ue.codec.base64.fromBits(t,1,1)},toBits:function(t){return ue.codec.base64.toBits(t,1)}},void 0===ue.beware&&(ue.beware={}),ue.beware["CBC mode is dangerous because it doesn't protect message integrity."]=function(){ue.mode.cbc={name:"cbc",encrypt:function(t,e,n,i){if(i&&i.length)throw new ue.exception.invalid("cbc can't authenticate data");if(128!==ue.bitArray.bitLength(n))throw new ue.exception.invalid("cbc iv must be 128 bits");var r,o=ue.bitArray,s=o._xor4,a=o.bitLength(e),l=0,c=[];if(7&a)throw new ue.exception.invalid("pkcs#5 padding only works for multiples of a byte");for(r=0;a>=l+128;r+=4,l+=128)n=t.encrypt(s(n,e.slice(r,r+4))),c.splice(r,0,n[0],n[1],n[2],n[3]);return a=16843009*(16-(a>>3&15)),n=t.encrypt(s(n,o.concat(e,[a,a,a,a]).slice(r,r+4))),c.splice(r,0,n[0],n[1],n[2],n[3]),c},decrypt:function(t,e,n,i){if(i&&i.length)throw new ue.exception.invalid("cbc can't authenticate data");if(128!==ue.bitArray.bitLength(n))throw new ue.exception.invalid("cbc iv must be 128 bits");if(127&ue.bitArray.bitLength(e)||!e.length)throw new ue.exception.corrupt("cbc ciphertext must be a positive multiple of the block size");var r,o,s,a=ue.bitArray,l=a._xor4,c=[];for(i=i||[],r=0;r<e.length;r+=4)o=e.slice(r,r+4),s=l(n,t.decrypt(o)),c.splice(r,0,s[0],s[1],s[2],s[3]),n=o;if(o=255&c[r-1],0==o||o>16)throw new ue.exception.corrupt("pkcs#5 padding corrupt");if(s=16843009*o,!a.equal(a.bitSlice([s,s,s,s],0,8*o),a.bitSlice(c,32*c.length-8*o,32*c.length)))throw new ue.exception.corrupt("pkcs#5 padding corrupt");return a.bitSlice(c,0,32*c.length-8*o)}}},ue.misc.hmac=function(t,e){this._hash=e=e||ue.hash.sha256;var n,i=[[],[]],r=e.prototype.blockSize/32;for(this._baseHash=[new e,new e],t.length>r&&(t=e.hash(t)),n=0;r>n;n++)i[0][n]=909522486^t[n],i[1][n]=1549556828^t[n];this._baseHash[0].update(i[0]),this._baseHash[1].update(i[1])},ue.misc.hmac.prototype.encrypt=ue.misc.hmac.prototype.mac=function(t,e){var n=new this._hash(this._baseHash[0]).update(t,e).finalize();return new this._hash(this._baseHash[1]).update(n).finalize()},ue.hash.sha256=function(t){this._key[0]||this._precompute(),t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},ue.hash.sha256.hash=function(t){return(new ue.hash.sha256).update(t).finalize()},ue.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"==typeof t&&(t=ue.codec.utf8String.toBits(t));var e,n=this._buffer=ue.bitArray.concat(this._buffer,t),i=this._length,r=this._length=i+ue.bitArray.bitLength(t);for(e=512+i&-512;r>=e;e+=512)this._block(n.splice(0,16));return this},finalize:function(){var t,e=this._buffer,n=this._h;for(e=ue.bitArray.concat(e,[ue.bitArray.partial(1,1)]),t=e.length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this._length/4294967296)),e.push(0|this._length);e.length;)this._block(e.splice(0,16));return this.reset(),n},_init:[],_key:[],_precompute:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}var e,n=0,i=2;t:for(;64>n;i++){for(e=2;i>=e*e;e++)if(i%e===0)continue t;8>n&&(this._init[n]=t(Math.pow(i,.5))),this._key[n]=t(Math.pow(i,1/3)),n++}},_block:function(t){var e,n,i,r,o=t.slice(0),s=this._h,a=this._key,l=s[0],c=s[1],u=s[2],h=s[3],d=s[4],p=s[5],f=s[6],m=s[7];for(e=0;64>e;e++)16>e?n=o[e]:(i=o[e+1&15],r=o[e+14&15],n=o[15&e]=(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+o[15&e]+o[e+9&15]|0),n=n+m+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(p^f))+a[e],m=f,f=p,p=d,d=h+n|0,h=u,u=c,c=l,l=n+(c&u^h&(c^u))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;s[0]=s[0]+l|0,s[1]=s[1]+c|0,s[2]=s[2]+u|0,s[3]=s[3]+h|0,s[4]=s[4]+d|0,s[5]=s[5]+p|0,s[6]=s[6]+f|0,s[7]=s[7]+m|0}},ue.random={randomWords:function(t,e){var n,i,r=[],o=this.isReady(e);if(o===this._NOT_READY)throw new ue.exception.notReady("generator isn't seeded");for(o&this._REQUIRES_RESEED&&this._reseedFromPools(!(o&this._READY)),n=0;t>n;n+=4)(n+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),i=this._gen4words(),r.push(i[0],i[1],i[2],i[3]);return this._gate(),r.slice(0,t)},setDefaultParanoia:function(t){this._defaultParanoia=t},addEntropy:function(t,e,n){n=n||"user";var i,r,o,s=(new Date).valueOf(),a=this._robins[n],l=this.isReady(),c=0;switch(i=this._collectorIds[n],void 0===i&&(i=this._collectorIds[n]=this._collectorIdNext++),void 0===a&&(a=this._robins[n]=0),this._robins[n]=(this._robins[n]+1)%this._pools.length,typeof t){case"number":void 0===e&&(e=1),this._pools[a].update([i,this._eventId++,1,e,s,1,0|t]);break;case"object":var u=Object.prototype.toString.call(t);if("[object Uint32Array]"===u){for(o=[],r=0;r<t.length;r++)o.push(t[r]);t=o}else for("[object Array]"!==u&&(c=1),r=0;r<t.length&&!c;r++)"number"!=typeof t[r]&&(c=1);if(!c){if(void 0===e)for(e=0,r=0;r<t.length;r++)for(o=t[r];o>0;)e++,o>>>=1;this._pools[a].update([i,this._eventId++,2,e,s,t.length].concat(t))}break;case"string":void 0===e&&(e=t.length),this._pools[a].update([i,this._eventId++,3,e,s,t.length]),this._pools[a].update(t);break;default:c=1}if(c)throw new ue.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[a]+=e,this._poolStrength+=e,l===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(t){var e=this._PARANOIA_LEVELS[void 0!==t?t:this._defaultParanoia];return this._strength&&this._strength>=e?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=e?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(t){var e=this._PARANOIA_LEVELS[t?t:this._defaultParanoia];return this._strength>=e?1:this._poolStrength>e?1:this._poolStrength/e},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else{if(!document.attachEvent)throw new ue.exception.bug("can't attach event");document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(t,e){this._callbacks[t][this._callbackI++]=e},removeEventListener:function(t,e){var n,i,r=this._callbacks[t],o=[];for(i in r)r.hasOwnProperty(i)&&r[i]===e&&o.push(i);for(n=0;n<o.length;n++)i=o[n],delete r[i]},_pools:[new ue.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var t=0;4>t&&(this._counter[t]=this._counter[t]+1|0,!this._counter[t]);t++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new ue.cipher.aes(this._key)},_reseed:function(t){this._key=ue.hash.sha256.hash(this._key.concat(t)),this._cipher=new ue.cipher.aes(this._key);for(var e=0;4>e&&(this._counter[e]=this._counter[e]+1|0,!this._counter[e]);e++);},_reseedFromPools:function(t){var e,n=[],i=0;for(this._nextReseed=n[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,e=0;16>e;e++)n.push(4294967296*Math.random()|0);for(e=0;e<this._pools.length&&(n=n.concat(this._pools[e].finalize()),i+=this._poolEntropy[e],this._poolEntropy[e]=0,t||!(this._reseedCount&1<<e));e++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new ue.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=i,i>this._strength&&(this._strength=i),this._reseedCount++,this._reseed(n)},_mouseCollector:function(t){var e=t.x||t.clientX||t.offsetX||0,n=t.y||t.clientY||t.offsetY||0;ue.random.addEntropy([e,n],2,"mouse")},_loadTimeCollector:function(){ue.random.addEntropy((new Date).valueOf(),2,"loadtime")},_fireEvent:function(t,e){var n,i=ue.random._callbacks[t],r=[];for(n in i)i.hasOwnProperty(n)&&r.push(i[n]);for(n=0;n<r.length;n++)r[n](e)}},function(){try{var t=new Uint32Array(32);crypto.getRandomValues(t),ue.random.addEntropy(t,1024,"crypto.getRandomValues")}catch(e){}}(),function(){for(var t in ue.beware)ue.beware.hasOwnProperty(t)&&ue.beware[t]()}();var he={sjcl:ue,version:"1.3.10"};he.generateAesKey=function(){return{key:ue.random.randomWords(8,0),encrypt:function(t){return this.encryptWithIv(t,ue.random.randomWords(4,0))},encryptWithIv:function(t,e){var n=new ue.cipher.aes(this.key),i=ue.codec.utf8String.toBits(t),r=ue.mode.cbc.encrypt(n,i,e),o=ue.bitArray.concat(e,r);return ue.codec.base64.fromBits(o)}}},he.create=function(t){return new he.EncryptionClient(t)},he.EncryptionClient=function(t){var i=this,o=[];i.publicKey=t,i.version=he.version;var s=function(t,e){var n,i,r;n=document.createElement(t);for(i in e)e.hasOwnProperty(i)&&(r=e[i],n.setAttribute(i,r));return n},a=function(t){return window.jQuery&&t instanceof jQuery?t[0]:t.nodeType&&1===t.nodeType?t:document.getElementById(t)},l=function(t){var e,n,i,r,o=[];if("INTEGER"===t.typeName()&&(e=t.posContent(),n=t.posEnd(),i=t.stream.hexDump(e,n).replace(/[ \n]/g,""),o.push(i)),null!==t.sub)for(r=0;r<t.sub.length;r++)o=o.concat(l(t.sub[r]));return o},c=function(t){var e,n,i=[],r=t.children;for(n=0;n<r.length;n++)e=r[n],1===e.nodeType&&e.attributes["data-encrypted-name"]?i.push(e):e.children&&e.children.length>0&&(i=i.concat(c(e)));return i},u=function(){var n,i,o,s,a,c;try{a=r(t),n=e.decode(a)}catch(u){throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'"}if(o=l(n),2!==o.length)throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'";return s=o[0],i=o[1],c=new K,c.setPublic(s,i),c},h=function(){return{key:ue.random.randomWords(8,0),sign:function(t){var e=new ue.misc.hmac(this.key,ue.hash.sha256),n=e.encrypt(t);return ue.codec.base64.fromBits(n)}}};i.encrypt=function(t){var e=u(),r=he.generateAesKey(),o=h(),s=r.encrypt(t),a=o.sign(ue.codec.base64.toBits(s)),l=ue.bitArray.concat(r.key,o.key),c=ue.codec.base64.fromBits(l),d=e.encrypt(c),p="$bt4|javascript_"+i.version.replace(/\./g,"_")+"$",f=null;return d&&(f=n(d)),p+f+"$"+s+"$"+a},i.encryptForm=function(t){var e,n,r,l,u,h;for(t=a(t),h=c(t);o.length>0;){try{t.removeChild(o[0])}catch(d){}o.splice(0,1)}for(u=0;u<h.length;u++)e=h[u],r=e.getAttribute("data-encrypted-name"),n=i.encrypt(e.value),e.removeAttribute("name"),l=s("input",{value:n,type:"hidden",name:r}),o.push(l),t.appendChild(l)},i.onSubmitEncryptForm=function(t,e){var n;t=a(t),n=function(n){return i.encryptForm(t),e?e(n):n},window.jQuery?window.jQuery(t).submit(n):t.addEventListener?t.addEventListener("submit",n,!1):t.attachEvent&&t.attachEvent("onsubmit",n)},i.formEncrypter={encryptForm:i.encryptForm,extractForm:a,onSubmitEncryptForm:i.onSubmitEncryptForm},ue.random.startCollectors()},window.Braintree=he}(),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.braintree=t()}}(function(){var define,module,exports;return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){"use strict";
t("./src/rpc-dispatcher")(),e.exports=t("./src/setup.js")},{"./src/rpc-dispatcher":303,"./src/setup.js":304}],2:[function(t,e){(function(n){"use strict";function i(t,e){return t.status>=400?[t,null]:[null,e(t)]}function r(t){var e;this.attrs={},t.hasOwnProperty("sharedCustomerIdentifier")&&(this.attrs.sharedCustomerIdentifier=t.sharedCustomerIdentifier),e=c(t.clientToken),this.driver=t.driver||u,this.authUrl=e.authUrl,this.analyticsUrl=e.analytics?e.analytics.url:void 0,this.clientApiUrl=e.clientApiUrl,this.customerId=t.customerId,this.challenges=e.challenges,this.integration=t.integration||"";var n=l.create(this,{container:t.container,clientToken:e});this.verify3DS=a.bind(n.verify,n),this.attrs.authorizationFingerprint=e.authorizationFingerprint,this.attrs.sharedCustomerIdentifierType=t.sharedCustomerIdentifierType,e.merchantAccountId&&(this.attrs.merchantAccountId=e.merchantAccountId),this.timeoutWatchers=[],this.requestTimeout=t.hasOwnProperty("timeout")?t.timeout:6e4}function o(){}function s(t,e){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}var a=t("braintree-utilities"),l=t("braintree-3ds"),c=t("./parse-client-token"),u=t("./jsonp-driver"),h=t("./util"),d=t("./sepa-mandate"),p=t("./sepa-bank-account"),f=t("./credit-card"),m=t("./coinbase-account"),g=t("./root-data"),v=t("./normalize-api-fields").normalizeCreditCardFields;r.prototype.requestWithTimeout=function(t,e,n,r,s){s=s||o;var a,l,c=this;g.get(function(o){l="braintree/web/"+o.sdkVersion,e.braintreeLibraryVersion=l,e.hasOwnProperty("analytics")&&e.hasOwnProperty("_meta")&&(e._meta.sdkVersion=l,e._meta.merchantAppId=o.merchantAppId),a=r(t,e,function(t,e){if(c.timeoutWatchers[e]){clearTimeout(c.timeoutWatchers[e]);var r=i(t,function(t){return n(t)});s.apply(null,r)}}),c.requestTimeout>0?this.timeoutWatchers[a]=setTimeout(function(){c.timeoutWatchers[a]=null,s.apply(null,[{errors:"Unknown error"},null])},c.requestTimeout):s.apply(null,[{errors:"Unknown error"},null])},this)},r.prototype.post=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.post,i)},r.prototype.get=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.get,i)},r.prototype.put=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.put,i)},r.prototype.getCreditCards=function(t){this.get(h.joinUrlFragments([this.clientApiUrl,"v1","payment_methods"]),this.attrs,function(t){var e=0,n=t.paymentMethods.length,i=[];for(e;n>e;e++)i.push(new f(t.paymentMethods[e]));return i},t)},r.prototype.tokenizeCoinbase=function(t,e){t.options={validate:!1},this.addCoinbase(t,function(t,n){t?e(t,null):n&&n.nonce?e(t,n):e("Unable to tokenize coinbase account.",null)})},r.prototype.tokenizeCard=function(t,e){t.options={validate:!1},this.addCreditCard(t,function(t,n){n&&n.nonce?e(t,n.nonce,{type:n.type,details:n.details}):e("Unable to tokenize card.",null)})},r.prototype.lookup3DS=function(t,e){var n=h.joinUrlFragments([this.clientApiUrl,"v1/payment_methods",t.nonce,"three_d_secure/lookup"]),i=s(this.attrs,{amount:t.amount});this.post(n,i,function(t){return t},e)},r.prototype.addSEPAMandate=function(t,e){var n=s(this.attrs,{sepaMandate:t});this.post(h.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),n,function(t){return new d(t.sepaMandates[0])},e)},r.prototype.acceptSEPAMandate=function(t,e){this.put(h.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",t,"accept"]),this.attrs,function(t){return new p(t.sepaBankAccounts[0])},e)},r.prototype.getSEPAMandate=function(t,e){var n;n=t.paymentMethodToken?s(this.attrs,{paymentMethodToken:t.paymentMethodToken}):this.attrs,this.get(h.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",t.mandateReferenceNumber||""]),n,function(t){return new d(t.sepaMandates[0])},e)},r.prototype.addCoinbase=function(t,e){var n;delete t.share,n=s(this.attrs,{coinbaseAccount:t,_meta:{integration:this.integration||"custom",source:"coinbase"}}),this.post(h.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),n,function(t){return new m(t.coinbaseAccounts[0])},e)},r.prototype.addCreditCard=function(t,e){var n,i=t.share;delete t.share;var r=v(t);n=s(this.attrs,{share:i,creditCard:r,_meta:{integration:this.integration||"custom",source:"form"}}),this.post(h.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/credit_cards"]),n,function(t){return new f(t.creditCards[0])},e)},r.prototype.unlockCreditCard=function(t,e,n){var i=s(this.attrs,{challengeResponses:e});this.put(h.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/",t.nonce]),i,function(t){return new f(t.paymentMethods[0])},n)},r.prototype.sendAnalyticsEvents=function(t,e){var i,r=this.analyticsUrl,o=[];if(t=h.isArray(t)?t:[t],!r)return void(e&&e.apply(null,[null,{}]));for(var a in t)t.hasOwnProperty(a)&&o.push({kind:t[a]});i=s(this.attrs,{analytics:o,_meta:{platform:"web",platformVersion:n.navigator.userAgent,integrationType:this.integration}}),this.post(r,i,function(t){return t},e)},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coinbase-account":3,"./credit-card":4,"./jsonp-driver":5,"./normalize-api-fields":7,"./parse-client-token":8,"./root-data":10,"./sepa-bank-account":11,"./sepa-mandate":12,"./util":13,"braintree-3ds":22,"braintree-utilities":41}],3:[function(t,e){"use strict";function n(t){for(var e=0;e<i.length;e++){var n=i[e];this[n]=t[n]}}var i=["nonce","type","description","details"];e.exports=n},{}],4:[function(t,e){"use strict";function n(t){for(var e=0;e<i.length;e++){var n=i[e];this[n]=t[n]}}var i=["billingAddress","branding","createdAt","createdAtMerchant","createdAtMerchantName","details","isLocked","lastUsedAt","lastUsedAtMerchant","lastUsedAtMerchantName","lastUsedByCurrentMerchant","nonce","securityQuestions","type"];e.exports=n},{}],5:[function(t,e){"use strict";function n(t,e,n){return o.get(t,e,n)}function i(t,e,n){return e._method="POST",o.get(t,e,n)}function r(t,e,n){return e._method="PUT",o.get(t,e,n)}var o=t("./jsonp");e.exports={get:n,post:i,put:r}},{"./jsonp":6}],6:[function(t,e){(function(n){"use strict";function i(t,e){var n=document.createElement("script"),i=!1;n.src=t,n.async=!0;var r=e||u.error;"function"==typeof r&&(n.onerror=function(e){r({url:t,event:e})}),n.onload=n.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,n.onload=n.onreadystatechange=null,n&&n.parentNode&&n.parentNode.removeChild(n))},a||(a=document.getElementsByTagName("head")[0]),a.appendChild(n)}function r(t,e){var n,i,o,s=[];for(var o in t)t.hasOwnProperty(o)&&(i=t[o],n=e?l.isArray(t)?e+"[]":e+"["+o+"]":o,s.push("object"==typeof i?r(i,n):encodeURIComponent(n)+"="+encodeURIComponent(i)));return s.join("&")}function o(t,e,n,o){var s=-1===(t||"").indexOf("?")?"?":"&";o=o||u.callbackName||"callback";var a=o+"_json"+l.generateUUID();return s+=r(e),c[a]=function(t){n(t,a);try{delete c[a]}catch(e){}c[a]=null},i(t+s+"&"+o+"="+a),a}function s(t){u=t}var a,l=t("./util"),c=n,u={};e.exports={get:o,init:s,stringify:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":13}],7:[function(t,e){"use strict";function n(t){var e={billingAddress:t.billingAddress||{}};for(var n in t)if(t.hasOwnProperty(n))switch(n.replace(/_/,"").toLowerCase()){case"postalcode":case"countryname":case"countrycodenumeric":case"countrycodealpha2":case"countrycodealpha3":case"region":case"extendedaddress":case"locality":case"firstname":case"lastname":case"company":case"streetaddress":e.billingAddress[n]=t[n];break;default:e[n]=t[n]}return e}e.exports={normalizeCreditCardFields:n}},{}],8:[function(t,e){"use strict";function n(t){var e;if(!t)throw new Error("Braintree API Client Misconfigured: clientToken required.");if("object"==typeof t&&null!==t)e=t;else{try{t=window.atob(t)}catch(n){}try{e=JSON.parse(t)}catch(i){throw new Error("Braintree API Client Misconfigured: clientToken is invalid.")}}if(!e.hasOwnProperty("authUrl")||!e.hasOwnProperty("clientApiUrl"))throw new Error("Braintree API Client Misconfigured: clientToken is invalid.");return e}t("./polyfill"),e.exports=n},{"./polyfill":9}],9:[function(){(function(t){"use strict";t.atob=t.atob||function(t){var e=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(!e.test(t))throw new Error("Braintree API Client Misconfigured: clientToken is invalid.");var r=0;do{var o=n.indexOf(t.charAt(r++)),s=n.indexOf(t.charAt(r++)),a=n.indexOf(t.charAt(r++)),l=n.indexOf(t.charAt(r++)),c=(63&o)<<2|s>>4&3,u=(15&s)<<4|a>>2&15,h=(3&a)<<6|63&l;i+=String.fromCharCode(c)+(u?String.fromCharCode(u):"")+(h?String.fromCharCode(h):"")}while(r<t.length);return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,e){(function(n){"use strict";function i(){var t=n.braintree;return t&&t.hasOwnProperty("VERSION")?t.VERSION:void 0}function r(t,e){null==s?(d.push({callback:t,context:e}),h===!1&&(a=setTimeout(function(){o(p)},200),u.invoke("getExternalData",[],o),h=!0)):t.call(e,s)}function o(t){clearTimeout(a),s={sdkVersion:t.sdkVersion,merchantAppId:t.merchantAppId};for(var e=0;e<d.length;e++){var n=d[e];n.callback.call(n.context,s)}d=[]}var s,a,l=t("braintree-rpc"),c=new l.MessageBus(window),u=new l.RPCClient(c,window.parent),h=!1,d=[],p={sdkVersion:i(),merchantAppId:n.location.href};e.exports={get:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"braintree-rpc":30}],11:[function(t,e){"use strict";function n(t){for(var e=0;e<i.length;e++){var n=i[e];this[n]=t[n]}}var i=["bic","maskedIBAN","nonce","accountHolderName"];e.exports=n},{}],12:[function(t,e){"use strict";function n(t){for(var e=0;e<i.length;e++){var n=i[e];this[n]=t[n]}}var i=["accountHolderName","bic","longFormURL","mandateReferenceNumber","maskedIBAN","shortForm"];e.exports=n},{}],13:[function(t,e){"use strict";function n(t){var e,n,i=[];for(n=0;n<t.length;n++)e=t[n],"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),"/"===e.charAt(0)&&(e=e.substring(1)),i.push(e);return i.join("/")}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&"[object Array]"===Object.prototype.toString.call(t)||!1}function r(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.floor(16*Math.random()),n="x"===t?e:3&e|8;return n.toString(16)})}e.exports={joinUrlFragments:n,isArray:i,generateUUID:r}},{}],14:[function(t,e){"use strict";function n(t){return new i(t)}var i=t("./lib/client"),r=t("./lib/jsonp"),o=t("./lib/jsonp-driver"),s=t("./lib/util"),a=t("./lib/parse-client-token");e.exports={Client:i,configure:n,util:s,JSONP:r,JSONPDriver:o,parseClientToken:a}},{"./lib/client":2,"./lib/jsonp":6,"./lib/jsonp-driver":5,"./lib/parse-client-token":8,"./lib/util":13}],15:[function(t,e){"use strict";function n(t,e){if(e=e||"["+t+"] is not a valid DOM Element",t&&t.nodeType&&1===t.nodeType)return t;if(t&&window.jQuery&&(t instanceof jQuery||"jquery"in Object(t))&&0!==t.length)return t[0];if("string"==typeof t&&document.getElementById(t))return document.getElementById(t);throw new Error(e)}e.exports={normalizeElement:n}},{}],16:[function(t,e){"use strict";function n(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n)}e.exports={addEventListener:n,removeEventListener:i}},{}],17:[function(t,e){"use strict";function n(t){return"[object Function]"===r.call(t)}function i(t,e){return function(){t.apply(e,arguments)}}var r=Object.prototype.toString;e.exports={bind:i,isFunction:n}},{}],18:[function(t,e){"use strict";function n(){return"https:"===window.location.protocol}function i(t){switch(t){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(t)}}function r(t,e){var n,o,s=[];for(o in t)if(t.hasOwnProperty(o)){var a=t[o];n=e?e+"["+o+"]":o,"object"==typeof a?s.push(r(a,n)):void 0!==a&&null!==a&&s.push(i(n)+"="+i(a))}return s.join("&")}function o(t){for(var e={},n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("="),o=r[0],s=decodeURIComponent(r[1]);e[o]=s}return e}function s(t){var e=t.split("?");return 2!==e.length?{}:o(e[1])}e.exports={isBrowserHttps:n,makeQueryString:r,decodeQueryString:o,getParams:s}},{}],19:[function(t,e){var n=t("./lib/dom"),i=t("./lib/url"),r=t("./lib/fn"),o=t("./lib/events");e.exports={normalizeElement:n.normalizeElement,isBrowserHttps:i.isBrowserHttps,makeQueryString:i.makeQueryString,decodeQueryString:i.decodeQueryString,getParams:i.getParams,removeEventListener:o.removeEventListener,addEventListener:o.addEventListener,bind:r.bind,isFunction:r.isFunction}},{"./lib/dom":15,"./lib/events":16,"./lib/fn":17,"./lib/url":18}],20:[function(t,e){"use strict";function n(t,e){var n=window.getComputedStyle?getComputedStyle(t):t.currentStyle;return n[e]}function i(){return{html:{height:o.style.height||"",overflow:n(o,"overflow"),position:n(o,"position")},body:{height:s.style.height||"",overflow:n(s,"overflow")}}}function r(t,e){this.assetsUrl=t,this.container=e||document.body,this.iframe=null,o=document.documentElement,s=document.body,this.merchantPageDefaultStyles=i()}var o,s,a=t("braintree-utilities"),l=t("../shared/receiver"),c="1.1.0";r.prototype.get=function(t,e){var n=this,i=this.constructAuthorizationURL(t);this.container&&a.isFunction(this.container)?this.container(i+"&no_style=1"):this.insertIframe(i),new l(function(t){a.isFunction(n.container)||n.removeIframe(),e(t)})},r.prototype.removeIframe=function(){this.container&&this.container.nodeType&&1===this.container.nodeType?this.container.removeChild(this.iframe):this.container&&window.jQuery&&this.container instanceof jQuery?$(this.iframe,this.container).remove():"string"==typeof this.container&&document.getElementById(this.container).removeChild(this.iframe),this.unlockMerchantWindowSize()},r.prototype.insertIframe=function(t){var e=document.createElement("iframe");if(e.src=t,this.applyStyles(e),this.lockMerchantWindowSize(),this.container&&this.container.nodeType&&1===this.container.nodeType)this.container.appendChild(e);else if(this.container&&window.jQuery&&this.container instanceof jQuery&&0!==this.container.length)this.container.append(e);else{if("string"!=typeof this.container||!document.getElementById(this.container))throw new Error("Unable to find valid container for iframe.");document.getElementById(this.container).appendChild(e)}this.iframe=e},r.prototype.applyStyles=function(t){t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.setAttribute("frameborder","0"),t.setAttribute("allowTransparency","true"),t.style.border="0",t.style.zIndex="99999"},r.prototype.lockMerchantWindowSize=function(){o.style.overflow="hidden",s.style.overflow="hidden",s.style.height="100%"},r.prototype.unlockMerchantWindowSize=function(){var t=this.merchantPageDefaultStyles;s.style.height=t.body.height,s.style.overflow=t.body.overflow,o.style.overflow=t.html.overflow},r.prototype.constructAuthorizationURL=function(t){var e,n=window.location.href;return n.indexOf("#")>-1&&(n=n.split("#")[0]),e=a.makeQueryString({acsUrl:t.acsUrl,pareq:t.pareq,termUrl:t.termUrl+"&three_d_secure_version="+c,md:t.md,parentUrl:n}),this.assetsUrl+"/3ds/"+c+"/html/style_frame?"+e},e.exports=r},{"../shared/receiver":24,"braintree-utilities":19}],21:[function(t,e){"use strict";function n(t,e){e=e||{},this.clientToken=e.clientToken,this.container=e.container,this.api=t,this.nonce=null}var i=t("braintree-utilities"),r=t("./authorization_service");n.prototype.verify=function(t,e){if(!i.isFunction(e))throw this.api.sendAnalyticsEvents("3ds.web.no_callback"),new Error("No suitable callback argument was given");var n={nonce:"",amount:t.amount},r=t.creditCard;if("string"==typeof r)n.nonce=r,this.api.sendAnalyticsEvents("3ds.web.verify.nonce"),this.startVerification(n,e);else{var o=this,s=function(t,i){return t?e(t):(n.nonce=i,void o.startVerification(n,e))};this.api.sendAnalyticsEvents("3ds.web.verify.credit_card"),this.api.tokenizeCard(r,s)}},n.prototype.startVerification=function(t,e){this.api.lookup3DS(t,i.bind(this.handleLookupResponse(e),this))},n.prototype.handleLookupResponse=function(t){var e=this;return function(n,o){var s;n?t(n.error):o.lookup&&o.lookup.acsUrl&&o.lookup.acsUrl.length>0?(e.nonce=o.paymentMethod.nonce,s=new r(this.clientToken.assetsUrl,this.container),s.get(o.lookup,i.bind(this.handleAuthenticationResponse(t),this))):(e.nonce=o.paymentMethod.nonce,t(null,{nonce:e.nonce,verificationDetails:o.threeDSecureInfo}))}},n.prototype.handleAuthenticationResponse=function(t){return function(e){var n,r=i.decodeQueryString(e);r.user_closed||(n=JSON.parse(r.auth_response),n.success?t(null,{nonce:n.paymentMethod.nonce,verificationDetails:n.threeDSecureInfo}):n.threeDSecureInfo&&n.threeDSecureInfo.liabilityShiftPossible?t(null,{nonce:this.nonce,verificationDetails:n.threeDSecureInfo}):t(n.error))}},e.exports=n},{"./authorization_service":20,"braintree-utilities":19}],22:[function(t,e){"use strict";var n=t("./client");t("./vendor/json2"),e.exports={create:function(t,e){var i=new n(t,e);return i}}},{"./client":21,"./vendor/json2":23}],23:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,r,o,s,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)s[n]=str(n,l)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],24:[function(t,e){"use strict";function n(t){this.postMessageReceiver(t),this.hashChangeReceiver(t)}var i=t("braintree-utilities");n.prototype.postMessageReceiver=function(t){var e=this;this.wrappedCallback=function(n){t(n.data),e.stopListening()},i.addEventListener(window,"message",this.wrappedCallback)},n.prototype.hashChangeReceiver=function(t){var e,n=window.location.hash,i=this;this.poll=setInterval(function(){e=window.location.hash,e.length>0&&e!==n&&(i.stopListening(),e=e.substring(1,e.length),t(e),window.location.hash=n.length>0?n:"")},10)},n.prototype.stopListening=function(){clearTimeout(this.poll),i.removeEventListener(window,"message",this.wrappedCallback)},e.exports=n},{"braintree-utilities":19}],25:[function(t,e){"use strict";function n(t){this.host=t||window,this.handlers=[],i.addEventListener(this.host,"message",i.bind(this.receive,this))}var i=t("braintree-utilities");n.prototype.receive=function(t){var e,i,r,o;try{r=JSON.parse(t.data)}catch(s){return}for(o=r.type,i=new n.Message(this,t.source,r.data),e=0;e<this.handlers.length;e++)this.handlers[e].type===o&&this.handlers[e].handler(i)},n.prototype.send=function(t,e,n){t.postMessage(JSON.stringify({type:e,data:n}),"*")},n.prototype.register=function(t,e){this.handlers.push({type:t,handler:e})},n.prototype.unregister=function(t,e){for(var n=this.handlers.length-1;n>=0;n--)if(this.handlers[n].type===t&&this.handlers[n].handler===e)return this.handlers.splice(n,1)},n.Message=function(t,e,n){this.bus=t,this.source=e,this.content=n},n.Message.prototype.reply=function(t,e){this.bus.send(this.source,t,e)},e.exports=n},{"braintree-utilities":35}],26:[function(t,e){"use strict";function n(t,e){this.bus=t,this.target=e,this.handlers=[],this.bus.register("publish",i.bind(this._handleMessage,this))}var i=t("braintree-utilities");n.prototype._handleMessage=function(t){var e,n=t.content,i=this.handlers[n.channel];if("undefined"!=typeof i)for(e=0;e<i.length;e++)i[e](n.data)},n.prototype.publish=function(t,e){this.bus.send(this.target,"publish",{channel:t,data:e})},n.prototype.subscribe=function(t,e){this.handlers[t]=this.handlers[t]||[],this.handlers[t].push(e)},n.prototype.unsubscribe=function(t,e){var n,i=this.handlers[t];if("undefined"!=typeof i)for(n=0;n<i.length;n++)i[n]===e&&i.splice(n,1)},e.exports=n},{"braintree-utilities":35}],27:[function(t,e){"use strict";function n(t){this.bus=t,this.frames=[],this.handlers=[]}n.prototype.subscribe=function(t,e){this.handlers[t]=this.handlers[t]||[],this.handlers[t].push(e)},n.prototype.registerFrame=function(t){this.frames.push(t)},n.prototype.unregisterFrame=function(t){for(var e=0;e<this.frames.length;e++)this.frames[e]===t&&this.frames.splice(e,1)},n.prototype.publish=function(t,e){var n,i=this.handlers[t];if("undefined"!=typeof i)for(n=0;n<i.length;n++)i[n](e);for(n=0;n<this.frames.length;n++)this.bus.send(this.frames[n],"publish",{channel:t,data:e})},n.prototype.unsubscribe=function(t,e){var n,i=this.handlers[t];if("undefined"!=typeof i)for(n=0;n<i.length;n++)i[n]===e&&i.splice(n,1)},e.exports=n},{}],28:[function(t,e){"use strict";function n(t,e){this.bus=t,this.target=e||window.parent,this.counter=0,this.callbacks={},this.bus.register("rpc_response",i.bind(this._handleResponse,this))}var i=t("braintree-utilities");n.prototype._handleResponse=function(t){var e=t.content,n=this.callbacks[e.id];"function"==typeof n&&(n.apply(null,e.response),delete this.callbacks[e.id])},n.prototype.invoke=function(t,e,n){var i=this.counter++;this.callbacks[i]=n,this.bus.send(this.target,"rpc_request",{id:i,method:t,args:e})},e.exports=n},{"braintree-utilities":35}],29:[function(t,e){"use strict";function n(t){this.bus=t,this.methods={},this.bus.register("rpc_request",i.bind(this._handleRequest,this))}var i=t("braintree-utilities");n.prototype._handleRequest=function(t){var e,n=t.content,i=n.args||[],r=this.methods[n.method];"function"==typeof r&&(e=function(){t.reply("rpc_response",{id:n.id,response:Array.prototype.slice.call(arguments)})},i.push(e),r.apply(null,i))},n.prototype.define=function(t,e){this.methods[t]=e},e.exports=n},{"braintree-utilities":35}],30:[function(t,e){var n=t("./lib/message-bus"),i=t("./lib/pubsub-client"),r=t("./lib/pubsub-server"),o=t("./lib/rpc-client"),s=t("./lib/rpc-server");e.exports={MessageBus:n,PubsubClient:i,PubsubServer:r,RPCClient:o,RPCServer:s}},{"./lib/message-bus":25,"./lib/pubsub-client":26,"./lib/pubsub-server":27,"./lib/rpc-client":28,"./lib/rpc-server":29}],31:[function(t,e){"use strict";function n(t,e){if(e=e||"["+t+"] is not a valid DOM Element",t&&t.nodeType&&1===t.nodeType)return t;if(t&&window.jQuery&&t instanceof jQuery&&0!==t.length)return t[0];if("string"==typeof t&&document.getElementById(t))return document.getElementById(t);throw new Error(e)}e.exports={normalizeElement:n}},{}],32:[function(t,e){"use strict";function n(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}e.exports={removeEventListener:i,addEventListener:n}},{}],33:[function(t,e){"use strict";function n(t){return"[object Function]"===Object.prototype.toString.call(t)}function i(t,e){return function(){t.apply(e,arguments)}}e.exports={bind:i,isFunction:n}},{}],34:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],35:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":31,"./lib/events":32,"./lib/fn":33,"./lib/url":34,dup:19}],36:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],37:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],38:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],39:[function(t,e){"use strict";function n(t){var e,n,i,r,o=[{min:0,max:180,chars:7},{min:181,max:620,chars:14},{min:621,max:960,chars:22}];for(r=o.length,t=t||window.innerWidth,n=0;r>n;n++)i=o[n],t>=i.min&&t<=i.max&&(e=i.chars);return e||60}function i(t,e){var n,i;return-1===t.indexOf("@")?t:(t=t.split("@"),n=t[0],i=t[1],n.length>e&&(n=n.slice(0,e)+"..."),i.length>e&&(i="..."+i.slice(-e)),n+"@"+i)}e.exports={truncateEmail:i,getMaxCharLength:n}},{}],40:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],41:[function(t,e){var n=t("./lib/dom"),i=t("./lib/url"),r=t("./lib/fn"),o=t("./lib/events"),s=t("./lib/string");e.exports={string:s,normalizeElement:n.normalizeElement,isBrowserHttps:i.isBrowserHttps,makeQueryString:i.makeQueryString,decodeQueryString:i.decodeQueryString,getParams:i.getParams,removeEventListener:o.removeEventListener,addEventListener:o.addEventListener,bind:r.bind,isFunction:r.isFunction}},{"./lib/dom":36,"./lib/events":37,"./lib/fn":38,"./lib/string":39,"./lib/url":40}],42:[function(t,e){"use strict";var n=t("framebus");n.events=t("./lib/events"),e.exports=n},{"./lib/events":43,framebus:44}],43:[function(t,e){"use strict";for(var n=["PAYMENT_METHOD_REQUEST","PAYMENT_METHOD_RECEIVED","PAYMENT_METHOD_GENERATED","PAYMENT_METHOD_CANCELLED","PAYMENT_METHOD_ERROR","CONFIGURATION_REQUEST","ERROR","WARNING"],i={},r=0;r<n.length;r++){var o=n[r];i[o]=o}e.exports=i},{}],44:[function(t,e,n){"use strict";!function(t,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof n?e.exports=i():t.framebus=i()}(this,function(){function t(t,e,n){var r;return n=n||"*","string"!=typeof t?!1:"string"!=typeof n?!1:(r=i(t,e,n),c(d.top,r,n),!0)}function e(t,e,n){return n=n||"*",h(t,e,n)?!1:(p[n]=p[n]||{},p[n][t]=p[n][t]||[],p[n][t].push(e),!0)}function n(t,e,n){var i,r;if(n=n||"*",h(t,e,n))return!1;if(r=p[n]&&p[n][t],!r)return!1;for(i=0;i<r.length;i++)if(r[i]===e)return r.splice(i,1),!0;return!1}function i(t,e,n){var i={event:t};return"function"==typeof e?i.reply=u(e,n):i.data=e,JSON.stringify(i)}function r(t){var e;try{e=JSON.parse(t.data)}catch(n){return!1}return null==e.event?!1:(null!=e.reply&&(e.data=function(n){var r=i(e.reply,n,t.origin);t.source.postMessage(r,t.origin)}),e)}function o(t){d||(d=t,d.addEventListener?d.addEventListener("message",a,!1):d.attachEvent?d.attachEvent("onmessage",a):null===d.onmessage?d.onmessage=a:d=null)}function s(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})}function a(t){var e;"string"==typeof t.data&&(e=r(t),e&&(l("*",e.event,e.data,t.origin),l(t.origin,e.event,e.data,t.origin)))}function l(t,e,n,i){var r;if(p[t]&&p[t][e])for(r=0;r<p[t][e].length;r++)p[t][e][r](n,i)}function c(t,e,n){var i;for(t.postMessage(e,n),i=0;i<t.frames.length;i++)c(t.frames[i],e,n)}function u(t,i){function r(e,s){t(e,s),n(o,r,i)}var o=s();return e(o,r,i),o}function h(t,e,n){return"string"!=typeof t?!0:"function"!=typeof e?!0:"string"!=typeof n?!0:!1}var d,p={};return o(window),{publish:t,pub:t,trigger:t,emit:t,subscribe:e,sub:e,on:e,unsubscribe:n,unsub:n,off:n}})},{}],45:[function(t,e){"use strict";function n(t,e){l.emit(l.events.ERROR,{type:e,message:t})}function i(){var t=a.isIE();return t&&8===t.version}function r(t){if(null==t.apiClient)return n("settings.apiClient is required for coinbase",c),!1;if(!t.configuration.coinbaseEnabled)return n("Coinbase is not enabled for your merchant account",c),!1;var e=t.coinbase;return e&&(e.container||e.button)?e.container&&e.button?(n("options.coinbase.container and options.coinbase.button are mutually exclusive",c),!1):(i()&&n("Coinbase is not supported by your browser. Please consider upgrading","UNSUPPORTED_BROWSER"),!0):(n("Either options.coinbase.container or options.coinbase.button is required for coinbase integrations",c),!1)}function o(t){return r(t)?new s(t):void 0}var s=t("./lib/coinbase"),a=t("./lib/browser"),l=t("braintree-bus"),c="CONFIGURATION";e.exports={create:o}},{"./lib/browser":46,"./lib/coinbase":48,"braintree-bus":56}],46:[function(t,e){(function(t){"use strict";function n(){var t=null,e="";try{new ActiveXObject("")}catch(n){e=n.name}try{t=!!new ActiveXObject("htmlfile")}catch(n){t=!1}return t="ReferenceError"!==e&&t===!1?!1:!0,!t}function i(){var e={version:null};return/Trident/.test(t.navigator.userAgent)&&(e.version=11),/MSIE 10/.test(t.navigator.userAgent)&&(e.version=10),/MSIE 9/.test(t.navigator.userAgent)&&(e.version=9),/MSIE 8/.test(t.navigator.userAgent)&&(e.version=8),e}function r(){return/MSIE|Trident/.test(t.navigator.userAgent)?i():null}e.exports={isMetroBrowser:n,isIE:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(t,e){"use strict";function n(t,e,n){return t?(i.emit(i.events.ERROR,t.error),void n.sendAnalyticsEvents("coinbase.web.error")):(i.emit(i.events.PAYMENT_METHOD_GENERATED,e),void n.sendAnalyticsEvents("coinbase.web.success"))}var i=t("braintree-bus");e.exports={tokenize:n}},{"braintree-bus":56}],48:[function(t,e){(function(n){"use strict";function i(){}function r(t){return{clientId:t.configuration.coinbase.clientId,redirectUrl:t.configuration.coinbase.redirectUrl,scopes:t.configuration.coinbase.scopes||u.SCOPES,meta:{authorizations_merchant_account:t.configuration.coinbase.merchantAccount||""}}}function o(t){var e;this.buttonId=t.coinbase.button||u.BUTTON_ID,this.apiClient=t.apiClient,this.assetsUrl=t.configuration.assetsUrl,this._onOAuthSuccess=s.bind(this._onOAuthSuccess,this),this._handleButtonClick=s.bind(this._handleButtonClick,this),this.popupParams=r(t),this.redirectDoneInterval=null,e=document.body,n.braintreeCoinbaseRedirectCallback=this._onOAuthSuccess,t.coinbase.container?(e=s.normalizeElement(t.coinbase.container),this._insertFrame(e)):s.addEventListener(e,"click",this._handleButtonClick),this._sendAnalyticsEvents("coinbase.web.initialized")}var s=t("braintree-utilities"),a=t("./dom/composer"),l=t("./url-composer"),c=t("./callbacks"),u=t("./constants"),h=t("braintree-bus"),d=t("./detector");o.prototype._sendAnalyticsEvents=function(t){this.apiClient.sendAnalyticsEvents(t)},o.prototype._insertFrame=function(t){var e=a.createFrame({src:this.assetsUrl+"/coinbase/"+u.VERSION+"/coinbase-frame.html"});t.appendChild(e)},o.prototype._onOAuthSuccess=function(t){h.emit("coinbase:view:navigate","loading"),this._clearPollForRedirectDone(),this.apiClient.tokenizeCoinbase({code:t.code,query:l.getQueryString()},s.bind(function(t,e){c.tokenize.apply(null,[t,e,this.apiClient])
},this))},o.prototype._clearPollForRedirectDone=function(){this.redirectDoneInterval&&(clearInterval(this.redirectDoneInterval),this.redirectDoneInterval=null)},o.prototype._pollForRedirectDone=function(t){this.redirectDoneInterval=setInterval(s.bind(function(){var e;if(null==t||t.closed)return void this._clearPollForRedirectDone();try{e=s.decodeQueryString(t.location.search.replace(/^\?/,"")).code}catch(n){return}e&&(this._onOAuthSuccess({code:e}),t.close())},this),100)},o.prototype._openPopup=function(){var t;this._sendAnalyticsEvents("coinbase.web.start.popup"),t=a.createPopup(l.compose(this.popupParams)),n.popup=t,t.focus(),d.shouldPoll()&&(this._pollForRedirectDone(t),n.braintreeCoinbaseRedirectCallback=i)},o.prototype._handleButtonClick=function(t){for(var e=t.target||t.srcElement;;){if(null==e)return;if(e===t.currentTarget)return;if(e.id===this.buttonId)break;e=e.parentNode}t&&t.preventDefault?t.preventDefault():t.returnValue=!1,this._openPopup()},e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./callbacks":47,"./constants":49,"./detector":50,"./dom/composer":52,"./url-composer":55,"braintree-bus":56,"braintree-utilities":64}],49:[function(t,e){"use strict";e.exports={BASE_URL:"https://coinbase.com",ORIGIN_URL:"https://www.coinbase.com",FRAME_NAME:"braintree-coinbase-frame",POPUP_NAME:"coinbase",BUTTON_ID:"bt-coinbase-button",SCOPES:"send",VERSION:"0.0.2"}},{}],50:[function(t,e){"use strict";function n(){var t=r.isIE();return t&&t.version>9}function i(){return r.isIE()&&r.isMetroBrowser()}var r=t("./browser");e.exports={shouldPoll:n,shouldCloseFromParent:i}},{"./browser":46}],51:[function(t,e){"use strict";function n(t){var e=document.createElement("button");return t=t||{},e.id=t.id||"coinbase-button",e.style.backgroundColor=t.backgroundColor||"#EEE",e.style.color=t.color||"#4597C3",e.style.border=t.border||"0",e.style.borderRadius=t.borderRadius||"6px",e.style.padding=t.padding||"12px",e.innerHTML=t.innerHTML||"coinbase",e}e.exports={create:n}},{}],52:[function(t,e){"use strict";var n=t("./popup"),i=t("./button"),r=t("./frame");e.exports={createButton:i.create,createPopup:n.create,createFrame:r.create}},{"./button":51,"./frame":53,"./popup":54}],53:[function(t,e){"use strict";function n(t){var e=document.createElement("iframe");return e.src=t.src,e.id=i.FRAME_NAME,e.name=i.FRAME_NAME,e.allowTransparency=!0,e.height="70px",e.width="100%",e.frameBorder=0,e.style.padding=0,e.style.margin=0,e.style.border=0,e.style.outline="none",e}var i=t("../constants");e.exports={create:n}},{"../constants":49}],54:[function(t,e){(function(n){"use strict";function i(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push([n,t[n]].join("="));return e.join(",")}function r(){var t=850,e=600;return i({width:t,height:e,left:(screen.width-t)/2,top:(screen.height-e)/4})}function o(t){return n.open(t,s.POPUP_NAME,r())}var s=t("../constants");e.exports={create:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../constants":49}],55:[function(t,e){"use strict";function n(){return"version="+r.VERSION}function i(t){var e=r.BASE_URL+"/oauth/authorize?response_type=code",i=t.redirectUrl+"?"+n();if(e+="&redirect_uri="+encodeURIComponent(i),e+="&client_id="+t.clientId,t.scopes&&(e+="&scope="+encodeURIComponent(t.scopes)),t.meta)for(var o in t.meta)t.meta.hasOwnProperty(o)&&(e+="&meta["+encodeURIComponent(o)+"]="+encodeURIComponent(t.meta[o]));return e}var r=t("./constants");e.exports={compose:i,getQueryString:n}},{"./constants":49}],56:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{"./lib/events":57,dup:42,framebus:58}],57:[function(t,e,n){arguments[4][43][0].apply(n,arguments)},{dup:43}],58:[function(t,e,n){arguments[4][44][0].apply(n,arguments)},{dup:44}],59:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],60:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],61:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],62:[function(t,e,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],63:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],64:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{"./lib/dom":59,"./lib/events":60,"./lib/fn":61,"./lib/string":62,"./lib/url":63,dup:41}],65:[function(t,e){(function(n){"use strict";function i(t,e){return t.status>=400?[t,null]:[null,e(t)]}function r(t){var e;this.attrs={},t.hasOwnProperty("sharedCustomerIdentifier")&&(this.attrs.sharedCustomerIdentifier=t.sharedCustomerIdentifier),e=c(t.clientToken),this.driver=t.driver||u,this.authUrl=e.authUrl,this.analyticsUrl=e.analytics?e.analytics.url:void 0,this.clientApiUrl=e.clientApiUrl,this.customerId=t.customerId,this.challenges=e.challenges,this.integration=t.integration||"";var n=l.create(this,{container:t.container,clientToken:e});this.verify3DS=a.bind(n.verify,n),this.attrs.authorizationFingerprint=e.authorizationFingerprint,this.attrs.sharedCustomerIdentifierType=t.sharedCustomerIdentifierType,e.merchantAccountId&&(this.attrs.merchantAccountId=e.merchantAccountId),this.timeoutWatchers=[],this.requestTimeout=t.hasOwnProperty("timeout")?t.timeout:6e4}function o(){}function s(t,e){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}var a=t("braintree-utilities"),l=t("braintree-3ds"),c=t("./parse-client-token"),u=t("./jsonp-driver"),h=t("./util"),d=t("./sepa-mandate"),p=t("./sepa-bank-account"),f=t("./credit-card"),m=t("./coinbase-account"),g=t("./root-data"),v=t("./normalize-api-fields").normalizeCreditCardFields;r.prototype.requestWithTimeout=function(t,e,n,r,s){s=s||o;var a,l,c=this;g.get(function(o){l="braintree/web/"+o.sdkVersion,e.braintreeLibraryVersion=l,e.hasOwnProperty("analytics")&&e.hasOwnProperty("_meta")&&(e._meta.sdkVersion=l,e._meta.merchantAppId=o.merchantAppId),a=r(t,e,function(t,e){if(c.timeoutWatchers[e]){clearTimeout(c.timeoutWatchers[e]);var r=i(t,function(t){return n(t)});s.apply(null,r)}}),c.requestTimeout>0?this.timeoutWatchers[a]=setTimeout(function(){c.timeoutWatchers[a]=null,s.apply(null,[{errors:"Unknown error"},null])},c.requestTimeout):s.apply(null,[{errors:"Unknown error"},null])},this)},r.prototype.post=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.post,i)},r.prototype.get=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.get,i)},r.prototype.put=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.put,i)},r.prototype.getCreditCards=function(t){this.get(h.joinUrlFragments([this.clientApiUrl,"v1","payment_methods"]),this.attrs,function(t){var e=0,n=t.paymentMethods.length,i=[];for(e;n>e;e++)i.push(new f(t.paymentMethods[e]));return i},t)},r.prototype.tokenizeCoinbase=function(t,e){t.options={validate:!1},this.addCoinbase(t,function(t,n){t?e(t,null):n&&n.nonce?e(t,n):e("Unable to tokenize coinbase account.",null)})},r.prototype.tokenizeCard=function(t,e){t.options={validate:!1},this.addCreditCard(t,function(t,n){n&&n.nonce?e(t,n.nonce,{type:n.type}):e("Unable to tokenize card.",null)})},r.prototype.lookup3DS=function(t,e){var n=h.joinUrlFragments([this.clientApiUrl,"v1/payment_methods",t.nonce,"three_d_secure/lookup"]),i=s(this.attrs,{amount:t.amount});this.post(n,i,function(t){return t},e)},r.prototype.addSEPAMandate=function(t,e){var n=s(this.attrs,{sepaMandate:t});this.post(h.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),n,function(t){return new d(t.sepaMandates[0])},e)},r.prototype.acceptSEPAMandate=function(t,e){this.put(h.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",t,"accept"]),this.attrs,function(t){return new p(t.sepaBankAccounts[0])},e)},r.prototype.getSEPAMandate=function(t,e){var n;n=t.paymentMethodToken?s(this.attrs,{paymentMethodToken:t.paymentMethodToken}):this.attrs,this.get(h.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",t.mandateReferenceNumber||""]),n,function(t){return new d(t.sepaMandates[0])},e)},r.prototype.addCoinbase=function(t,e){var n;delete t.share,n=s(this.attrs,{coinbaseAccount:t,_meta:{integration:this.integration||"custom",source:"coinbase"}}),this.post(h.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),n,function(t){return new m(t.coinbaseAccounts[0])},e)},r.prototype.addCreditCard=function(t,e){var n,i=t.share;delete t.share;var r=v(t);n=s(this.attrs,{share:i,creditCard:r,_meta:{integration:this.integration||"custom",source:"form"}}),this.post(h.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/credit_cards"]),n,function(t){return new f(t.creditCards[0])},e)},r.prototype.unlockCreditCard=function(t,e,n){var i=s(this.attrs,{challengeResponses:e});this.put(h.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/",t.nonce]),i,function(t){return new f(t.paymentMethods[0])},n)},r.prototype.sendAnalyticsEvents=function(t,e){var i,r=this.analyticsUrl,o=[];if(t=h.isArray(t)?t:[t],!r)return void(e&&e.apply(null,[null,{}]));for(var a in t)t.hasOwnProperty(a)&&o.push({kind:t[a]});i=s(this.attrs,{analytics:o,_meta:{platform:"web",platformVersion:n.navigator.userAgent,integrationType:this.integration}}),this.post(r,i,function(t){return t},e)},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coinbase-account":66,"./credit-card":67,"./jsonp-driver":68,"./normalize-api-fields":70,"./parse-client-token":71,"./root-data":73,"./sepa-bank-account":74,"./sepa-mandate":75,"./util":76,"braintree-3ds":85,"braintree-utilities":104}],66:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],67:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],68:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"./jsonp":69,dup:5}],69:[function(t,e,n){arguments[4][6][0].apply(n,arguments)},{"./util":76,dup:6}],70:[function(t,e,n){arguments[4][7][0].apply(n,arguments)},{dup:7}],71:[function(t,e,n){arguments[4][8][0].apply(n,arguments)},{"./polyfill":72,dup:8}],72:[function(t,e,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],73:[function(t,e,n){arguments[4][10][0].apply(n,arguments)},{"braintree-rpc":93,dup:10}],74:[function(t,e,n){arguments[4][11][0].apply(n,arguments)},{dup:11}],75:[function(t,e,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],76:[function(t,e,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],77:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{"./lib/client":65,"./lib/jsonp":69,"./lib/jsonp-driver":68,"./lib/parse-client-token":71,"./lib/util":76,dup:14}],78:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],79:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],80:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],81:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],82:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":78,"./lib/events":79,"./lib/fn":80,"./lib/url":81,dup:19}],83:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{"../shared/receiver":87,"braintree-utilities":82,dup:20}],84:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{"./authorization_service":83,"braintree-utilities":82,dup:21}],85:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{"./client":84,"./vendor/json2":86,dup:22}],86:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],87:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"braintree-utilities":82,dup:24}],88:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":98,dup:25}],89:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":98,dup:26}],90:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],91:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":98,dup:28}],92:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":98,dup:29}],93:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":88,"./lib/pubsub-client":89,"./lib/pubsub-server":90,"./lib/rpc-client":91,"./lib/rpc-server":92,dup:30}],94:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],95:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],96:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],97:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],98:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":94,"./lib/events":95,"./lib/fn":96,"./lib/url":97,dup:19}],99:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],100:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],101:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],102:[function(t,e,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],103:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],104:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{"./lib/dom":99,"./lib/events":100,"./lib/fn":101,"./lib/string":102,"./lib/url":103,dup:41}],105:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{"./lib/events":106,dup:42,framebus:107}],106:[function(t,e,n){arguments[4][43][0].apply(n,arguments)},{dup:43}],107:[function(t,e,n){arguments[4][44][0].apply(n,arguments)},{dup:44}],108:[function(t,e,n){arguments[4][65][0].apply(n,arguments)},{"./coinbase-account":109,"./credit-card":110,"./jsonp-driver":111,"./normalize-api-fields":113,"./parse-client-token":114,"./root-data":116,"./sepa-bank-account":117,"./sepa-mandate":118,"./util":119,"braintree-3ds":128,"braintree-utilities":147,dup:65}],109:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],110:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],111:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"./jsonp":112,dup:5}],112:[function(t,e,n){arguments[4][6][0].apply(n,arguments)},{"./util":119,dup:6}],113:[function(t,e,n){arguments[4][7][0].apply(n,arguments)},{dup:7}],114:[function(t,e,n){arguments[4][8][0].apply(n,arguments)},{"./polyfill":115,dup:8}],115:[function(t,e,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],116:[function(t,e,n){arguments[4][10][0].apply(n,arguments)},{"braintree-rpc":136,dup:10}],117:[function(t,e,n){arguments[4][11][0].apply(n,arguments)},{dup:11}],118:[function(t,e,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],119:[function(t,e,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],120:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{"./lib/client":108,"./lib/jsonp":112,"./lib/jsonp-driver":111,"./lib/parse-client-token":114,"./lib/util":119,dup:14}],121:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],122:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],123:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],124:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],125:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":121,"./lib/events":122,"./lib/fn":123,"./lib/url":124,dup:19}],126:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{"../shared/receiver":130,"braintree-utilities":125,dup:20}],127:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{"./authorization_service":126,"braintree-utilities":125,dup:21}],128:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{"./client":127,"./vendor/json2":129,dup:22}],129:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],130:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"braintree-utilities":125,dup:24}],131:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":141,dup:25}],132:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":141,dup:26}],133:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],134:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":141,dup:28}],135:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":141,dup:29}],136:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":131,"./lib/pubsub-client":132,"./lib/pubsub-server":133,"./lib/rpc-client":134,"./lib/rpc-server":135,dup:30}],137:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],138:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],139:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],140:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],141:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":137,"./lib/events":138,"./lib/fn":139,"./lib/url":140,dup:19}],142:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],143:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],144:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],145:[function(t,e,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],146:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],147:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{"./lib/dom":142,"./lib/events":143,"./lib/fn":144,"./lib/string":145,"./lib/url":146,dup:41}],148:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":158,dup:25}],149:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":158,dup:26}],150:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],151:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":158,dup:28}],152:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":158,dup:29}],153:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":148,"./lib/pubsub-client":149,"./lib/pubsub-server":150,"./lib/rpc-client":151,"./lib/rpc-server":152,dup:30}],154:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],155:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],156:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],157:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],158:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":154,"./lib/events":155,"./lib/fn":156,"./lib/url":157,dup:19}],159:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],160:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],161:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],162:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],163:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":159,"./lib/events":160,"./lib/fn":161,"./lib/url":162,dup:19}],164:[function(t,e){function n(t){var e=window.getComputedStyle?getComputedStyle(t):t.currentStyle;return{overflow:e.overflow||"",height:t.style.height||""}}function i(){return{html:{node:document.documentElement,styles:n(document.documentElement)},body:{node:document.body,styles:n(document.body)}}}function r(t,e){if(!t)throw new Error('Parameter "clientToken" cannot be null');e=e||{},this._clientToken=o.parseClientToken(t),this._clientOptions=e,this.container=e.container,this.merchantPageDefaultStyles=null,this.paymentMethodNonceInputField=e.paymentMethodNonceInputField,this.frame=null,this.popup=null,this.insertFrameFunction=e.insertFrame,this.onSuccess=e.onSuccess,this.onCancelled=e.onCancelled,this.onUnsupported=e.onUnsupported,this.loggedInView=null,this.loggedOutView=null,this.insertUI=!0}{var o=t("braintree-api"),s=t("braintree-rpc"),a=t("braintree-utilities"),l=t("./logged-in-view"),c=t("./logged-out-view"),u=t("./overlay-view"),h=t("../shared/util/browser"),d=t("../shared/util/dom"),p=t("../shared/constants");t("../shared/util/util")}r.prototype.getViewerUrl=function(){var t=this._clientToken.paypal.assetsUrl;return t+"/pwpp/"+p.VERSION+"/html/braintree-frame.html"},r.prototype.getProxyUrl=function(){var t=this._clientToken.paypal.assetsUrl;return t+"/pwpp/"+p.VERSION+"/html/proxy-frame.html"},r.prototype.initialize=function(){return this._clientToken.paypalEnabled?this._isBrowserSecure()?this._isAriesCapable()&&!this._isAriesSupportedCurrency()?void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("This PayPal integration does not support this currency"))):(this._overrideClientTokenProperties(),h.isProxyFrameRequired()&&this._insertProxyFrame(),this._setupDomElements(),this._setupPaymentMethodNonceInputField(),this._setupViews(),void this._createRpcServer()):void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("unsupported protocol detected"))):void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("PayPal is not enabled")))},r.prototype._isAriesSupportedCurrency=function(){for(var t=this._clientOptions.currency,e=p.ARIES_SUPPORTED_CURRENCIES.length,n=!1,i=0;e>i;i++)t.toLowerCase()===p.ARIES_SUPPORTED_CURRENCIES[i].toLowerCase()&&(n=!0);return n},r.prototype._isBrowserSecure=function(){return a.isBrowserHttps()||h.isPopupSupported()||this._clientToken.paypal.allowHttp},r.prototype._overrideClientTokenProperties=function(){this._clientOptions.displayName&&(this._clientToken.paypal.displayName=this._clientOptions.displayName)},r.prototype._setupDomElements=function(){this.insertUI&&(this.container=a.normalizeElement(this.container))},r.prototype._setupPaymentMethodNonceInputField=function(){if(this.insertUI){var t=this.paymentMethodNonceInputField;a.isFunction(t)||(t=void 0!==t?a.normalizeElement(t):this._createPaymentMethodNonceInputField(),this.paymentMethodNonceInputField=t)}},r.prototype._setupViews=function(){var t=this._clientToken.paypal.assetsUrl;this.insertUI&&(this.loggedInView=new l({container:this.container,assetsUrl:t}),this.loggedOutView=new c({assetsUrl:t,container:this.container,isCheckout:this._isAriesCapable(),locale:this._clientOptions.locale,merchantId:"merchantId"}),a.addEventListener(this.loggedOutView.container,"click",a.bind(this._handleContainerClick,this)),a.addEventListener(this.loggedInView.logoutNode,"click",a.bind(this._handleLogout,this)))},r.prototype._createRpcServer=function(){var t=new s.MessageBus(window),e=new s.RPCServer(t,window);e.define("getClientToken",a.bind(this._handleGetClientToken,this)),e.define("getClientOptions",a.bind(this._handleGetClientOptions,this)),e.define("closePayPalModal",a.bind(this._handleCloseMessage,this)),e.define("receivePayPalData",a.bind(this._handleSuccessfulAuthentication,this))},r.prototype._createPaymentMethodNonceInputField=function(){var t=document.createElement("input");return t.name="payment_method_nonce",t.type="hidden",this.container.appendChild(t)},r.prototype._createFrame=function(){var t,e=document.createElement("iframe");return this._isAriesCapable()?(t=p.ARIES_FRAME_NAME,e.style.background="#FFFFFF"):t=p.FRAME_NAME,e.src=this.getViewerUrl(),e.id=t,e.name=t,e.allowTransparency=!0,e.height="100%",e.width="100%",e.frameBorder=0,e.style.position=h.isMobile()?"absolute":"fixed",e.style.top=0,e.style.left=0,e.style.bottom=0,e.style.zIndex=20001,e.style.padding=0,e.style.margin=0,e.style.border=0,e.style.outline="none",e},r.prototype._removeFrame=function(t){t=t||document.body,this.frame&&t.contains(this.frame)&&(t.removeChild(this.frame),this._unlockMerchantWindowSize())},r.prototype._insertFrame=function(){this.insertFrameFunction?this.insertFrameFunction(this.getViewerUrl()):(this.frame=this._createFrame(),document.body.appendChild(this.frame)),this._lockMerchantWindowSize()},r.prototype._handleContainerClick=function(t){function e(t){return t.className.match(/paypal-button(?!-widget)/)||"braintree-paypal-button"===t.id}var n=t.target||t.srcElement;(e(n)||e(n.parentNode))&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this._open())},r.prototype._setMerchantPageDefaultStyles=function(){this.merchantPageDefaultStyles=i()},r.prototype._open=function(){h.isPopupSupported()?this._openPopup():this._openModal()},r.prototype._close=function(){h.isPopupSupported()?this._closePopup():this._closeModal()},r.prototype._openModal=function(){this._removeFrame(),this._insertFrame()},r.prototype._isAriesCapable=function(){return!!this._clientOptions.singleUse&&!!this._clientOptions.amount&&!!this._clientOptions.currency},r.prototype._openPopup=function(){var t,e,n,i=[],r=window.outerWidth||document.documentElement.clientWidth,o=window.outerHeight||document.documentElement.clientHeight,s="undefined"==typeof window.screenY?window.screenTop:window.screenY,a="undefined"==typeof window.screenX?window.screenLeft:window.screenX;this._isAriesCapable()?(t=p.ARIES_POPUP_NAME,n=p.ARIES_POPUP_HEIGHT,e=p.ARIES_POPUP_WIDTH):(t=p.POPUP_NAME,n=p.POPUP_HEIGHT,e=p.POPUP_WIDTH);var l=(r-e)/2+a,c=(o-n)/2+s;return i.push("height="+n),i.push("width="+e),i.push("top="+c),i.push("left="+l),i.push(p.POPUP_OPTIONS),this.popup=window.open(this.getViewerUrl(),t,i.join(",")),h.isOverlaySupported()&&(this.overlayView=new u(this.popup,this._clientToken.paypal.assetsUrl),this.overlayView.render()),this.popup.focus(),this.popup},r.prototype._createProxyFrame=function(){var t=document.createElement("iframe");return t.src=this.getProxyUrl(),t.id=p.BRIDGE_FRAME_NAME,t.name=p.BRIDGE_FRAME_NAME,t.allowTransparency=!0,t.height=0,t.width=0,t.frameBorder=0,t.style.position="static",t.style.padding=0,t.style.margin=0,t.style.border=0,t.style.outline="none",t},r.prototype._insertProxyFrame=function(){this.proxyFrame=this._createProxyFrame(),document.body.appendChild(this.proxyFrame)},r.prototype._closeModal=function(){this._removeFrame()},r.prototype._closePopup=function(){this.popup&&(this.popup.close(),this.popup=null),this.overlayView&&h.isOverlaySupported()&&this.overlayView.remove()},r.prototype._clientTokenData=function(){return{analyticsUrl:this._clientToken.analytics?this._clientToken.analytics.url:void 0,authorizationFingerprint:this._clientToken.authorizationFingerprint,authUrl:this._clientToken.authUrl,clientApiUrl:this._clientToken.clientApiUrl,displayName:this._clientToken.paypal.displayName,paypalBaseUrl:this._clientToken.paypal.assetsUrl,paypalClientId:this._clientToken.paypal.clientId,paypalPrivacyUrl:this._clientToken.paypal.privacyUrl,paypalUserAgreementUrl:this._clientToken.paypal.userAgreementUrl,offline:this._clientOptions.offline||this._clientToken.paypal.environmentNoNetwork}},r.prototype._handleGetClientToken=function(t){t(this._clientTokenData())},r.prototype._clientOptionsData=function(){return{demo:this._clientOptions.demo||!1,locale:this._clientOptions.locale||"en_us",onetime:this._clientOptions.singleUse||!1,integration:this._clientOptions.integration||"paypal",enableShippingAddress:this._clientOptions.enableShippingAddress||!1,enableAries:this._isAriesCapable(),amount:this._clientOptions.amount||null,currency:this._clientOptions.currency||null,shippingAddressOverride:this._clientOptions.shippingAddressOverride||null}},r.prototype._handleGetClientOptions=function(t){t(this._clientOptionsData())},r.prototype._handleSuccessfulAuthentication=function(t){this._close(),t.type=p.NONCE_TYPE,a.isFunction(this.paymentMethodNonceInputField)?this.paymentMethodNonceInputField(t.nonce):(this._showLoggedInContent(t.details.email),this._setNonceInputValue(t.nonce)),a.isFunction(this.onSuccess)&&this.onSuccess(t)},r.prototype._lockMerchantWindowSize=function(){this._setMerchantPageDefaultStyles(),document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.height="100%",document.body.style.overflow="hidden"},r.prototype._unlockMerchantWindowSize=function(){this.merchantPageDefaultStyles&&(document.documentElement.style.height=this.merchantPageDefaultStyles.html.styles.height,document.documentElement.style.overflow=this.merchantPageDefaultStyles.html.styles.overflow,document.body.style.height=this.merchantPageDefaultStyles.body.styles.height,document.body.style.overflow=this.merchantPageDefaultStyles.body.styles.overflow)},r.prototype._handleCloseMessage=function(){this._removeFrame()},r.prototype._showLoggedInContent=function(t){this.loggedOutView.hide(),d.setTextContent(this.loggedInView.emailNode,t),this.loggedInView.show()},r.prototype._handleLogout=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,this.loggedInView.hide(),this.loggedOutView.show(),this._setNonceInputValue(""),a.isFunction(this.onCancelled)&&this.onCancelled()},r.prototype._setNonceInputValue=function(t){this.paymentMethodNonceInputField.value=t},e.exports=r},{"../shared/constants":169,"../shared/util/browser":175,"../shared/util/dom":176,"../shared/util/util":177,"./logged-in-view":166,"./logged-out-view":167,"./overlay-view":168,"braintree-api":120,"braintree-rpc":153,"braintree-utilities":163}],165:[function(t,e){"use strict";function n(t){return-1!==t.indexOf("_")&&5===t.length}function i(t){var e;for(var n in o)o.hasOwnProperty(n)&&(n===t?e=o[n]:o[n]===t&&(e=o[n]));return e}function r(t){var e;if(t=t?t.toLowerCase():"us",e=n(t)?t:i(t)){var r=e.split("_");return[r[0],r[1].toUpperCase()].join("_")}return"en_US"}var o=t("../shared/data/country-code-lookup");e.exports=r},{"../shared/data/country-code-lookup":170}],166:[function(t,e){function n(t){this.options=t,this.container=this.createViewContainer(),this.createPayPalName(),this.emailNode=this.createEmailNode(),this.logoutNode=this.createLogoutNode()}var i=t("../shared/constants");n.prototype.createViewContainer=function(){var t=document.createElement("div");t.id="braintree-paypal-loggedin";var e=["display: none","max-width: 500px","overflow: hidden","padding: 16px","background-image: url("+this.options.assetsUrl+"/pwpp/"+i.VERSION+"/images/paypal-small.png)","background-image: url("+this.options.assetsUrl+"/pwpp/"+i.VERSION+"/images/paypal-small.svg), none","background-position: 20px 50%","background-repeat: no-repeat","background-size: 13px 15px","border-top: 1px solid #d1d4d6","border-bottom: 1px solid #d1d4d6"].join(";");return t.style.cssText=e,this.options.container.appendChild(t),t},n.prototype.createPayPalName=function(){var t=document.createElement("span");t.id="bt-pp-name",t.innerHTML="PayPal";var e=["color: #283036","font-size: 13px","font-weight: 800",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 36px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return t.style.cssText=e,this.container.appendChild(t)},n.prototype.createEmailNode=function(){var t=document.createElement("span");t.id="bt-pp-email";var e=["color: #6e787f","font-size: 13px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 5px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return t.style.cssText=e,this.container.appendChild(t)},n.prototype.createLogoutNode=function(){var t=document.createElement("button");t.id="bt-pp-cancel",t.innerHTML="Cancel";var e=["color: #3d95ce","font-size: 11px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"line-height: 20px","margin: 0 0 0 25px","padding: 0","background-color: transparent","border: 0","cursor: pointer","text-decoration: underline","float: right","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return t.style.cssText=e,this.container.appendChild(t)},n.prototype.show=function(){this.container.style.display="block"},n.prototype.hide=function(){this.container.style.display="none"},e.exports=n},{"../shared/constants":169}],167:[function(t,e){function n(t){this.options=t,this.assetsUrl=this.options.assetsUrl,this.container=this.createViewContainer(),this.options.isCheckout?this.createCheckoutWithPayPalButton():this.createPayWithPayPalButton()}var i=(t("braintree-utilities"),t("../shared/constants")),r=t("./get-locale");n.prototype.createViewContainer=function(){var t=document.createElement("div");return t.id="braintree-paypal-loggedout",this.options.container.appendChild(t),t},n.prototype.createPayWithPayPalButton=function(){var t=document.createElement("a");t.id="braintree-paypal-button",t.href="#";var e=["display: block","width: 115px","height: 44px","overflow: hidden"].join(";");t.style.cssText=e;var n=new Image;n.src=this.assetsUrl+"/pwpp/"+i.VERSION+"/images/pay-with-paypal.png",n.setAttribute("alt","Pay with PayPal");var r=["max-width: 100%","display: block","width: 100%","height: 100%","outline: none","border: 0"].join(";");n.style.cssText=r,t.appendChild(n),this.container.appendChild(t)},n.prototype.createCheckoutWithPayPalButton=function(){var t=document.createElement("script");t.src="//www.paypalobjects.com/api/button.js",t.async=!0,t.setAttribute("data-merchant",this.options.merchantId),t.setAttribute("data-button","checkout"),t.setAttribute("data-type","button"),t.setAttribute("data-width","150"),t.setAttribute("data-height","44"),t.setAttribute("data-lc",r(this.options.locale)),this.container.appendChild(t)
},n.prototype.show=function(){this.container.style.display="block"},n.prototype.hide=function(){this.container.style.display="none"},e.exports=n},{"../shared/constants":169,"./get-locale":165,"braintree-utilities":163}],168:[function(t,e){function n(t,e){this.popup=t,this.assetsUrl=e,this.spriteSrc=this.assetsUrl+"/pwpp/"+r.VERSION+"/images/pp_overlay_sprite.png",this._create(),this._setupEvents(),this._pollForPopup()}var i=t("braintree-utilities"),r=t("../shared/constants");n.prototype.render=function(){document.body.contains(this.el)||document.body.appendChild(this.el)},n.prototype.remove=function(){document.body.contains(this.el)&&document.body.removeChild(this.el)},n.prototype._create=function(){this.el=document.createElement("div"),this.el.className="bt-overlay",this._setStyles(this.el,["z-index: 20001","position: fixed","top: 0","left: 0","height: 100%","width: 100%","text-align: center","background: #000","background: rgba(0,0,0,0.7)",'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=52)"']),this.el.appendChild(this._createCloseIcon()),this.el.appendChild(this._createMessage())},n.prototype._createCloseIcon=function(){return this.closeIcon=document.createElement("div"),this.closeIcon.className="bt-close-overlay",this._setStyles(this.closeIcon,["position: absolute","top: 10px","right: 10px","cursor: pointer","background: url("+this.spriteSrc+") no-repeat 0 -67px","height: 14px","width: 14px"]),this.closeIcon},n.prototype._createMessage=function(){var t=document.createElement("div");return this._setStyles(t,["position: relative","top: 50%","max-width: 350px",'font-family: "HelveticaNeue", "HelveticaNeue-Light", "Helvetica Neue Light", helvetica, arial, sans-serif',"font-size: 14px","line-height: 20px","margin: -70px auto 0"]),t.appendChild(this._createLogo()),t.appendChild(this._createExplanation()),t.appendChild(this._createFocusLink()),t},n.prototype._createExplanation=function(){var t=document.createElement("div");return this._setStyles(t,["color: #FFF","margin-bottom: 20px"]),t.innerHTML="Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",t},n.prototype._createLogo=function(){var t=document.createElement("div");return this._setStyles(t,["background: url("+this.spriteSrc+") no-repeat 0 0","width: 94px","height: 25px","margin: 0 auto 26px auto"]),t},n.prototype._createFocusLink=function(){return this.focusLink=document.createElement("a"),this._setStyles(this.focusLink,["color: #009be1","cursor: pointer"]),this.focusLink.innerHTML="Continue",this.focusLink},n.prototype._setStyles=function(t,e){var n=e.join(";");t.style.cssText=n},n.prototype._setupEvents=function(){i.addEventListener(this.closeIcon,"click",i.bind(this._handleClose,this)),i.addEventListener(this.focusLink,"click",i.bind(this._handleFocus,this))},n.prototype._handleClose=function(t){t.preventDefault(),this.remove(),this.popup.close()},n.prototype._handleFocus=function(t){t.preventDefault(),this.popup.focus()},n.prototype._pollForPopup=function(){var t=setInterval(i.bind(function(){this.popup&&this.popup.closed&&(clearInterval(t),this.remove())},this),100)},e.exports=n},{"../shared/constants":169,"braintree-utilities":163}],169:[function(t,e,n){var i="1.3.1";n.VERSION=i,n.POPUP_NAME="braintree_paypal_popup",n.ARIES_POPUP_NAME="PPFrameRedirect",n.FRAME_NAME="braintree-paypal-frame",n.ARIES_FRAME_NAME="PPFrameRedirect",n.POPUP_PATH="/pwpp/"+i+"/html/braintree-frame.html",n.POPUP_OPTIONS="resizable,scrollbars",n.POPUP_HEIGHT=470,n.POPUP_WIDTH=410,n.ARIES_POPUP_HEIGHT=535,n.ARIES_POPUP_WIDTH=450,n.BRIDGE_FRAME_NAME="bt-proxy-frame",n.ARIES_SUPPORTED_CURRENCIES=["USD","GBP","EUR","AUD","CAD"],n.NONCE_TYPE="PayPalAccount"},{}],170:[function(t,e){"use strict";e.exports={us:"en_us",gb:"en_uk",uk:"en_uk",de:"de_de",fr:"fr_fr",it:"it_it",es:"es_es",ca:"en_ca",au:"en_au",at:"de_de",be:"en_us",ch:"de_de",dk:"da_dk",nl:"nl_nl",no:"no_no",pl:"pl_pl",se:"sv_se",tr:"tr_tr",bg:"en_us",cy:"en_us",hr:"en_us",is:"en_us",kh:"en_us",mt:"en_us",my:"en_us",ru:"ru_ru"}},{}],171:[function(t,e){function n(){return c.matchUserAgent("Android")&&!i()}function i(){return c.matchUserAgent("Chrome")||c.matchUserAgent("CriOS")}function r(){return c.matchUserAgent("Firefox")}function o(){return c.matchUserAgent("Trident")||c.matchUserAgent("MSIE")}function s(){return c.matchUserAgent("Opera")||c.matchUserAgent("OPR")}function a(){return s()&&"[object OperaMini]"===u.call(window.operamini)}function l(){return c.matchUserAgent("Safari")&&!i()&&!n()}var c=t("./useragent"),u=Object.prototype.toString;e.exports={isAndroid:n,isChrome:i,isFirefox:r,isIE:o,isOpera:s,isOperaMini:a,isSafari:l}},{"./useragent":174}],172:[function(t,e){function n(){return!i()&&(s.isAndroid()||s.isIpod()||s.isIphone()||o.matchUserAgent("IEMobile"))}function i(){return s.isIpad()||s.isAndroid()&&!o.matchUserAgent("Mobile")}function r(){return!n()&&!i()}var o=t("./useragent"),s=t("./platform");e.exports={isMobile:n,isTablet:i,isDesktop:r}},{"./platform":173,"./useragent":174}],173:[function(t,e){function n(){return a.matchUserAgent("Android")}function i(){return a.matchUserAgent("iPad")}function r(){return a.matchUserAgent("iPod")}function o(){return a.matchUserAgent("iPhone")&&!r()}function s(){return i()||r()||o()}var a=t("./useragent");e.exports={isAndroid:n,isIpad:i,isIpod:r,isIphone:o,isIos:s}},{"./useragent":174}],174:[function(t,e,n){function i(){return o}function r(t){var e=n.getNativeUserAgent(),i=e.match(t);return i?!0:!1}var o=window.navigator.userAgent;n.getNativeUserAgent=i,n.matchUserAgent=r},{}],175:[function(t,e){function n(){return i()&&window.outerWidth<600}function i(){return f.test(p)}function r(){return!!window.postMessage}function o(){if(c.isOperaMini())return!1;if(u.isDesktop())return!0;if(u.isMobile()||u.isTablet()){if(c.isIE())return!1;if(h.isAndroid())return!0;if(h.isIos())return c.isSafari()&&d.matchUserAgent(/OS (?:8_1|8_0|8)(?!_\d)/i)||c.isChrome()?!1:!0}return!1}function s(){if(c.isIE()&&d.matchUserAgent(/MSIE 8\.0/))return!1;try{return window.self===window.top}catch(t){return!1}}function a(){return c.isIE()&&!l()}function l(){var t=null,e="";try{new ActiveXObject("")}catch(n){e=n.name}try{t=!!new ActiveXObject("htmlfile")}catch(n){t=!1}return t="ReferenceError"!==e&&t===!1?!1:!0,!t}var c=t("../useragent/browser"),u=t("../useragent/device"),h=t("../useragent/platform"),d=t("../useragent/useragent"),p=window.navigator.userAgent,f=/[Mm]obi|tablet|iOS|Android|IEMobile|Windows\sPhone/;e.exports={isMobile:n,isMobileDevice:i,detectedPostMessage:r,isPopupSupported:o,isOverlaySupported:s,isProxyFrameRequired:a}},{"../useragent/browser":171,"../useragent/device":172,"../useragent/platform":173,"../useragent/useragent":174}],176:[function(t,e){function n(t,e){var n="innerText";document&&document.body&&"textContent"in document.body&&(n="textContent"),t[n]=e}e.exports={setTextContent:n}},{}],177:[function(t,e){function n(){for(var t="",e=0;32>e;e++){var n=Math.floor(16*Math.random());t+=n.toString(16)}return t}function i(t){return/^(true|1)$/i.test(t)}function r(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}function o(t){var e=t.indexOf("?"),n={};if(e>=0&&(t=t.substr(e+1)),0!==t.length){for(var i=t.split("&"),r=0,o=i.length;o>r;r++){var s=i[r],a=s.indexOf("="),l=s.substr(0,a),c=s.substr(a+1),u=decodeURIComponent(c);u=u.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"false"===u&&(u=!1),(void 0===u||"true"===u)&&(u=!0),n[l]=u}return n}}function s(t){return t&&"[object Function]"===Object.prototype.toString.call(t)}var a="function"==typeof String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/,"")},l="function"==typeof window.btoa?function(t){return window.btoa(t)}:function(t){for(var e,n,i,r,o,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;u<t.length;)e=t.charCodeAt(u++),n=t.charCodeAt(u++),i=t.charCodeAt(u++),r=e>>2,o=(3&e)<<4|n>>4,s=(15&n)<<2|i>>6,a=63&i,isNaN(n)?s=a=64:isNaN(i)&&(a=64),c=c+l.charAt(r)+l.charAt(o)+l.charAt(s)+l.charAt(a);return c};e.exports={trim:a,btoa:l,generateUid:n,castToBoolean:i,htmlEscape:r,parseUrlParams:o,isFunction:s}},{}],178:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":188,dup:25}],179:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":188,dup:26}],180:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],181:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":188,dup:28}],182:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":188,dup:29}],183:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":178,"./lib/pubsub-client":179,"./lib/pubsub-server":180,"./lib/rpc-client":181,"./lib/rpc-server":182,dup:30}],184:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],185:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],186:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],187:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],188:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":184,"./lib/events":185,"./lib/fn":186,"./lib/url":187,dup:19}],189:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],190:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],191:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],192:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],193:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":189,"./lib/events":190,"./lib/fn":191,"./lib/url":192,dup:19}],194:[function(t,e){"use strict";function n(t){this.apiClient=t}var i=["getCreditCards","unlockCreditCard","sendAnalyticsEvents"];n.prototype.attach=function(t){function e(e){t.define(e,function(){n.apiClient[e].apply(n.apiClient,arguments)})}var n=this,r=0,o=i.length;for(r;o>r;r++)e(i[r])},e.exports=n},{}],195:[function(t,e){"use strict";function n(t,e){var n=window.getComputedStyle?getComputedStyle(t):t.currentStyle;return n[e]}function i(){return{html:{height:s.style.height||"",overflow:n(s,"overflow"),position:n(s,"position")},body:{height:a.style.height||"",overflow:n(a,"overflow")}}}function r(){var t=/Android|iPhone|iPod|iPad/i.test(window.navigator.userAgent);return t}function o(t){var e,n,i;this.encodedClientToken=t.clientToken,this.paypalOptions=t.paypal,this.container=null,this.merchantFormManager=null,this.root=t.root,this.configurationRequests=[],this.braintreeApiClient=l.configure({clientToken:t.clientToken,integration:"dropin"}),this.paymentMethodNonceReceivedCallback=t.paymentMethodNonceReceived,this.clientToken=l.parseClientToken(t.clientToken),this.bus=new u.MessageBus(this.root),this.rpcServer=new u.RPCServer(this.bus),this.apiProxyServer=new d(this.braintreeApiClient),this.apiProxyServer.attach(this.rpcServer),e=t.inlineFramePath||this.clientToken.assetsUrl+"/dropin/"+v+"/inline-frame.html",n=t.modalFramePath||this.clientToken.assetsUrl+"/dropin/"+v+"/modal-frame.html",s=document.documentElement,a=document.body,this.frames={inline:this._createFrame(e,"braintree-dropin-frame"),modal:this._createFrame(n,"braintree-dropin-modal-frame")},this.container=h.normalizeElement(t.container,"Unable to find valid container."),i=h.normalizeElement(t.form||this._findClosest(this.container,"form")),this.merchantFormManager=new p({form:i,frames:this.frames,onSubmit:this.paymentMethodNonceReceivedCallback,apiClient:this.braintreeApiClient}).initialize(),this.clientToken.paypalEnabled&&this.clientToken.paypal&&(h.isBrowserHttps()||this.clientToken.paypal.allowHttp)&&this._configurePayPal(),this.braintreeApiClient.sendAnalyticsEvents("dropin.web.initialized")}var s,a,l=t("braintree-api"),c=t("braintree-bus"),u=t("braintree-rpc"),h=t("braintree-utilities"),d=t("./api-proxy-server"),p=t("./merchant-form-manager"),f=t("./frame-container"),m=t("../shared/paypal-service"),g=t("braintree-paypal/src/shared/util/browser"),v="1.3.2";o.prototype.initialize=function(){var t=this;this._initializeModal(),this.container.appendChild(this.frames.inline.element),a.appendChild(this.frames.modal.element),this.rpcServer.define("receiveSharedCustomerIdentifier",function(e){t.braintreeApiClient.attrs.sharedCustomerIdentifier=e,t.braintreeApiClient.attrs.sharedCustomerIdentifierType="browser_session_cookie_store";for(var n=0;n<t.configurationRequests.length;n++)t.configurationRequests[n](t.encodedClientToken);t.configurationRequests=[]}),c.on(c.events.PAYMENT_METHOD_GENERATED,h.bind(this._handleAltPayData,this)),this.rpcServer.define("getConfiguration",function(e){e({clientToken:t.encodedClientToken,merchantHttps:h.isBrowserHttps()})}),this.rpcServer.define("getPayPalOptions",function(e){e(t.paypalOptions)}),this.rpcServer.define("selectPaymentMethod",function(e){t.frames.modal.rpcClient.invoke("selectPaymentMethod",[e]),t._showModal()}),this.rpcServer.define("sendAddedPaymentMethod",function(e){t.merchantFormManager.setNoncePayload(e),t.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[e])}),this.rpcServer.define("sendUsedPaymentMethod",function(e){t.frames.inline.rpcClient.invoke("selectPaymentMethod",[e])}),this.rpcServer.define("sendUnlockedNonce",function(e){t.merchantFormManager.setNoncePayload(e)}),this.rpcServer.define("clearNonce",function(){t.merchantFormManager.clearNoncePayload()}),this.rpcServer.define("closeDropInModal",function(){t._hideModal()}),this.rpcServer.define("setInlineFrameHeight",function(e){t.frames.inline.element.style.height=e+"px"}),this.bus.register("ready",function(e){e.source===t.frames.inline.element.contentWindow?t.frames.inline.rpcClient=new u.RPCClient(t.bus,e.source):e.source===t.frames.modal.element.contentWindow&&(t.frames.modal.rpcClient=new u.RPCClient(t.bus,e.source))})},o.prototype._createFrame=function(t,e){return new f(t,e)},o.prototype._initializeModal=function(){this.frames.modal.element.style.display="none",this.frames.modal.element.style.position=r()?"absolute":"fixed",this.frames.modal.element.style.top="0",this.frames.modal.element.style.left="0",this.frames.modal.element.style.height="100%",this.frames.modal.element.style.width="100%"},o.prototype._lockMerchantWindowSize=function(){setTimeout(function(){s.style.overflow="hidden",a.style.overflow="hidden",a.style.height="100%",r()&&(s.style.position="relative",s.style.height=window.innerHeight+"px")},160)},o.prototype._unlockMerchantWindowSize=function(){var t=this.merchantPageDefaultStyles;a.style.height=t.body.height,a.style.overflow=t.body.overflow,s.style.overflow=t.html.overflow,r()&&(s.style.height=t.html.height,s.style.position=t.html.position)},o.prototype._showModal=function(){var t=this,e=this.frames.modal.element;this.merchantPageDefaultStyles=i(),e.style.display="block",this.frames.modal.rpcClient.invoke("open",[],function(){setTimeout(function(){t._lockMerchantWindowSize(),e.contentWindow.focus()},200)})},o.prototype._hideModal=function(){this._unlockMerchantWindowSize(),this.frames.modal.element.style.display="none"},o.prototype._configurePayPal=function(){g.isPopupSupported()||(this.ppClient=new m({clientToken:this.clientToken,paypal:this.paypalOptions}),this.rpcServer.define("openPayPalModal",h.bind(this.ppClient._openModal,this.ppClient))),this.rpcServer.define("receivePayPalData",h.bind(this._handleAltPayData,this))},o.prototype._handleAltPayData=function(t){this.merchantFormManager.setNoncePayload(t),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[t]),this.frames.modal.rpcClient.invoke("modalViewClose")},o.prototype._findClosest=function(t,e){e=e.toUpperCase();do if(t.nodeName===e)return t;while(t=t.parentNode);throw"Unable to find a valid "+e},e.exports=o},{"../shared/paypal-service":199,"./api-proxy-server":194,"./frame-container":197,"./merchant-form-manager":198,"braintree-api":77,"braintree-bus":105,"braintree-paypal/src/shared/util/browser":175,"braintree-rpc":183,"braintree-utilities":193}],196:[function(t,e){"use strict";function n(t,e){e.clientToken=t;var n=new i(e);return n.initialize(),n}var i=t("./client"),r="1.3.2";e.exports={create:n,VERSION:r}},{"./client":195}],197:[function(t,e){"use strict";function n(t,e){this.element=document.createElement("iframe"),this.element.setAttribute("name",e),this.element.setAttribute("allowtransparency","true"),this.element.setAttribute("width","100%"),this.element.setAttribute("height","68"),this.element.setAttribute("style","-webkit-transition: height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000); -moz-transition: height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000); -ms-transition: height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000); -o-transition: height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000); transition: height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000);"),this.element.src=t,this.element.setAttribute("frameborder","0"),this.element.setAttribute("allowtransparency","true"),this.element.style.border="0",this.element.style.zIndex="9999"}e.exports=n},{}],198:[function(t,e){"use strict";function n(t){this.form=t.form,this.frames=t.frames,this.onSubmit=t.onSubmit,this.apiClient=t.apiClient}var i=t("braintree-utilities");n.prototype.initialize=function(){return this._isSubmitBased()&&this._setElements(),this._setEvents(),this},n.prototype.setNoncePayload=function(t){this.noncePayload=t},n.prototype.clearNoncePayload=function(){this.noncePayload=null},n.prototype._isSubmitBased=function(){return!this.onSubmit},n.prototype._isCallbackBased=function(){return!!this.onSubmit},n.prototype._setElements=function(){if(!this.form.payment_method_nonce){var t=document.createElement("input");t.type="hidden",t.name="payment_method_nonce",this.form.appendChild(t)}this.nonceField=this.form.payment_method_nonce},n.prototype._setEvents=function(){var t=this;i.addEventListener(this.form,"submit",function(){t._handleFormSubmit.apply(t,arguments)})},n.prototype._handleFormSubmit=function(t){this._shouldSubmit()||(t&&t.preventDefault?t.preventDefault():t.returnValue=!1,this.noncePayload&&this.noncePayload.nonce?this._handleNonceReply(t):this.frames.inline.rpcClient.invoke("requestNonce",[],i.bind(function(e){this.setNoncePayload(e),this._handleNonceReply(t)},this)))},n.prototype._shouldSubmit=function(){return this._isCallbackBased()?!1:this.nonceField.value.length>0},n.prototype._handleNonceReply=function(t){this._isCallbackBased()?this.apiClient.sendAnalyticsEvents("dropin.web.end.callback",i.bind(function(){var e=this.noncePayload;e.originalEvent=t,this.onSubmit(e),setTimeout(i.bind(function(){this.frames.inline.rpcClient.invoke("clearLoadingState")},this),200)},this)):this._triggerFormSubmission()},n.prototype._triggerFormSubmission=function(){this.nonceField.value=this.noncePayload.nonce,this.apiClient.sendAnalyticsEvents("dropin.web.end.auto-submit",i.bind(function(){"function"==typeof this.form.submit?this.form.submit():this.form.querySelector('[type="submit"]').click()},this))},e.exports=n},{"braintree-utilities":193}],199:[function(t,e){"use strict";function n(t){var e=t.clientToken,n=t.paypal||{},r=new i(e,{container:document.createElement("div"),displayName:n.displayName,locale:n.locale,singleUse:n.singleUse,amount:n.amount,currency:n.currency,onSuccess:n.onSuccess,enableShippingAddress:n.enableShippingAddress,shippingAddressOverride:n.shippingAddressOverride});return r.initialize(),r}var i=t("braintree-paypal/src/external/client");e.exports=n},{"braintree-paypal/src/external/client":164}],200:[function(t,e){"use strict";function n(t,e,n){this.client=t,this.htmlForm=e,this.paymentMethodNonceInput=n,this.setNonce({}),this.hijackForm()}var i=t("braintree-utilities");n.prototype.hijackForm=function(){this.onSubmitHandler=i.bind(this.handleSubmit,this),i.addEventListener(this.htmlForm,"submit",this.onSubmitHandler)},n.prototype.handleSubmit=function(t){var e=this;return t.preventDefault?t.preventDefault():t.returnValue=!1,this.hasExternalNonce()?(this.scrubAllAttributes(),void this.onNonceReceived(null,this.getNonce())):void this.client.tokenizeCard(this.extractValues(),function(t,n,i){t||e.setNonce({nonce:n,type:i.type,details:i.details}),e.onNonceReceived(t,e.getNonce())})},n.prototype.setNonce=function(t){this.nonce=t},n.prototype.getNonce=function(){return this.nonce},n.prototype.writeNonceToDOM=function(){this.paymentMethodNonceInput.value=this.getNonce().nonce},n.prototype.isBraintreeNode=function(t){return 1===t.nodeType&&t.attributes["data-braintree-name"]},n.prototype.hasExternalNonce=function(){var t=this.getNonce(),e=t&&null!=t.type&&"CreditCard"!==t.type,n=this.htmlForm.querySelector('[data-braintree-name="number"]').value.length<1;return n&&t&&t.nonce&&e},n.prototype.onExternalNonceReceived=function(t){this.clearCardNumberInput(),this.setNonce(t)},n.prototype.onExternalNonceCancelled=function(){this.setNonce(null)},n.prototype.onNonceReceived=function(t){var e=this.htmlForm;if(t)throw new Error("Unable to process payments at this time.");i.removeEventListener(e,"submit",this.onSubmitHandler),this.writeNonceToDOM();var n=e.querySelector('[type="submit"]');n.disabled=!1,n.click(),e.submit&&("function"==typeof e.submit||e.submit.call)?e.submit():n.click()},n.prototype.scrubAllAttributes=function(){this.extractValues()},n.prototype.extractValues=function(t,e){e=e||{},t=t||this.htmlForm;var n,i,r=t.children;for(i=0;i<r.length;i++)if(n=r[i],this.isBraintreeNode(n)){var o=n.getAttribute("data-braintree-name");"postal_code"===o?e.billingAddress={postalCode:n.value}:e[o]=n.value,this.scrubAttributes(n)}else n.children&&n.children.length>0&&this.extractValues(n,e);return e},n.prototype.scrubAttributes=function(t){try{t.attributes.removeNamedItem("name")}catch(e){}},n.prototype.clearCardNumberInput=function(){var t=this.htmlForm.querySelector('[data-braintree-name="number"]');t.value=""},e.exports=n},{"braintree-utilities":208}],201:[function(t,e){"use strict";e.exports=function(t){var e;if("object"==typeof t)return t;e="payment_method_nonce","string"==typeof t&&(e=t);var n=document.createElement("input");return n.name=e,n.type="hidden",n}},{}],202:[function(t,e){"use strict";e.exports=function(t){for(var e=t.getElementsByTagName("*"),n={},i=0;i<e.length;i++){var r=e[i].getAttribute("data-braintree-name");n[r]=!0}if(!n.number)throw new Error('Unable to find an input with data-braintree-name="number" in your form. Please add one.');if(n.expiration_date){if(n.expiration_month||n.expiration_year)throw new Error('You have inputs with data-braintree-name="expiration_date" AND data-braintree-name="expiration_(year|month)". Please use either "expiration_date" or "expiration_year" and "expiration_month".')}else{if(!n.expiration_month&&!n.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_date" in your form. Please add one.');if(!n.expiration_month)throw new Error('Unable to find an input with data-braintree-name="expiration_month" in your form. Please add one.');if(!n.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_year" in your form. Please add one.')}}},{}],203:[function(t,e){"use strict";function n(t,e){var n,s,a=document.getElementById(e.id);if(!a)throw new Error('Unable to find form with id: "'+e.id+'"');return r(a),n=o(e.paymentMethodNonceInputField),a.appendChild(n),s=new i(t,a,n)}var i=t("./lib/form"),r=t("./lib/validate-annotations"),o=t("./lib/get-nonce-input");e.exports={setup:n}},{"./lib/form":200,"./lib/get-nonce-input":201,"./lib/validate-annotations":202}],204:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],205:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],206:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],207:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],208:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":204,"./lib/events":205,"./lib/fn":206,"./lib/url":207,dup:19}],209:[function(t,e,n){arguments[4][65][0].apply(n,arguments)},{"./coinbase-account":210,"./credit-card":211,"./jsonp-driver":212,"./normalize-api-fields":214,"./parse-client-token":215,"./root-data":217,"./sepa-bank-account":218,"./sepa-mandate":219,"./util":220,"braintree-3ds":229,"braintree-utilities":248,dup:65}],210:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],211:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],212:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"./jsonp":213,dup:5}],213:[function(t,e,n){arguments[4][6][0].apply(n,arguments)},{"./util":220,dup:6}],214:[function(t,e,n){arguments[4][7][0].apply(n,arguments)},{dup:7}],215:[function(t,e,n){arguments[4][8][0].apply(n,arguments)},{"./polyfill":216,dup:8}],216:[function(t,e,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],217:[function(t,e,n){arguments[4][10][0].apply(n,arguments)},{"braintree-rpc":237,dup:10}],218:[function(t,e,n){arguments[4][11][0].apply(n,arguments)},{dup:11}],219:[function(t,e,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],220:[function(t,e,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],221:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{"./lib/client":209,"./lib/jsonp":213,"./lib/jsonp-driver":212,"./lib/parse-client-token":215,"./lib/util":220,dup:14}],222:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],223:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],224:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],225:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],226:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":222,"./lib/events":223,"./lib/fn":224,"./lib/url":225,dup:19}],227:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{"../shared/receiver":231,"braintree-utilities":226,dup:20}],228:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{"./authorization_service":227,"braintree-utilities":226,dup:21}],229:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{"./client":228,"./vendor/json2":230,dup:22}],230:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],231:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"braintree-utilities":226,dup:24}],232:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":242,dup:25}],233:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":242,dup:26}],234:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],235:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":242,dup:28}],236:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":242,dup:29}],237:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":232,"./lib/pubsub-client":233,"./lib/pubsub-server":234,"./lib/rpc-client":235,"./lib/rpc-server":236,dup:30}],238:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],239:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],240:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],241:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],242:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":238,"./lib/events":239,"./lib/fn":240,"./lib/url":241,dup:19}],243:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],244:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],245:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],246:[function(t,e,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],247:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],248:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{"./lib/dom":243,"./lib/events":244,"./lib/fn":245,"./lib/string":246,"./lib/url":247,dup:41}],249:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":259,dup:25}],250:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":259,dup:26}],251:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],252:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":259,dup:28}],253:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":259,dup:29}],254:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":249,"./lib/pubsub-client":250,"./lib/pubsub-server":251,"./lib/rpc-client":252,"./lib/rpc-server":253,dup:30}],255:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],256:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],257:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],258:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],259:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":255,"./lib/events":256,"./lib/fn":257,"./lib/url":258,dup:19}],260:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],261:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],262:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],263:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],264:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":260,"./lib/events":261,"./lib/fn":262,"./lib/url":263,dup:19}],265:[function(t,e,n){arguments[4][164][0].apply(n,arguments)},{"../shared/constants":271,"../shared/util/browser":277,"../shared/util/dom":278,"../shared/util/util":279,"./logged-in-view":268,"./logged-out-view":269,"./overlay-view":270,"braintree-api":221,"braintree-rpc":254,"braintree-utilities":264,dup:164}],266:[function(t,e){function n(t,e){if(!r.detectedPostMessage())return void("function"==typeof e.onUnsupported&&e.onUnsupported(new Error("unsupported browser detected")));var n=new i(t,e);return n.initialize(),n}var i=t("./client"),r=t("../shared/util/browser"),o="1.3.1";e.exports={create:n,_browser:r,VERSION:o}},{"../shared/util/browser":277,"./client":265}],267:[function(t,e,n){arguments[4][165][0].apply(n,arguments)},{"../shared/data/country-code-lookup":272,dup:165}],268:[function(t,e,n){arguments[4][166][0].apply(n,arguments)},{"../shared/constants":271,dup:166}],269:[function(t,e,n){arguments[4][167][0].apply(n,arguments)},{"../shared/constants":271,"./get-locale":267,"braintree-utilities":264,dup:167}],270:[function(t,e,n){arguments[4][168][0].apply(n,arguments)},{"../shared/constants":271,"braintree-utilities":264,dup:168}],271:[function(t,e,n){arguments[4][169][0].apply(n,arguments)},{dup:169}],272:[function(t,e,n){arguments[4][170][0].apply(n,arguments)},{dup:170}],273:[function(t,e,n){arguments[4][171][0].apply(n,arguments)},{"./useragent":276,dup:171}],274:[function(t,e,n){arguments[4][172][0].apply(n,arguments)},{"./platform":275,"./useragent":276,dup:172}],275:[function(t,e,n){arguments[4][173][0].apply(n,arguments)},{"./useragent":276,dup:173}],276:[function(t,e,n){arguments[4][174][0].apply(n,arguments)},{dup:174}],277:[function(t,e,n){arguments[4][175][0].apply(n,arguments)},{"../useragent/browser":273,"../useragent/device":274,"../useragent/platform":275,"../useragent/useragent":276,dup:175}],278:[function(t,e,n){arguments[4][176][0].apply(n,arguments)},{dup:176}],279:[function(t,e,n){arguments[4][177][0].apply(n,arguments)},{dup:177}],280:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":290,dup:25}],281:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":290,dup:26}],282:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],283:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":290,dup:28}],284:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":290,dup:29}],285:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":280,"./lib/pubsub-client":281,"./lib/pubsub-server":282,"./lib/rpc-client":283,"./lib/rpc-server":284,dup:30}],286:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],287:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],288:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],289:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],290:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":286,"./lib/events":287,"./lib/fn":288,"./lib/url":289,dup:19}],291:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],292:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],293:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],294:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],295:[function(t,e,n){arguments[4][19][0].apply(n,arguments)
},{"./lib/dom":291,"./lib/events":292,"./lib/fn":293,"./lib/url":294,dup:19}],296:[function(t,e){function n(t){var e={};if(t){for(var n in t)t.hasOwnProperty(n)&&(e[i(n)]=t[n]);return e}}function i(t){return t.replace(/([A-Z])/g,function(t){return"_"+t.toLowerCase()})}e.exports={convertToLegacyShippingAddress:n}},{}],297:[function(t,e){"use strict";e.exports={ROOT_SUCCESS_CALLBACK:"onPaymentMethodReceived",ROOT_ERROR_CALLBACK:"onError"}},{}],298:[function(t,e){"use strict";function n(t,e){return o.on(o.events.PAYMENT_METHOD_GENERATED,function(t){o.emit(o.events.PAYMENT_METHOD_RECEIVED,t)}),e.coinbase=e.coinbase||{},e.apiClient=new i.Client({clientToken:t,integration:"coinbase"}),r.create(e)}{var i=t("braintree-api"),r=t("braintree-coinbase"),o=t("braintree-bus");t("braintree-utilities")}e.exports={initialize:n}},{"braintree-api":14,"braintree-bus":42,"braintree-coinbase":45,"braintree-utilities":295}],299:[function(t,e){"use strict";function n(t,e){return function(n){return e in t&&l.isFunction(t[e][n])?t[e][n]:function(){}}}function i(t,e){var i,d=n(e,"paypal"),p=d("onSuccess"),f=d("onCancelled"),m=new r.Client({clientToken:t,integration:"custom"});return i=o.setup(m,e),l.isFunction(e[c.ROOT_SUCCESS_CALLBACK])&&(i.onNonceReceived=function(t,n){e[c.ROOT_SUCCESS_CALLBACK](n)}),e.paypal&&(e.paypal.paymentMethodNonceInputField||(e.paypal.paymentMethodNonceInputField=i.paymentMethodNonceInput),e.paypal.onSuccess=function(t){i.onExternalNonceReceived(t),p.apply(null,[t.nonce,t.details.email,h(t.details.shippingAddress)])},e.paypal.onCancelled=function(){i.onExternalNonceCancelled(),f()},s.create(t,e.paypal)),e.coinbase&&(e.apiClient=m,e.paypal&&delete e.paypal,u.on(u.events.PAYMENT_METHOD_GENERATED,function(t){i.onExternalNonceReceived(t),u.emit(u.events.PAYMENT_METHOD_RECEIVED,t)}),a.create(e)),i}var r=t("braintree-api"),o=t("braintree-form"),s=t("braintree-paypal"),a=t("braintree-coinbase"),l=t("braintree-utilities"),c=t("../constants"),u=t("braintree-bus"),h=t("../compatibility").convertToLegacyShippingAddress;e.exports={initialize:i}},{"../compatibility":296,"../constants":297,"braintree-api":14,"braintree-bus":42,"braintree-coinbase":45,"braintree-form":203,"braintree-paypal":266,"braintree-utilities":295}],300:[function(t,e){"use strict";function n(t){return s.isFunction(t.paymentMethodNonceReceived)?t.paymentMethodNonceReceived:null}function i(t){return s.isFunction(t[l.ROOT_SUCCESS_CALLBACK])}function r(t,e){var r=n(e),s=i(e);return(r||s)&&(e.paymentMethodNonceReceived=function(t){r&&r.apply(null,[t.originalEvent,t.nonce]),delete t.originalEvent,a.emit(a.events.PAYMENT_METHOD_RECEIVED,t)}),o.create(t,e)}var o=t("braintree-dropin"),s=t("braintree-utilities"),a=t("braintree-bus"),l=t("../constants");e.exports={initialize:r}},{"../constants":297,"braintree-bus":42,"braintree-dropin":196,"braintree-utilities":295}],301:[function(t,e){"use strict";e.exports={custom:t("./custom"),dropin:t("./dropin"),paypal:t("./paypal"),coinbase:t("./coinbase")}},{"./coinbase":298,"./custom":299,"./dropin":300,"./paypal":302}],302:[function(t,e){"use strict";function n(t){return"onSuccess"in t&&s.isFunction(t.onSuccess)?t.onSuccess:"paypal"in t&&s.isFunction(t.paypal.onSuccess)?t.paypal.onSuccess:null}function i(t){return s.isFunction(t[a.ROOT_SUCCESS_CALLBACK])}function r(t,e){var r=n(e),s=i(e);return(r||s)&&(e.onSuccess=function(t){r&&r.apply(null,[t.nonce,t.details.email,c(t.details.shippingAddress)]),l.emit(l.events.PAYMENT_METHOD_RECEIVED,t)}),o.create(t,e)}var o=t("braintree-paypal"),s=t("braintree-utilities"),a=t("../constants"),l=t("braintree-bus"),c=t("../compatibility").convertToLegacyShippingAddress;e.exports={initialize:r}},{"../compatibility":296,"../constants":297,"braintree-bus":42,"braintree-paypal":266,"braintree-utilities":295}],303:[function(t,e){(function(n){"use strict";var i="2.5.2",r=t("braintree-rpc"),o=new r.MessageBus(n),s=new r.RPCServer(o);e.exports=function(){s.define("getExternalData",function(t){t({sdkVersion:i,merchantAppId:n.location.href})})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"braintree-rpc":285}],304:[function(t,e){"use strict";function n(){}function i(t){if("CONFIGURATION"===t.type)throw new Error(t.message);try{console.error(t)}catch(e){console.log("ERROR: "+t.message)}}function r(t,e,n){if(!(e in h))throw new Error(e+" is an unsupported integration");return u.isFunction(n[p.ROOT_SUCCESS_CALLBACK])&&(f=n[p.ROOT_SUCCESS_CALLBACK]),u.isFunction(n[p.ROOT_ERROR_CALLBACK])&&(m=n[p.ROOT_ERROR_CALLBACK]),n.configuration=s.parseClientToken(t),d.on(d.events.ERROR,m),d.on(d.events.PAYMENT_METHOD_RECEIVED,f),d.on(d.events.CONFIGURATION_REQUEST,function(t){t(n)}),d.on(d.events.WARNING,function(t){try{console.warn(t)}catch(e){}}),h[e].initialize(t,n)}var o="2.5.2",s=t("braintree-api"),a=t("braintree-paypal"),l=t("braintree-dropin"),c=t("braintree-form"),u=t("braintree-utilities"),h=t("./integrations"),d=t("braintree-bus"),p=t("./constants"),f=n,m=i;e.exports={api:s,cse:Braintree,paypal:a,dropin:l,Form:c,setup:r,VERSION:o}},{"./constants":297,"./integrations":301,"braintree-api":14,"braintree-bus":42,"braintree-dropin":196,"braintree-form":203,"braintree-paypal":266,"braintree-utilities":295}]},{},[1])(1)}),/*!
 * Braintree Data
 * https://www.braintreepayments.com
 * Copyright (c) 2009-2014 Braintree, a division of PayPal, Inc.
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/MIT
 */
function(){"use strict";var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};"undefined"!=typeof module&&module.exports&&(module.exports=sjcl),sjcl.bitArray={bitSlice:function(t,e,n){return t=sjcl.bitArray._shiftRight(t.slice(e/32),32-(31&e)).slice(1),void 0===n?t:sjcl.bitArray.clamp(t,n-e)},extract:function(t,e,n){var i,r=Math.floor(-e-n&31);return i=-32&(e+n-1^e)?t[e/32|0]<<32-r^t[e/32+1|0]>>>r:t[e/32|0]>>>r,i&(1<<n)-1},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var n=t[t.length-1],i=sjcl.bitArray.getPartial(n);return 32===i?t.concat(e):sjcl.bitArray._shiftRight(e,i,0|n,t.slice(0,t.length-1))},bitLength:function(t){var e,n=t.length;return 0===n?0:(e=t[n-1],32*(n-1)+sjcl.bitArray.getPartial(e))},clamp:function(t,e){if(32*t.length<e)return t;t=t.slice(0,Math.ceil(e/32));var n=t.length;return e=31&e,n>0&&e&&(t[n-1]=sjcl.bitArray.partial(e,t[n-1]&2147483648>>e-1,1)),t},partial:function(t,e,n){return 32===t?e:(n?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(sjcl.bitArray.bitLength(t)!==sjcl.bitArray.bitLength(e))return!1;var n,i=0;for(n=0;n<t.length;n++)i|=t[n]^e[n];return 0===i},_shiftRight:function(t,e,n,i){var r,o,s=0;for(void 0===i&&(i=[]);e>=32;e-=32)i.push(n),n=0;if(0===e)return i.concat(t);for(r=0;r<t.length;r++)i.push(n|t[r]>>>e),n=t[r]<<32-e;return s=t.length?t[t.length-1]:0,o=sjcl.bitArray.getPartial(s),i.push(sjcl.bitArray.partial(e+o&31,e+o>32?n:i.pop(),1)),i},_xor4:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]}},sjcl.codec.hex={fromBits:function(t){var e,n="";for(e=0;e<t.length;e++)n+=((0|t[e])+0xf00000000000).toString(16).substr(4);return n.substr(0,sjcl.bitArray.bitLength(t)/4)},toBits:function(t){var e,n,i=[];for(t=t.replace(/\s|0x/g,""),n=t.length,t+="00000000",e=0;e<t.length;e+=8)i.push(0^parseInt(t.substr(e,8),16));return sjcl.bitArray.clamp(i,4*n)}},sjcl.hash.sha256=function(t){this._key[0]||this._precompute(),t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},sjcl.hash.sha256.hash=function(t){return(new sjcl.hash.sha256).update(t).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"==typeof t&&(t=sjcl.codec.utf8String.toBits(t));var e,n=this._buffer=sjcl.bitArray.concat(this._buffer,t),i=this._length,r=this._length=i+sjcl.bitArray.bitLength(t);for(e=512+i&-512;r>=e;e+=512)this._block(n.splice(0,16));return this},finalize:function(){var t,e=this._buffer,n=this._h;for(e=sjcl.bitArray.concat(e,[sjcl.bitArray.partial(1,1)]),t=e.length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this._length/4294967296)),e.push(0|this._length);e.length;)this._block(e.splice(0,16));return this.reset(),n},_init:[],_key:[],_precompute:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}var e,n=0,i=2;t:for(;64>n;i++){for(e=2;i>=e*e;e++)if(i%e===0)continue t;8>n&&(this._init[n]=t(Math.pow(i,.5))),this._key[n]=t(Math.pow(i,1/3)),n++}},_block:function(t){var e,n,i,r,o=t.slice(0),s=this._h,a=this._key,l=s[0],c=s[1],u=s[2],h=s[3],d=s[4],p=s[5],f=s[6],m=s[7];for(e=0;64>e;e++)16>e?n=o[e]:(i=o[e+1&15],r=o[e+14&15],n=o[15&e]=(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+o[15&e]+o[e+9&15]|0),n=n+m+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(p^f))+a[e],m=f,f=p,p=d,d=h+n|0,h=u,u=c,c=l,l=n+(c&u^h&(c^u))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;s[0]=s[0]+l|0,s[1]=s[1]+c|0,s[2]=s[2]+u|0,s[3]=s[3]+h|0,s[4]=s[4]+d|0,s[5]=s[5]+p|0,s[6]=s[6]+f|0,s[7]=s[7]+m|0}},sjcl.cipher.aes=function(t){this._tables[0][0][0]||this._precompute();var e,n,i,r,o,s=this._tables[0][4],a=this._tables[1],l=t.length,c=1;if(4!==l&&6!==l&&8!==l)throw new sjcl.exception.invalid("invalid aes key size");for(this._key=[r=t.slice(0),o=[]],e=l;4*l+28>e;e++)i=r[e-1],(e%l===0||8===l&&e%l===4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],e%l===0&&(i=i<<8^i>>>24^c<<24,c=c<<1^283*(c>>7))),r[e]=r[e-l]^i;for(n=0;e;n++,e--)i=r[3&n?e:e-4],o[n]=4>=e||4>n?i:a[0][s[i>>>24]]^a[1][s[i>>16&255]]^a[2][s[i>>8&255]]^a[3][s[255&i]]},sjcl.cipher.aes.prototype={encrypt:function(t){return this._crypt(t,0)},decrypt:function(t){return this._crypt(t,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var t,e,n,i,r,o,s,a,l,c=this._tables[0],u=this._tables[1],h=c[4],d=u[4],p=[],f=[];for(t=0;256>t;t++)f[(p[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!h[e];e^=i||1,n=f[n]||1)for(s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^255&s^99,h[e]=s,d[s]=e,o=p[r=p[i=p[e]]],l=16843009*o^65537*r^257*i^16843008*e,a=257*p[s]^16843008*s,t=0;4>t;t++)c[t][e]=a=a<<24^a>>>8,u[t][s]=l=l<<24^l>>>8;for(t=0;5>t;t++)c[t]=c[t].slice(0),u[t]=u[t].slice(0)},_crypt:function(t,e){if(4!==t.length)throw new sjcl.exception.invalid("invalid aes block size");var n,i,r,o,s=this._key[e],a=t[0]^s[0],l=t[e?3:1]^s[1],c=t[2]^s[2],u=t[e?1:3]^s[3],h=s.length/4-2,d=4,p=[0,0,0,0],f=this._tables[e],m=f[0],g=f[1],v=f[2],y=f[3],b=f[4];for(o=0;h>o;o++)n=m[a>>>24]^g[l>>16&255]^v[c>>8&255]^y[255&u]^s[d],i=m[l>>>24]^g[c>>16&255]^v[u>>8&255]^y[255&a]^s[d+1],r=m[c>>>24]^g[u>>16&255]^v[a>>8&255]^y[255&l]^s[d+2],u=m[u>>>24]^g[a>>16&255]^v[l>>8&255]^y[255&c]^s[d+3],d+=4,a=n,l=i,c=r;for(o=0;4>o;o++)p[e?3&-o:o]=b[a>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&u]^s[d++],n=a,a=l,l=c,c=u,u=n;return p}},sjcl.random={randomWords:function(t,e){var n,i,r=[],o=this.isReady(e);if(o===this._NOT_READY)throw new sjcl.exception.notReady("generator isn't seeded");for(o&this._REQUIRES_RESEED&&this._reseedFromPools(!(o&this._READY)),n=0;t>n;n+=4)(n+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),i=this._gen4words(),r.push(i[0],i[1],i[2],i[3]);return this._gate(),r.slice(0,t)},setDefaultParanoia:function(t){this._defaultParanoia=t},addEntropy:function(t,e,n){n=n||"user";var i,r,o,s=(new Date).valueOf(),a=this._robins[n],l=this.isReady(),c=0;switch(i=this._collectorIds[n],void 0===i&&(i=this._collectorIds[n]=this._collectorIdNext++),void 0===a&&(a=this._robins[n]=0),this._robins[n]=(this._robins[n]+1)%this._pools.length,typeof t){case"number":void 0===e&&(e=1),this._pools[a].update([i,this._eventId++,1,e,s,1,0|t]);break;case"object":var u=Object.prototype.toString.call(t);if("[object Uint32Array]"===u){for(o=[],r=0;r<t.length;r++)o.push(t[r]);t=o}else for("[object Array]"!==u&&(c=1),r=0;r<t.length&&!c;r++)"number"!=typeof t[r]&&(c=1);if(!c){if(void 0===e)for(e=0,r=0;r<t.length;r++)for(o=t[r];o>0;)e++,o>>>=1;this._pools[a].update([i,this._eventId++,2,e,s,t.length].concat(t))}break;case"string":void 0===e&&(e=t.length),this._pools[a].update([i,this._eventId++,3,e,s,t.length]),this._pools[a].update(t);break;default:c=1}if(c)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[a]+=e,this._poolStrength+=e,l===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(t){var e=this._PARANOIA_LEVELS[void 0!==t?t:this._defaultParanoia];return this._strength&&this._strength>=e?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=e?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(t){var e=this._PARANOIA_LEVELS[t?t:this._defaultParanoia];return this._strength>=e?1:this._poolStrength>e?1:this._poolStrength/e},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else{if(!document.attachEvent)throw new sjcl.exception.bug("can't attach event");document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(t,e){this._callbacks[t][this._callbackI++]=e},removeEventListener:function(t,e){var n,i,r=this._callbacks[t],o=[];for(i in r)r.hasOwnProperty(i)&&r[i]===e&&o.push(i);for(n=0;n<o.length;n++)i=o[n],delete r[i]},_pools:[new sjcl.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var t=0;4>t&&(this._counter[t]=this._counter[t]+1|0,!this._counter[t]);t++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new sjcl.cipher.aes(this._key)},_reseed:function(t){this._key=sjcl.hash.sha256.hash(this._key.concat(t)),this._cipher=new sjcl.cipher.aes(this._key);for(var e=0;4>e&&(this._counter[e]=this._counter[e]+1|0,!this._counter[e]);e++);},_reseedFromPools:function(t){var e,n=[],i=0;for(this._nextReseed=n[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,e=0;16>e;e++)n.push(4294967296*Math.random()|0);for(e=0;e<this._pools.length&&(n=n.concat(this._pools[e].finalize()),i+=this._poolEntropy[e],this._poolEntropy[e]=0,t||!(this._reseedCount&1<<e));e++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new sjcl.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=i,i>this._strength&&(this._strength=i),this._reseedCount++,this._reseed(n)},_mouseCollector:function(t){var e=t.x||t.clientX||t.offsetX||0,n=t.y||t.clientY||t.offsetY||0;sjcl.random.addEntropy([e,n],2,"mouse")},_loadTimeCollector:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")},_fireEvent:function(t,e){var n,i=sjcl.random._callbacks[t],r=[];for(n in i)i.hasOwnProperty(n)&&r.push(i[n]);for(n=0;n<r.length;n++)r[n](e)}},function(){try{var t=new Uint32Array(32);crypto.getRandomValues(t),sjcl.random.addEntropy(t,1024,"crypto.getRandomValues")}catch(e){}}(),"object"!=typeof JSON&&(JSON={}),function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,r,o,s,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)s[n]=str(n,l)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),sjcl.random.startCollectors();var BraintreeData={};BraintreeData.Environment=function(t,e,n){this.url=e,this.name=t,this.id=n,this.getId=function(){return this.hasOwnProperty("customId")?this.customId:this.id},this.withId=function(t){return this.customId=t,this}},BraintreeData.iframeId="braintreeDataFrame",BraintreeData.collectionStarted=!1,BraintreeData.environments={qa:new BraintreeData.Environment("qa","https://assets.qa.braintreegateway.com/data","600000"),sandbox:new BraintreeData.Environment("sandbox","https://assets.braintreegateway.com/sandbox/data","600000"),production:new BraintreeData.Environment("production","https://assets.braintreegateway.com/data","600000")},BraintreeData.setup=function(t,e,n){this._setupCollector(n),this._setupForm(e),BraintreeData.FraudNet.initialize()},BraintreeData._setupCollector=function(t){this.collectionStarted=!0,this._initializeEnvironment(t),this._setupIFrame()},BraintreeData._setupForm=function(t){var e=document.getElementById(t);this._addHiddenField(e,"device_data",this._getDeviceData())},BraintreeData._getDeviceData=function(){if(this.collectionStarted)return JSON.stringify({device_session_id:this._getDeviceSessionId(),fraud_merchant_id:this.currentEnvironment.getId(),correlation_id:BraintreeData.FraudNet.getSessionId()});throw"You must call setup or _setupCollector before _getDeviceData."},BraintreeData._addHiddenField=function(t,e,n){if(!this._formHasInput(t,e)){var i=document.createElement("input");i.type="hidden",i.name=e,i.id=e,i.value=n,t.appendChild(i)}},BraintreeData._getDeviceSessionId=function(){var t,e;return void 0==this.deviceSessionId&&(t=sjcl.random.randomWords(4,0),e=sjcl.codec.hex.fromBits(t),this.deviceSessionId=e),this.deviceSessionId},BraintreeData._setupIFrame=function(){var t,e,n=this;document.getElementById(BraintreeData.iframeId)||(t="?m="+this.currentEnvironment.getId()+"&s="+this._getDeviceSessionId(),e=document.createElement("iframe"),e.width=1,e.id=BraintreeData.iframeId,e.height=1,e.frameBorder=0,e.scrolling="no",document.body.appendChild(e),setTimeout(function(){e.src=n.currentEnvironment.url+"/logo.htm"+t,e.innerHTML='<img src="'+n.currentEnvironment.url+"/logo.gif"+t+'" />'},10))},BraintreeData._formHasInput=function(t,e){for(var n=t.getElementsByTagName("input"),i=!1,r=0;r<n.length;r+=1)if(n[r].id==e){i=!0;break}return i},BraintreeData._initializeEnvironment=function(t){if("undefined"==typeof t||!t.hasOwnProperty("name")||!this.environments.hasOwnProperty(t.name))throw t+" is not a valid environment";this.currentEnvironment=this.environments[t.name]},BraintreeData.sjcl=sjcl,window.BraintreeData=BraintreeData,function(){function t(){var t=o(),e=(new Date).getTime()/1e3;return"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+t+"&t="+e+"&a=14"}function e(){n(),i()}function n(){var t=document.body.appendChild(document.createElement("script"));t.type="application/json",t.setAttribute("fncls","fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99"),t.text=JSON.stringify(s)}function i(){var t,e,n,i="https://www.paypalobjects.com/webstatic/r/fb/",r=document.createElement("iframe");r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="width: 0; height: 0; border: 0",n=document.getElementsByTagName("script"),n=n[n.length-1],n.parentNode.insertBefore(r,n);try{e=r.contentWindow.document}catch(o){t=document.domain,r.src='javascript:var d=document.open();d.domain="'+t+'";void(0);',e=r.contentWindow.document}e.open()._l=function(){var e=this.createElement("script");t&&(this.domain=t),e.id="js-iframe-async",e.src=i+"fb-all-prod.pp.min.js",this.body.appendChild(e)},e.write('<body onload="document._l();">'),e.close()}var r=BraintreeData.FraudNet={},o=function(){for(var t="",e=0;32>e;e++)t+=Math.floor(16*Math.random()).toString(16);return function(){return t}}(),s={f:o(),s:"BRAINTREE_SIGNIN",b:t()};r.initialize=e,r.getSessionId=o}(this),"function"==typeof window.onBraintreeDataLoad&&window.onBraintreeDataLoad()}(),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);this.CodeMirror=t()}}(function(){"use strict";function t(n,i){if(!(this instanceof t))return new t(n,i);this.options=i=i||{},ro(xs,i,!1),f(i);var r=i.value;"string"==typeof r&&(r=new qs(r,i.mode)),this.doc=r;var o=this.display=new e(n,r);o.wrapper.CodeMirror=this,u(this),l(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Jo&&fn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Qr},Ro&&setTimeout(oo(pn,this,!0),20),vn(this),xo();var s=this;Ke(this,function(){s.curOp.forceUpdate=!0,yr(s,r),i.autofocus&&!Jo||fo()==o.input?setTimeout(oo(Hn,s),20):Bn(s);for(var t in ws)ws.hasOwnProperty(t)&&ws[t](s,i[t],_s);for(var e=0;e<Ts.length;++e)Ts[e](s)})}function e(t,e){var n=this,i=n.input=co("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");qo?i.style.width="1000px":i.setAttribute("wrap","off"),Zo&&(i.style.border="1px solid black"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck","false"),n.inputDiv=co("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=co("div",[co("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=co("div",[co("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=co("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=co("div",null,"CodeMirror-gutter-filler"),n.lineDiv=co("div",null,"CodeMirror-code"),n.selectionDiv=co("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=co("div",null,"CodeMirror-cursors"),n.measure=co("div",null,"CodeMirror-measure"),n.lineMeasure=co("div",null,"CodeMirror-measure"),n.lineSpace=co("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=co("div",[co("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=co("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=co("div",null,null,"position: absolute; height: "+ea+"px; width: 1px;"),n.gutters=co("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=co("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=co("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),zo&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),Zo&&(i.style.width="0px"),qo||(n.scroller.draggable=!0),$o&&(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"),zo&&(n.scrollbarH.style.minHeight=n.scrollbarV.style.minWidth="18px"),t.appendChild?t.appendChild(n.wrapper):t(n.wrapper),n.viewFrom=n.viewTo=e.first,n.view=[],n.externalMeasured=null,n.viewOffset=0,n.lastSizeC=0,n.updateLineNumbers=null,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new Qr,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),i(e)}function i(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,ye(t,100),t.state.modeGen++,t.curOp&&nn(t)}function r(t){t.options.lineWrapping?(vo(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth=""):(go(t.display.wrapper,"CodeMirror-wrap"),p(t)),s(t),nn(t),De(t),setTimeout(function(){g(t)},100)}function o(t){var e=Xe(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/Ye(t.display)-3);return function(r){if(Vi(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*e:o+e}}function s(t){var e=t.doc,n=o(t);e.iter(function(t){var e=n(t);e!=t.height&&_r(t,e)})}function a(t){var e=Ls[t.options.keyMap],n=e.style;t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(n?" cm-keymap-"+n:"")}function l(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),De(t)}function c(t){u(t),nn(t),setTimeout(function(){y(t)},20)}function u(t){var e=t.display.gutters,n=t.options.gutters;uo(e);for(var i=0;i<n.length;++i){var r=n[i],o=e.appendChild(co("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=i?"":"none",h(t)}function h(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px",t.display.scrollbarH.style.left=t.options.fixedGutter?e+"px":0}function d(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=Ri(i);){var r=e.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=t;e=zi(i);){var r=e.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function p(t){var e=t.display,n=t.doc;e.maxLine=br(n,n.first),e.maxLineLength=d(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=d(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function f(t){var e=eo(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function m(t){var e=t.display.scroller;return{clientHeight:e.clientHeight,barHeight:t.display.scrollbarV.clientHeight,scrollWidth:e.scrollWidth,clientWidth:e.clientWidth,barWidth:t.display.scrollbarH.clientWidth,docHeight:Math.round(t.doc.height+ke(t.display))}}function g(t,e){e||(e=m(t));var n=t.display,i=e.docHeight+ea,r=e.scrollWidth>e.clientWidth,o=i>e.clientHeight;if(o?(n.scrollbarV.style.display="block",n.scrollbarV.style.bottom=r?_o(n.measure)+"px":"0",n.scrollbarV.firstChild.style.height=Math.max(0,i-e.clientHeight+(e.barHeight||n.scrollbarV.clientHeight))+"px"):(n.scrollbarV.style.display="",n.scrollbarV.firstChild.style.height="0"),r?(n.scrollbarH.style.display="block",n.scrollbarH.style.right=o?_o(n.measure)+"px":"0",n.scrollbarH.firstChild.style.width=e.scrollWidth-e.clientWidth+(e.barWidth||n.scrollbarH.clientWidth)+"px"):(n.scrollbarH.style.display="",n.scrollbarH.firstChild.style.width="0"),r&&o?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=n.scrollbarFiller.style.width=_o(n.measure)+"px"):n.scrollbarFiller.style.display="",r&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=_o(n.measure)+"px",n.gutterFiller.style.width=n.gutters.offsetWidth+"px"):n.gutterFiller.style.display="",!t.state.checkedOverlayScrollbar&&e.clientHeight>0){if(0===_o(n.measure)){var s=ts&&!Ko?"12px":"18px";n.scrollbarV.style.minWidth=n.scrollbarH.style.minHeight=s;var a=function(e){Ur(e)!=n.scrollbarV&&Ur(e)!=n.scrollbarH&&Qe(t,wn)(e)};Qs(n.scrollbarV,"mousedown",a),Qs(n.scrollbarH,"mousedown",a)}t.state.checkedOverlayScrollbar=!0}}function v(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-_e(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=Sr(e,i),s=Sr(e,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;if(o>a)return{from:a,to:Sr(e,Cr(br(e,a))+t.wrapper.clientHeight)};if(Math.min(l,e.lastLine())>=s)return{from:Sr(e,Cr(br(e,l))-t.wrapper.clientHeight),to:l}}return{from:o,to:Math.max(s,o+1)}}function y(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=w(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function b(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=x(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(co("div",[co("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s),i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",h(t),!0}return!1}function x(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function w(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function _(t,e,n){for(var i,r=t.display.viewFrom,o=t.display.viewTo,s=v(t.display,t.doc,e),a=!0;;a=!1){var l=t.display.scroller.clientWidth;if(!k(t,s,n))break;i=!0,t.display.maxLineChanged&&!t.options.lineWrapping&&S(t);var c=m(t);if(fe(t),C(t,c),g(t,c),qo&&t.options.lineWrapping&&T(t,c),a&&t.options.lineWrapping&&l!=t.display.scroller.clientWidth)n=!0;else if(n=!1,e&&null!=e.top&&(e={top:Math.min(c.docHeight-ea-c.clientHeight,e.top)}),s=v(t.display,t.doc,e),s.from>=t.display.viewFrom&&s.to<=t.display.viewTo)break}return t.display.updateLineNumbers=null,i&&(Vr(t,"update",t),(t.display.viewFrom!=r||t.display.viewTo!=o)&&Vr(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo)),i}function k(t,e,n){var i=t.display,r=t.doc;if(!i.wrapper.offsetWidth)return void on(t);if(!(!n&&e.from>=i.viewFrom&&e.to<=i.viewTo&&0==cn(t))){b(t)&&on(t);var o=E(t),s=r.first+r.size,a=Math.max(e.from-t.options.viewportMargin,r.first),l=Math.min(s,e.to+t.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(r.first,i.viewFrom)),i.viewTo>l&&i.viewTo-l<20&&(l=Math.min(s,i.viewTo)),ss&&(a=Ui(t.doc,a),l=qi(t.doc,l));var c=a!=i.viewFrom||l!=i.viewTo||i.lastSizeC!=i.wrapper.clientHeight;ln(t,a,l),i.viewOffset=Cr(br(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var u=cn(t);if(c||0!=u||n){var h=fo();return u>4&&(i.lineDiv.style.display="none"),P(t,i.updateLineNumbers,o),u>4&&(i.lineDiv.style.display=""),h&&fo()!=h&&h.offsetHeight&&h.focus(),uo(i.cursorDiv),uo(i.selectionDiv),c&&(i.lastSizeC=i.wrapper.clientHeight,ye(t,400)),M(t),!0}}}function S(t){var e=t.display,n=Ae(t,e.maxLine,e.maxLine.text.length).left;e.maxLineChanged=!1;var i=Math.max(0,n+3),r=Math.max(0,e.sizer.offsetLeft+i+ea-e.scroller.clientWidth);e.sizer.style.minWidth=i+"px",r<t.doc.scrollLeft&&Pn(t,Math.min(e.scroller.scrollLeft,r),!0)}function C(t,e){t.display.sizer.style.minHeight=t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=Math.max(e.docHeight,e.clientHeight-ea)+"px"}function T(t,e){t.display.sizer.offsetWidth+t.display.gutters.offsetWidth<t.display.scroller.clientWidth-1&&(t.display.sizer.style.minHeight=t.display.heightForcer.style.top="0px",t.display.gutters.style.height=e.docHeight+"px")}function M(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var r,o=e.view[i];if(!o.hidden){if(zo){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(2>r&&(r=Xe(e)),(l>.001||-.001>l)&&(_r(o.line,r),A(o.line),o.rest))for(var c=0;c<o.rest.length;c++)A(o.rest[c])}}}function A(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.offsetHeight}function E(t){for(var e=t.display,n={},i={},r=e.gutters.firstChild,o=0;r;r=r.nextSibling,++o)n[t.options.gutters[o]]=r.offsetLeft,i[t.options.gutters[o]]=r.offsetWidth;return{fixedPos:w(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function P(t,e,n){function i(e){var n=e.nextSibling;return qo&&ts&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var r=t.display,o=t.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(h.node){for(;a!=h.node;)a=i(a);var d=o&&null!=e&&c>=e&&h.lineNumber;h.changes&&(eo(h.changes,"gutter")>-1&&(d=!1),L(t,h,c,n)),d&&(uo(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(x(t.options,c)))),a=h.node.nextSibling}else{var p=z(t,h,c,n);s.insertBefore(p,a)}c+=h.size}for(;a;)a=i(a)}function L(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?D(t,e):"gutter"==o?F(t,e,n,i):"class"==o?O(e):"widget"==o&&R(e,i)}e.changes=null}function I(t){return t.node==t.text&&(t.node=co("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),zo&&(t.node.style.zIndex=2)),t.node}function N(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=I(t);t.background=n.insertBefore(co("div",null,e),n.firstChild)}}function j(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):sr(t,e)}function D(t,e){var n=e.text.className,i=j(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,O(e)):n&&(e.text.className=n)}function O(t){N(t),t.line.wrapClass?I(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function F(t,e,n,i){e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null);var r=e.line.gutterMarkers;if(t.options.lineNumbers||r){var o=I(e),s=e.gutter=o.insertBefore(co("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px"),e.text);if(!t.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(co("div",x(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),r)for(var a=0;a<t.options.gutters.length;++a){var l=t.options.gutters[a],c=r.hasOwnProperty(l)&&r[l];c&&s.appendChild(co("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function R(t,e){t.alignable&&(t.alignable=null);for(var n,i=t.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}H(t,e)}function z(t,e,n,i){var r=j(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),O(e),F(t,e,n,i),H(e,i),e.node}function H(t,e){if(B(t.line,t,e,!0),t.rest)for(var n=0;n<t.rest.length;n++)B(t.rest[n],t,e,!1)}function B(t,e,n,i){if(t.widgets)for(var r=I(e),o=0,s=t.widgets;o<s.length;++o){var a=s[o],l=co("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||(l.ignoreEvents=!0),W(a,l,e,n),i&&a.above?r.insertBefore(l,e.gutter||e.text):r.appendChild(l),Vr(a,"redraw")}}function W(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function U(t){return as(t.line,t.ch)}function q(t,e){return ls(t,e)<0?e:t}function V(t,e){return ls(t,e)<0?t:e}function X(t,e){this.ranges=t,this.primIndex=e}function Y(t,e){this.anchor=t,this.head=e}function G(t,e){var n=t[e];t.sort(function(t,e){return ls(t.from(),e.from())}),e=eo(t,n);for(var i=1;i<t.length;i++){var r=t[i],o=t[i-1];if(ls(o.to(),r.from())>=0){var s=V(o.from(),r.from()),a=q(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;e>=i&&--e,t.splice(--i,2,new Y(l?a:s,l?s:a))}}return new X(t,e)}function $(t,e){return new X([new Y(t,e||t)],0)}function K(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function Q(t,e){if(e.line<t.first)return as(t.first,0);var n=t.first+t.size-1;return e.line>n?as(n,br(t,n).text.length):Z(e,br(t,e.line).text.length)}function Z(t,e){var n=t.ch;return null==n||n>e?as(t.line,e):0>n?as(t.line,0):t}function J(t,e){return e>=t.first&&e<t.first+t.size}function te(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=Q(t,e[i]);return n}function ee(t,e,n,i){if(t.cm&&t.cm.display.shift||t.extend){var r=e.anchor;if(i){var o=ls(n,r)<0;o!=ls(i,r)<0?(r=n,n=i):o!=ls(n,i)<0&&(n=i)}return new Y(r,n)}return new Y(i||n,n)}function ne(t,e,n,i){le(t,new X([ee(t,t.sel.primary(),e,n)],0),i)}function ie(t,e,n){for(var i=[],r=0;r<t.sel.ranges.length;r++)i[r]=ee(t,t.sel.ranges[r],e[r],null);var o=G(i,t.sel.primIndex);le(t,o,n)}function re(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,le(t,G(r,t.sel.primIndex),i)}function oe(t,e,n,i){le(t,$(e,n),i)}function se(t,e){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new Y(Q(t,e[n].anchor),Q(t,e[n].head))}};return Js(t,"beforeSelectionChange",t,n),t.cm&&Js(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?G(n.ranges,n.ranges.length-1):e}function ae(t,e,n){var i=t.history.done,r=to(i);r&&r.ranges?(i[i.length-1]=e,ce(t,e,n)):le(t,e,n)}function le(t,e,n){ce(t,e,n),Nr(t,t.sel,t.cm?t.cm.curOp.id:0/0,n)}function ce(t,e,n){($r(t,"beforeSelectionChange")||t.cm&&$r(t.cm,"beforeSelectionChange"))&&(e=se(t,e));var i=n&&n.bias||(ls(e.primary().head,t.sel.primary().head)<0?-1:1);ue(t,de(t,e,i,!0)),n&&n.scroll===!1||!t.cm||ai(t.cm)}function ue(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Gr(t.cm)),Vr(t,"cursorActivity",t))}function he(t){ue(t,de(t,t.sel,null,!1),ia)}function de(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=pe(t,s.anchor,n,i),l=pe(t,s.head,n,i);(r||a!=s.anchor||l!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new Y(a,l))}return r?G(r,e.primIndex):e}function pe(t,e,n,i){var r=!1,o=e,s=n||1;t.cantEdit=!1;t:for(;;){var a=br(t,o.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var c=a.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(i&&(Js(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!u.atomic)continue;var h=u.find(0>s?-1:1);if(0==ls(h,o)&&(h.ch+=s,h.ch<0?h=h.line>t.first?Q(t,as(h.line-1)):null:h.ch>a.text.length&&(h=h.line<t.first+t.size-1?as(h.line+1,0):null),!h)){if(r)return i?(t.cantEdit=!0,as(t.first,0)):pe(t,e,n,!0);r=!0,h=e,s=-s}o=h;continue t}}return o}}function fe(t){for(var e=t.display,n=t.doc,i=document.createDocumentFragment(),r=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++){var s=n.sel.ranges[o],a=s.empty();(a||t.options.showCursorWhenSelecting)&&me(t,s,i),a||ge(t,s,r)}if(t.options.moveInputWithCursor){var l=Be(t,n.sel.primary().head,"div"),c=e.wrapper.getBoundingClientRect(),u=e.lineDiv.getBoundingClientRect(),h=Math.max(0,Math.min(e.wrapper.clientHeight-10,l.top+u.top-c.top)),d=Math.max(0,Math.min(e.wrapper.clientWidth-10,l.left+u.left-c.left));e.inputDiv.style.top=h+"px",e.inputDiv.style.left=d+"px"}ho(e.cursorDiv,i),ho(e.selectionDiv,r)}function me(t,e,n){var i=Be(t,e.head,"div"),r=n.appendChild(co("div","\xa0","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var o=n.appendChild(co("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function ge(t,e,n){function i(t,e,n,i){0>e&&(e=0),e=Math.round(e),i=Math.round(i),a.appendChild(co("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?u-t:n)+"px; height: "+(i-e)+"px"))}function r(e,n,r){function o(n,i){return He(t,as(e,n),"div",h,i)}var a,l,h=br(s,e),d=h.text.length;return Co(Tr(h),n||0,null==r?d:r,function(t,e,s){var h,p,f,m=o(t,"left");if(t==e)h=m,p=f=m.left;else{if(h=o(e-1,"right"),"rtl"==s){var g=m;m=h,h=g}p=m.left,f=h.right}null==n&&0==t&&(p=c),h.top-m.top>3&&(i(p,m.top,null,m.bottom),p=c,m.bottom<h.top&&i(p,m.bottom,null,h.top)),null==r&&e==d&&(f=u),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),c+1>p&&(p=c),i(p,h.top,f-p,h.bottom)}),{start:a,end:l}}var o=t.display,s=t.doc,a=document.createDocumentFragment(),l=Se(t.display),c=l.left,u=o.lineSpace.offsetWidth-l.right,h=e.from(),d=e.to();if(h.line==d.line)r(h.line,h.ch,d.ch);else{var p=br(s,h.line),f=br(s,d.line),m=Bi(p)==Bi(f),g=r(h.line,h.ch,m?p.text.length+1:null).end,v=r(d.line,m?0:null,d.ch).start;m&&(g.top<v.top-2?(i(g.right,g.top,null,g.bottom),i(c,v.top,v.left,v.bottom)):i(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&i(c,g.bottom,null,v.top)}n.appendChild(a)}function ve(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0&&(e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate))}}function ye(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,oo(be,t))}function be(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=As(e.mode,we(t,e.frontier));Ke(t,function(){e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(r){if(e.frontier>=t.display.viewFrom){var o=r.styles,s=nr(t,r,i,!0);r.styles=s.styles,s.classes?r.styleClasses=s.classes:r.styleClasses&&(r.styleClasses=null);for(var a=!o||o.length!=r.styles.length,l=0;!a&&l<o.length;++l)a=o[l]!=r.styles[l];a&&rn(t,e.frontier,"text"),r.stateAfter=As(e.mode,i)}else rr(t,r.text,i),r.stateAfter=e.frontier%5==0?As(e.mode,i):null;return++e.frontier,+new Date>n?(ye(t,t.options.workDelay),!0):void 0})})}}function xe(t,e,n){for(var i,r,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=br(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=sa(l.text,null,t.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function we(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return!0;var o=xe(t,e,n),s=o>i.first&&br(i,o-1).stateAfter;return s=s?As(i.mode,s):Es(i.mode),i.iter(o,e,function(n){rr(t,n.text,s);var a=o==e-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?As(i.mode,s):null,++o}),n&&(i.frontier=o),s}function _e(t){return t.lineSpace.offsetTop}function ke(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Se(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=ho(t.measure,co("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function Ce(t,e,n){var i=t.options.lineWrapping,r=i&&t.display.scroller.clientWidth;if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Te(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var i=0;i<t.rest.length;i++)if(kr(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Me(t,e){e=Bi(e);var n=kr(e),i=t.display.externalMeasured=new tn(t.doc,e,n);i.lineN=n;var r=i.built=sr(t,i);return i.text=r.pre,ho(t.display.lineMeasure,r.pre),i}function Ae(t,e,n,i){return Le(t,Pe(t,e),n,i)}function Ee(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[sn(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Pe(t,e){var n=kr(e),i=Ee(t,n);i&&!i.text?i=null:i&&i.changes&&L(t,i,n,E(t)),i||(i=Me(t,e));var r=Te(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Le(t,e,n,i){e.before&&(n=-1);var r,o=n+(i||"");return e.cache.hasOwnProperty(o)?r=e.cache[o]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Ce(t,e.view,e.rect),e.hasHeights=!0),r=Ie(t,e,n,i),r.bogus||(e.cache[o]=r)),{left:r.left,right:r.right,top:r.top,bottom:r.bottom}}function Ie(t,e,n,i){for(var r,o,s,a,l=e.map,c=0;c<l.length;c+=3){var u=l[c],h=l[c+1];if(u>n?(o=0,s=1,a="left"):h>n?(o=n-u,s=o+1):(c==l.length-3||n==h&&l[c+3]>n)&&(s=h-u,o=s-1,n>=h&&(a="right")),null!=o){if(r=l[c+2],u==h&&i==(r.insertLeft?"left":"right")&&(a=i),"left"==i&&0==o)for(;c&&l[c-2]==l[c-3]&&l[c-1].insertLeft;)r=l[(c-=3)+2],a="left";if("right"==i&&o==h-u)for(;c<l.length-3&&l[c+3]==l[c+4]&&!l[c+5].insertLeft;)r=l[(c+=3)+2],a="right";break}}var d;if(3==r.nodeType){for(;o&&lo(e.line.text.charAt(u+o));)--o;for(;h>u+s&&lo(e.line.text.charAt(u+s));)++s;if(Ho&&0==o&&s==h-u)d=r.parentNode.getBoundingClientRect();else if(Uo&&t.options.lineWrapping){var p=ca(r,o,s).getClientRects();d=p.length?p["right"==i?p.length-1:0]:ds}else d=ca(r,o,s).getBoundingClientRect()||ds}else{o>0&&(a=i="right");var p;d=t.options.lineWrapping&&(p=r.getClientRects()).length>1?p["right"==i?p.length-1:0]:r.getBoundingClientRect()}if(Ho&&!o&&(!d||!d.left&&!d.right)){var f=r.parentNode.getClientRects()[0];d=f?{left:f.left,right:f.left+Ye(t.display),top:f.top,bottom:f.bottom}:ds}for(var m,g=(d.bottom+d.top)/2-e.rect.top,v=e.view.measure.heights,c=0;c<v.length-1&&!(g<v[c]);c++);m=c?v[c-1]:0,g=v[c];var y={left:("right"==a?d.right:d.left)-e.rect.left,right:("left"==a?d.left:d.right)-e.rect.left,top:m,bottom:g};return d.left||d.right||(y.bogus=!0),y}function Ne(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function je(t){t.display.externalMeasure=null,uo(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Ne(t.display.view[e])}function De(t){je(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Oe(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Fe(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Re(t,e,n,i){if(e.widgets)for(var r=0;r<e.widgets.length;++r)if(e.widgets[r].above){var o=Gi(e.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=Cr(e);if("local"==i?s+=_e(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:Fe());var l=a.left+("window"==i?0:Oe());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function ze(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=Oe(),r-=Fe();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function He(t,e,n,i,r){return i||(i=br(t.doc,e.line)),Re(t,i,Ae(t,i,e.ch,r),n)}function Be(t,e,n,i,r){function o(e,o){var s=Le(t,r,e,o?"right":"left");return o?s.left=s.right:s.right=s.left,Re(t,i,s,n)}function s(t,e){var n=a[e],i=n.level%2;return t==To(n)&&e&&n.level<a[e-1].level?(n=a[--e],t=Mo(n)-(n.level%2?0:1),i=!0):t==Mo(n)&&e<a.length-1&&n.level<a[e+1].level&&(n=a[++e],t=To(n)-n.level%2,i=!1),i&&t==n.to&&t>n.from?o(t-1):o(t,i)}i=i||br(t.doc,e.line),r||(r=Pe(t,i));var a=Tr(i),l=e.ch;if(!a)return o(l);var c=No(a,l),u=s(l,c);return null!=_a&&(u.other=s(l,_a)),u}function We(t,e){var n=0,e=Q(t.doc,e);t.options.lineWrapping||(n=Ye(t.display)*e.ch);var i=br(t.doc,e.line),r=Cr(i)+_e(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function Ue(t,e,n,i){var r=as(t,e);return r.xRel=i,n&&(r.outside=!0),r}function qe(t,e,n){var i=t.doc;if(n+=t.display.viewOffset,0>n)return Ue(i.first,0,!0,-1);var r=Sr(i,n),o=i.first+i.size-1;if(r>o)return Ue(i.first+i.size-1,br(i,o).text.length,!0,1);0>e&&(e=0);for(var s=br(i,r);;){var a=Ve(t,s,r,e,n),l=zi(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=kr(s=c.to.line)}}function Ve(t,e,n,i,r){function o(i){var r=Be(t,as(n,i),"line",e,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-Cr(e),a=!1,l=2*t.display.wrapper.clientWidth,c=Pe(t,e),u=Tr(e),h=e.text.length,d=Ao(e),p=Eo(e),f=o(d),m=a,g=o(p),v=a;if(i>g)return Ue(n,p,v,1);for(;;){if(u?p==d||p==Do(e,d,1):1>=p-d){for(var y=f>i||g-i>=i-f?d:p,b=i-(y==d?f:g);lo(e.text.charAt(y));)++y;var x=Ue(n,y,y==d?m:v,-1>b?-1:b>1?1:0);return x}var w=Math.ceil(h/2),_=d+w;if(u){_=d;for(var k=0;w>k;++k)_=Do(e,_,1)}var S=o(_);S>i?(p=_,g=S,(v=a)&&(g+=1e3),h=w):(d=_,f=S,m=a,h-=w)}}function Xe(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==cs){cs=co("pre");for(var e=0;49>e;++e)cs.appendChild(document.createTextNode("x")),cs.appendChild(co("br"));cs.appendChild(document.createTextNode("x"))}ho(t.measure,cs);var n=cs.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),uo(t.measure),n||1}function Ye(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=co("span","xxxxxxxxxx"),n=co("pre",[e]);ho(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function Ge(t){t.curOp={viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++ps},ta++||(Ys=[])}function $e(t){var e=t.curOp,n=t.doc,i=t.display;if(t.curOp=null,e.updateMaxLine&&p(t),e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping){var r=_(t,{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate);t.display.scroller.offsetHeight&&(t.doc.scrollTop=t.display.scroller.scrollTop)}if(!r&&e.selectionChanged&&fe(t),r||e.startHeight==t.doc.height||g(t),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&i.scroller.scrollTop!=e.scrollTop){var o=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,e.scrollTop));i.scroller.scrollTop=i.scrollbarV.scrollTop=n.scrollTop=o}if(null!=e.scrollLeft&&i.scroller.scrollLeft!=e.scrollLeft){var s=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,e.scrollLeft));i.scroller.scrollLeft=i.scrollbarH.scrollLeft=n.scrollLeft=s,y(t)}if(e.scrollToPos){var a=ii(t,Q(t.doc,e.scrollToPos.from),Q(t.doc,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&ni(t,a)}e.selectionChanged&&ve(t),t.state.focused&&e.updateInput&&pn(t,e.typing);var l=e.maybeHiddenMarkers,c=e.maybeUnhiddenMarkers;if(l)for(var u=0;u<l.length;++u)l[u].lines.length||Js(l[u],"hide");if(c)for(var u=0;u<c.length;++u)c[u].lines.length&&Js(c[u],"unhide");var h;if(--ta||(h=Ys,Ys=null),e.changeObjs&&Js(t,"changes",t,e.changeObjs),h)for(var u=0;u<h.length;++u)h[u]();if(e.cursorActivityHandlers)for(var u=0;u<e.cursorActivityHandlers.length;u++)e.cursorActivityHandlers[u](t)}function Ke(t,e){if(t.curOp)return e();Ge(t);try{return e()}finally{$e(t)}}function Qe(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Ge(t);try{return e.apply(t,arguments)}finally{$e(t)}}}function Ze(t){return function(){if(this.curOp)return t.apply(this,arguments);Ge(this);try{return t.apply(this,arguments)}finally{$e(this)}}}function Je(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Ge(e);try{return t.apply(this,arguments)}finally{$e(e)}}}function tn(t,e,n){this.line=e,this.rest=Wi(e),this.size=this.rest?kr(to(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Vi(t,e)}function en(t,e,n){for(var i,r=[],o=e;n>o;o=i){var s=new tn(t.doc,br(t.doc,o),o);i=o+s.size,r.push(s)}return r}function nn(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)ss&&Ui(t.doc,e)<r.viewTo&&on(t);else if(n<=r.viewFrom)ss&&qi(t.doc,n+i)>r.viewFrom?on(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)on(t);else if(e<=r.viewFrom){var o=an(t,n,n+i,1);
o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):on(t)}else if(n>=r.viewTo){var o=an(t,e,e,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):on(t)}else{var s=an(t,e,e,-1),a=an(t,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(en(t,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):on(t)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:e<l.lineN+l.size&&(r.externalMeasured=null))}function rn(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[sn(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==eo(s,n)&&s.push(n)}}}function on(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function sn(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,0>e)return null;for(var n=t.display.view,i=0;i<n.length;i++)if(e-=n[i].size,0>e)return i}function an(t,e,n,i){var r,o=sn(t,e),s=t.display.view;if(!ss||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=0,l=t.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=e){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-e,o++}else r=l-e;e+=r,n+=r}for(;Ui(t.doc,n)!=n;){if(o==(0>i?0:s.length-1))return null;n+=i*s[o-(0>i?1:0)].size,o+=i}return{index:o,lineN:n}}function ln(t,e,n){var i=t.display,r=i.view;0==r.length||e>=i.viewTo||n<=i.viewFrom?(i.view=en(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=en(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(sn(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(en(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,sn(t,n)))),i.viewTo=n}function cn(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function un(t){t.display.pollingFast||t.display.poll.set(t.options.pollInterval,function(){dn(t),t.state.focused&&un(t)})}function hn(t){function e(){var i=dn(t);i||n?(t.display.pollingFast=!1,un(t)):(n=!0,t.display.poll.set(60,e))}var n=!1;t.display.pollingFast=!0,t.display.poll.set(20,e)}function dn(t){var e=t.display.input,n=t.display.prevInput,i=t.doc;if(!t.state.focused||ba(e)&&!n||gn(t)||t.options.disableInput)return!1;t.state.pasteIncoming&&t.state.fakedLastChar&&(e.value=e.value.substring(0,e.value.length-1),t.state.fakedLastChar=!1);var r=e.value;if(r==n&&!t.somethingSelected())return!1;if(Uo&&!Ho&&t.display.inputHasSelection===r)return pn(t),!1;var o=!t.curOp;o&&Ge(t),t.display.shift=!1,8203!=r.charCodeAt(0)||i.sel!=t.display.selForContextMenu||n||(n="\u200b");for(var s=0,a=Math.min(n.length,r.length);a>s&&n.charCodeAt(s)==r.charCodeAt(s);)++s;for(var l=r.slice(s),c=ya(l),u=t.state.pasteIncoming&&c.length>1&&i.sel.ranges.length==c.length,h=i.sel.ranges.length-1;h>=0;h--){var d=i.sel.ranges[h],p=d.from(),f=d.to();s<n.length?p=as(p.line,p.ch-(n.length-s)):t.state.overwrite&&d.empty()&&!t.state.pasteIncoming&&(f=as(f.line,Math.min(br(i,f.line).text.length,f.ch+to(c).length)));var m=t.curOp.updateInput,g={from:p,to:f,text:u?[c[h]]:c,origin:t.state.pasteIncoming?"paste":t.state.cutIncoming?"cut":"+input"};if($n(t.doc,g),Vr(t,"inputRead",t,g),l&&!t.state.pasteIncoming&&t.options.electricChars&&t.options.smartIndent&&d.head.ch<100&&(!h||i.sel.ranges[h-1].head.line!=d.head.line)){var v=t.getModeAt(d.head);if(v.electricChars){for(var y=0;y<v.electricChars.length;y++)if(l.indexOf(v.electricChars.charAt(y))>-1){ci(t,d.head.line,"smart");break}}else if(v.electricInput){var b=bs(g);v.electricInput.test(br(i,b.line).text.slice(0,b.ch))&&ci(t,d.head.line,"smart")}}}return ai(t),t.curOp.updateInput=m,t.curOp.typing=!0,r.length>1e3||r.indexOf("\n")>-1?e.value=t.display.prevInput="":t.display.prevInput=r,o&&$e(t),t.state.pasteIncoming=t.state.cutIncoming=!1,!0}function pn(t,e){var n,i,r=t.doc;if(t.somethingSelected()){t.display.prevInput="";var o=r.sel.primary();n=xa&&(o.to().line-o.from().line>100||(i=t.getSelection()).length>1e3);var s=n?"-":i||t.getSelection();t.display.input.value=s,t.state.focused&&la(t.display.input),Uo&&!Ho&&(t.display.inputHasSelection=s)}else e||(t.display.prevInput=t.display.input.value="",Uo&&!Ho&&(t.display.inputHasSelection=null));t.display.inaccurateSelection=n}function fn(t){"nocursor"==t.options.readOnly||Jo&&fo()==t.display.input||t.display.input.focus()}function mn(t){t.state.focused||(fn(t),Hn(t))}function gn(t){return t.options.readOnly||t.doc.cantEdit}function vn(t){function e(){t.state.focused&&setTimeout(oo(fn,t),0)}function n(e){Yr(t,e)||Ks(e)}function i(e){if(t.somethingSelected())r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,r.input.value=t.getSelection(),la(r.input));else{for(var n="",i=[],o=0;o<t.doc.sel.ranges.length;o++){var s=t.doc.sel.ranges[o].head.line,a={anchor:as(s,0),head:as(s+1,0)};i.push(a),n+=t.getRange(a.anchor,a.head)}"cut"==e.type?t.setSelections(i,null,ia):(r.prevInput="",r.input.value=n,la(r.input))}"cut"==e.type&&(t.state.cutIncoming=!0)}var r=t.display;Qs(r.scroller,"mousedown",Qe(t,wn)),Ro?Qs(r.scroller,"dblclick",Qe(t,function(e){if(!Yr(t,e)){var n=xn(t,e);if(n&&!Tn(t,e)&&!bn(t.display,e)){Gs(e);var i=fi(t,n);ne(t.doc,i.anchor,i.head)}}})):Qs(r.scroller,"dblclick",function(e){Yr(t,e)||Gs(e)}),Qs(r.lineSpace,"selectstart",function(t){bn(r,t)||Gs(t)}),rs||Qs(r.scroller,"contextmenu",function(e){Wn(t,e)}),Qs(r.scroller,"scroll",function(){r.scroller.clientHeight&&(En(t,r.scroller.scrollTop),Pn(t,r.scroller.scrollLeft,!0),Js(t,"scroll",t))}),Qs(r.scrollbarV,"scroll",function(){r.scroller.clientHeight&&En(t,r.scrollbarV.scrollTop)}),Qs(r.scrollbarH,"scroll",function(){r.scroller.clientHeight&&Pn(t,r.scrollbarH.scrollLeft)}),Qs(r.scroller,"mousewheel",function(e){Ln(t,e)}),Qs(r.scroller,"DOMMouseScroll",function(e){Ln(t,e)}),Qs(r.scrollbarH,"mousedown",e),Qs(r.scrollbarV,"mousedown",e),Qs(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),Qs(r.input,"keyup",Qe(t,Rn)),Qs(r.input,"input",function(){Uo&&!Ho&&t.display.inputHasSelection&&(t.display.inputHasSelection=null),hn(t)}),Qs(r.input,"keydown",Qe(t,On)),Qs(r.input,"keypress",Qe(t,zn)),Qs(r.input,"focus",oo(Hn,t)),Qs(r.input,"blur",oo(Bn,t)),t.options.dragDrop&&(Qs(r.scroller,"dragstart",function(e){An(t,e)}),Qs(r.scroller,"dragenter",n),Qs(r.scroller,"dragover",n),Qs(r.scroller,"drop",Qe(t,Mn))),Qs(r.scroller,"paste",function(e){bn(r,e)||(t.state.pasteIncoming=!0,fn(t),hn(t))}),Qs(r.input,"paste",function(){if(qo&&!t.state.fakedLastChar&&!(new Date-t.state.lastMiddleDown<200)){var e=r.input.selectionStart,n=r.input.selectionEnd;r.input.value+="$",r.input.selectionStart=e,r.input.selectionEnd=n,t.state.fakedLastChar=!0}t.state.pasteIncoming=!0,hn(t)}),Qs(r.input,"cut",i),Qs(r.input,"copy",i),$o&&Qs(r.sizer,"mouseup",function(){fo()==r.input&&r.input.blur(),fn(t)})}function yn(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,t.setSize()}function bn(t,e){for(var n=Ur(e);n!=t.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==t.sizer&&n!=t.mover)return!0}function xn(t,e,n,i){var r=t.display;if(!n){var o=Ur(e);if(o==r.scrollbarH||o==r.scrollbarV||o==r.scrollbarFiller||o==r.gutterFiller)return null}var s,a,l=r.lineSpace.getBoundingClientRect();try{s=e.clientX-l.left,a=e.clientY-l.top}catch(e){return null}var c,u=qe(t,s,a);if(i&&1==u.xRel&&(c=br(t.doc,u.line).text).length==u.ch){var h=sa(c,c.length,t.options.tabSize)-c.length;u=as(u.line,Math.max(0,Math.round((s-Se(t.display).left)/Ye(t.display))-h))}return u}function wn(t){if(!Yr(this,t)){var e=this,n=e.display;if(n.shift=t.shiftKey,bn(n,t))return void(qo||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Tn(e,t)){var i=xn(e,t);switch(window.focus(),qr(t)){case 1:i?_n(e,t,i):Ur(t)==n.scroller&&Gs(t);break;case 2:qo&&(e.state.lastMiddleDown=+new Date),i&&ne(e.doc,i),setTimeout(oo(fn,e),20),Gs(t);break;case 3:rs&&Wn(e,t)}}}}function _n(t,e,n){setTimeout(oo(mn,t),0);var i,r=+new Date;hs&&hs.time>r-400&&0==ls(hs.pos,n)?i="triple":us&&us.time>r-400&&0==ls(us.pos,n)?(i="double",hs={time:r,pos:n}):(i="single",us={time:r,pos:n});var o=t.doc.sel,s=ts?e.metaKey:e.ctrlKey;t.options.dragDrop&&va&&!gn(t)&&"single"==i&&o.contains(n)>-1&&o.somethingSelected()?kn(t,e,n,s):Sn(t,e,n,i,s)}function kn(t,e,n,i){var r=t.display,o=Qe(t,function(s){qo&&(r.scroller.draggable=!1),t.state.draggingText=!1,Zs(document,"mouseup",o),Zs(r.scroller,"drop",o),Math.abs(e.clientX-s.clientX)+Math.abs(e.clientY-s.clientY)<10&&(Gs(s),i||ne(t.doc,n),fn(t),Ro&&!Ho&&setTimeout(function(){document.body.focus(),fn(t)},20))});qo&&(r.scroller.draggable=!0),t.state.draggingText=o,r.scroller.dragDrop&&r.scroller.dragDrop(),Qs(document,"mouseup",o),Qs(r.scroller,"drop",o)}function Sn(t,e,n,i,r){function o(e){if(0!=ls(m,e))if(m=e,"rect"==i){for(var r=[],o=t.options.tabSize,s=sa(br(c,n.line).text,n.ch,o),a=sa(br(c,e.line).text,e.ch,o),l=Math.min(s,a),p=Math.max(s,a),f=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));g>=f;f++){var v=br(c,f).text,y=Zr(v,l,o);l==p?r.push(new Y(as(f,y),as(f,y))):v.length>y&&r.push(new Y(as(f,y),as(f,Zr(v,p,o))))}r.length||r.push(new Y(n,n)),le(c,G(d.ranges.slice(0,h).concat(r),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b=u,x=b.anchor,w=e;if("single"!=i){if("double"==i)var _=fi(t,e);else var _=new Y(as(e.line,0),Q(c,as(e.line+1,0)));ls(_.anchor,x)>0?(w=_.head,x=V(b.from(),_.anchor)):(w=_.anchor,x=q(b.to(),_.head))}var r=d.ranges.slice(0);r[h]=new Y(Q(c,x),w),le(c,G(r,h),ra)}}function s(e){var n=++y,r=xn(t,e,!0,"rect"==i);if(r)if(0!=ls(r,m)){mn(t),o(r);var a=v(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(Qe(t,function(){y==n&&s(e)}),150)}else{var u=e.clientY<g.top?-20:e.clientY>g.bottom?20:0;u&&setTimeout(Qe(t,function(){y==n&&(l.scroller.scrollTop+=u,s(e))}),50)}}function a(e){y=1/0,Gs(e),fn(t),Zs(document,"mousemove",b),Zs(document,"mouseup",x),c.history.lastSelOrigin=null}var l=t.display,c=t.doc;Gs(e);var u,h,d=c.sel;if(r&&!e.shiftKey?(h=c.sel.contains(n),u=h>-1?c.sel.ranges[h]:new Y(n,n)):u=c.sel.primary(),e.altKey)i="rect",r||(u=new Y(n,n)),n=xn(t,e,!0,!0),h=-1;else if("double"==i){var p=fi(t,n);u=t.display.shift||c.extend?ee(c,u,p.anchor,p.head):p}else if("triple"==i){var f=new Y(as(n.line,0),Q(c,as(n.line+1,0)));u=t.display.shift||c.extend?ee(c,u,f.anchor,f.head):f}else u=ee(c,u,n);r?h>-1?re(c,h,u,ra):(h=c.sel.ranges.length,le(c,G(c.sel.ranges.concat([u]),h),{scroll:!1,origin:"*mouse"})):(h=0,le(c,new X([u],0),ra),d=c.sel);var m=n,g=l.wrapper.getBoundingClientRect(),y=0,b=Qe(t,function(t){(Uo&&!Bo?t.buttons:qr(t))?s(t):a(t)}),x=Qe(t,a);Qs(document,"mousemove",b),Qs(document,"mouseup",x)}function Cn(t,e,n,i,r){try{var o=e.clientX,s=e.clientY}catch(e){return!1}if(o>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&Gs(e);var a=t.display,l=a.lineDiv.getBoundingClientRect();if(s>l.bottom||!$r(t,n))return Wr(e);s-=l.top-a.viewOffset;for(var c=0;c<t.options.gutters.length;++c){var u=a.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=o){var h=Sr(t.doc,s),d=t.options.gutters[c];return r(t,n,t,h,d,e),Wr(e)}}}function Tn(t,e){return Cn(t,e,"gutterClick",!0,Vr)}function Mn(t){var e=this;if(!Yr(e,t)&&!bn(e.display,t)){Gs(t),Uo&&(fs=+new Date);var n=xn(e,t,!0),i=t.dataTransfer.files;if(n&&!gn(e))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(t,i){var a=new FileReader;a.onload=Qe(e,function(){if(o[i]=a.result,++s==r){n=Q(e.doc,n);var t={from:n,to:n,text:ya(o.join("\n")),origin:"paste"};$n(e.doc,t),ae(e.doc,$(n,bs(t)))}}),a.readAsText(t)},l=0;r>l;++l)a(i[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(oo(fn,e),20);try{var o=t.dataTransfer.getData("Text");if(o){if(e.state.draggingText&&!(ts?t.metaKey:t.ctrlKey))var c=e.listSelections();if(ce(e.doc,$(n,n)),c)for(var l=0;l<c.length;++l)ei(e.doc,"",c[l].anchor,c[l].head,"drag");e.replaceSelection(o,"around","paste"),fn(e)}}catch(t){}}}}function An(t,e){if(Uo&&(!t.state.draggingText||+new Date-fs<100))return void Ks(e);if(!Yr(t,e)&&!bn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.setDragImage&&!Go)){var n=co("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Yo&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),Yo&&n.parentNode.removeChild(n)}}function En(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,Fo||_(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbarV.scrollTop!=e&&(t.display.scrollbarV.scrollTop=e),Fo&&_(t),ye(t,100))}function Pn(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,y(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbarH.scrollLeft!=e&&(t.display.scrollbarH.scrollLeft=e))}function Ln(t,e){var n=e.wheelDeltaX,i=e.wheelDeltaY;null==n&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(n=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta);var r=t.display,o=r.scroller;if(n&&o.scrollWidth>o.clientWidth||i&&o.scrollHeight>o.clientHeight){if(i&&ts&&qo)t:for(var s=e.target,a=r.view;s!=o;s=s.parentNode)for(var l=0;l<a.length;l++)if(a[l].node==s){t.display.currentWheelTarget=s;break t}if(n&&!Fo&&!Yo&&null!=gs)return i&&En(t,Math.max(0,Math.min(o.scrollTop+i*gs,o.scrollHeight-o.clientHeight))),Pn(t,Math.max(0,Math.min(o.scrollLeft+n*gs,o.scrollWidth-o.clientWidth))),Gs(e),void(r.wheelStartX=null);if(i&&null!=gs){var c=i*gs,u=t.doc.scrollTop,h=u+r.wrapper.clientHeight;0>c?u=Math.max(0,u+c-50):h=Math.min(t.doc.height,h+c+50),_(t,{top:u,bottom:h})}20>ms&&(null==r.wheelStartX?(r.wheelStartX=o.scrollLeft,r.wheelStartY=o.scrollTop,r.wheelDX=n,r.wheelDY=i,setTimeout(function(){if(null!=r.wheelStartX){var t=o.scrollLeft-r.wheelStartX,e=o.scrollTop-r.wheelStartY,n=e&&r.wheelDY&&e/r.wheelDY||t&&r.wheelDX&&t/r.wheelDX;r.wheelStartX=r.wheelStartY=null,n&&(gs=(gs*ms+n)/(ms+1),++ms)}},200)):(r.wheelDX+=n,r.wheelDY+=i))}}function In(t,e,n){if("string"==typeof e&&(e=Ps[e],!e))return!1;t.display.pollingFast&&dn(t)&&(t.display.pollingFast=!1);var i=t.display.shift,r=!1;try{gn(t)&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=na}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}function Nn(t){var e=t.state.keyMaps.slice(0);return t.options.extraKeys&&e.push(t.options.extraKeys),e.push(t.options.keyMap),e}function jn(t,e){var n=gi(t.options.keyMap),i=n.auto;clearTimeout(vs),i&&!Ns(e)&&(vs=setTimeout(function(){gi(t.options.keyMap)==n&&(t.options.keyMap=i.call?i.call(null,t):i,a(t))},50));var r=js(e,!0),o=!1;if(!r)return!1;var s=Nn(t);return o=e.shiftKey?Is("Shift-"+r,s,function(e){return In(t,e,!0)})||Is(r,s,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?In(t,e):void 0}):Is(r,s,function(e){return In(t,e)}),o&&(Gs(e),ve(t),Vr(t,"keyHandled",t,r,e)),o}function Dn(t,e,n){var i=Is("'"+n+"'",Nn(t),function(e){return In(t,e,!0)});return i&&(Gs(e),ve(t),Vr(t,"keyHandled",t,"'"+n+"'",e)),i}function On(t){var e=this;if(mn(e),!Yr(e,t)){Ro&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var i=jn(e,t);Yo&&(ys=i?n:null,!i&&88==n&&!xa&&(ts?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||Fn(e)}}function Fn(t){function e(t){18!=t.keyCode&&t.altKey||(go(n,"CodeMirror-crosshair"),Zs(document,"keyup",e),Zs(document,"mouseover",e))}var n=t.display.lineDiv;vo(n,"CodeMirror-crosshair"),Qs(document,"keyup",e),Qs(document,"mouseover",e)}function Rn(t){Yr(this,t)||16==t.keyCode&&(this.doc.sel.shift=!1)}function zn(t){var e=this;if(!Yr(e,t)){var n=t.keyCode,i=t.charCode;if(Yo&&n==ys)return ys=null,void Gs(t);if(!(Yo&&(!t.which||t.which<10)||$o)||!jn(e,t)){var r=String.fromCharCode(null==i?n:i);Dn(e,t,r)||(Uo&&!Ho&&(e.display.inputHasSelection=null),hn(e))}}}function Hn(t){"nocursor"!=t.options.readOnly&&(t.state.focused||(Js(t,"focus",t),t.state.focused=!0,vo(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(pn(t),qo&&setTimeout(oo(pn,t,!0),0))),un(t),ve(t))}function Bn(t){t.state.focused&&(Js(t,"blur",t),t.state.focused=!1,go(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150)}function Wn(t,e){function n(){if(null!=r.input.selectionStart){var e=t.somethingSelected(),n=r.input.value="\u200b"+(e?r.input.value:"");r.prevInput=e?"":"\u200b",r.input.selectionStart=1,r.input.selectionEnd=n.length,r.selForContextMenu=t.doc.sel}}function i(){if(r.inputDiv.style.position="relative",r.input.style.cssText=l,Ho&&(r.scrollbarV.scrollTop=r.scroller.scrollTop=s),un(t),null!=r.input.selectionStart){(!Uo||Ho)&&n();var e=0,i=function(){r.selForContextMenu==t.doc.sel&&0==r.input.selectionStart?Qe(t,Ps.selectAll)(t):e++<10?r.detectingSelectAll=setTimeout(i,500):pn(t)};r.detectingSelectAll=setTimeout(i,200)}}if(!Yr(t,e,"contextmenu")){var r=t.display;if(!bn(r,e)&&!Un(t,e)){var o=xn(t,e),s=r.scroller.scrollTop;if(o&&!Yo){var a=t.options.resetSelectionOnContextMenu;a&&-1==t.doc.sel.contains(o)&&Qe(t,le)(t.doc,$(o),ia);var l=r.input.style.cssText;if(r.inputDiv.style.position="absolute",r.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(Uo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",fn(t),pn(t),t.somethingSelected()||(r.input.value=r.prevInput=" "),r.selForContextMenu=t.doc.sel,clearTimeout(r.detectingSelectAll),Uo&&!Ho&&n(),rs){Ks(e);var c=function(){Zs(window,"mouseup",c),setTimeout(i,20)};Qs(window,"mouseup",c)}else setTimeout(i,50)}}}}function Un(t,e){return $r(t,"gutterContextMenu")?Cn(t,e,"gutterContextMenu",!1,Js):!1}function qn(t,e){if(ls(t,e.from)<0)return t;if(ls(t,e.to)<=0)return bs(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=bs(e).ch-e.to.ch),as(n,i)}function Vn(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new Y(qn(r.anchor,e),qn(r.head,e)))}return G(n,t.sel.primIndex)}function Xn(t,e,n){return t.line==e.line?as(n.line,t.ch-e.ch+n.ch):as(n.line+(t.line-e.line),t.ch)}function Yn(t,e,n){for(var i=[],r=as(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=Xn(a.from,r,o),c=Xn(bs(a),r,o);if(r=a.to,o=c,"around"==n){var u=t.sel.ranges[s],h=ls(u.head,u.anchor)<0;i[s]=new Y(h?c:l,h?l:c)}else i[s]=new Y(l,l)}return new X(i,t.sel.primIndex)}function Gn(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(e,n,i,r){e&&(this.from=Q(t,e)),n&&(this.to=Q(t,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Js(t,"beforeChange",t,i),t.cm&&Js(t.cm,"beforeChange",t.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function $n(t,e,n){if(t.cm){if(!t.cm.curOp)return Qe(t.cm,$n)(t,e,n);if(t.cm.state.suppressEdits)return}if(!($r(t,"beforeChange")||t.cm&&$r(t.cm,"beforeChange"))||(e=Gn(t,e,!0))){var i=os&&!n&&Li(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)Kn(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text});else Kn(t,e)}}function Kn(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ls(e.from,e.to)){var n=Vn(t,e);Lr(t,e,n,t.cm?t.cm.curOp.id:0/0),Jn(t,e,n,Ai(t,e));var i=[];vr(t,function(t,n){n||-1!=eo(i,t.history)||(Br(t.history,e),i.push(t.history)),Jn(t,e,null,Ai(t,e))})}}function Qn(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var i,r=t.history,o=t.sel,s="undo"==e?r.done:r.undone,a="undo"==e?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(t.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;i=s.pop(),i.ranges;){if(jr(i,a),n&&!i.equals(t.sel))return void le(t,i,{clearRedo:!1});o=i}var c=[];jr(o,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=$r(t,"beforeChange")||t.cm&&$r(t.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var h=i.changes[l];if(h.origin=e,u&&!Gn(t,h,!1))return void(s.length=0);c.push(Ar(t,h));var d=l?Vn(t,h,null):to(s);Jn(t,h,d,Pi(t,h)),!l&&t.cm&&t.cm.scrollIntoView(h);var p=[];vr(t,function(t,e){e||-1!=eo(p,t.history)||(Br(t.history,h),p.push(t.history)),Jn(t,h,null,Pi(t,h))})}}}}function Zn(t,e){if(0!=e&&(t.first+=e,t.sel=new X(no(t.sel.ranges,function(t){return new Y(as(t.anchor.line+e,t.anchor.ch),as(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){nn(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)rn(t.cm,i,"gutter")}}function Jn(t,e,n,i){if(t.cm&&!t.cm.curOp)return Qe(t.cm,Jn)(t,e,n,i);if(e.to.line<t.first)return void Zn(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Zn(t,r),e={from:as(t.first,0),to:as(e.to.line+r,e.to.ch),text:[to(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:as(o,br(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=xr(t,e.from,e.to),n||(n=Vn(t,e,null)),t.cm?ti(t.cm,e,i):fr(t,e,i),ce(t,n,ia)}}function ti(t,e,n){var i=t.doc,r=t.display,s=e.from,a=e.to,l=!1,c=s.line;t.options.lineWrapping||(c=kr(Bi(br(i,s.line))),i.iter(c,a.line+1,function(t){return t==r.maxLine?(l=!0,!0):void 0})),i.sel.contains(e.from,e.to)>-1&&Gr(t),fr(i,e,n,o(t)),t.options.lineWrapping||(i.iter(c,s.line+e.text.length,function(t){var e=d(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,l=!1)}),l&&(t.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),ye(t,400);var u=e.text.length-(a.line-s.line)-1;s.line!=a.line||1!=e.text.length||pr(t.doc,e)?nn(t,s.line,a.line+1,u):rn(t,s.line,"text");var h=$r(t,"changes"),p=$r(t,"change");if(p||h){var f={from:s,to:a,text:e.text,removed:e.removed,origin:e.origin};p&&Vr(t,"change",t,f),h&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}function ei(t,e,n,i,r){if(i||(i=n),ls(i,n)<0){var o=i;i=n,n=o}"string"==typeof e&&(e=ya(e)),$n(t,{from:n,to:i,text:e,origin:r})}function ni(t,e){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null;if(e.top+i.top<0?r=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Qo){var o=co("div","\u200b",null,"position: absolute; top: "+(e.top-n.viewOffset-_e(t.display))+"px; height: "+(e.bottom-e.top+ea)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}function ii(t,e,n,i){for(null==i&&(i=0);;){var r=!1,o=Be(t,e),s=n&&n!=e?Be(t,n):o,a=oi(t,Math.min(o.left,s.left),Math.min(o.top,s.top)-i,Math.max(o.left,s.left),Math.max(o.bottom,s.bottom)+i),l=t.doc.scrollTop,c=t.doc.scrollLeft;if(null!=a.scrollTop&&(En(t,a.scrollTop),Math.abs(t.doc.scrollTop-l)>1&&(r=!0)),null!=a.scrollLeft&&(Pn(t,a.scrollLeft),Math.abs(t.doc.scrollLeft-c)>1&&(r=!0)),!r)return o}}function ri(t,e,n,i,r){var o=oi(t,e,n,i,r);null!=o.scrollTop&&En(t,o.scrollTop),null!=o.scrollLeft&&Pn(t,o.scrollLeft)}function oi(t,e,n,i,r){var o=t.display,s=Xe(t.display);0>n&&(n=0);var a=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,l=o.scroller.clientHeight-ea,c={},u=t.doc.height+ke(o),h=s>n,d=r>u-s;if(a>n)c.scrollTop=h?0:n;else if(r>a+l){var p=Math.min(n,(d?u:r)-l);p!=a&&(c.scrollTop=p)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,m=o.scroller.clientWidth-ea;e+=o.gutters.offsetWidth,i+=o.gutters.offsetWidth;var g=o.gutters.offsetWidth,v=g+10>e;return f+g>e||v?(v&&(e=0),c.scrollLeft=Math.max(0,e-10-g)):i>m+f-3&&(c.scrollLeft=i+10-m),c}function si(t,e,n){(null!=e||null!=n)&&li(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function ai(t){li(t);var e=t.getCursor(),n=e,i=e;t.options.lineWrapping||(n=e.ch?as(e.line,e.ch-1):e,i=as(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:i,margin:t.options.cursorScrollMargin,isCursor:!0}}function li(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=We(t,e.from),i=We(t,e.to),r=oi(t,Math.min(n.left,i.left),Math.min(n.top,i.top)-e.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+e.margin);t.scrollTo(r.scrollLeft,r.scrollTop)}}function ci(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(t.doc.mode.indent?r=we(t,e):n="prev");var s=t.options.tabSize,a=br(o,e),l=sa(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=t.doc.mode.indent(r,a.text.slice(u.length),a.text),c==na)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?sa(br(o,e-1).text,null,s):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",d=0;if(t.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)d+=s,h+="	";if(c>d&&(h+=Jr(c-d)),h!=u)ei(t.doc,h,as(e,0),as(e,u.length),"+input");else for(var p=0;p<o.sel.ranges.length;p++){var f=o.sel.ranges[p];if(f.head.line==e&&f.head.ch<u.length){var d=as(e,u.length);re(o,p,new Y(d,d));break}}a.stateAfter=null}function ui(t,e,n,i){var r=e,o=e,s=t.doc;return"number"==typeof e?o=br(s,K(s,e)):r=kr(e),null==r?null:(i(o,r)&&rn(t,r,n),o)}function hi(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=e(n[r]);i.length&&ls(o.from,to(i).to)<=0;){var s=i.pop();if(ls(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Ke(t,function(){for(var e=i.length-1;e>=0;e--)ei(t.doc,"",i[e].from,i[e].to,"+delete");ai(t)})}function di(t,e,n,i,r){function o(){var e=a+n;return e<t.first||e>=t.first+t.size?h=!1:(a=e,u=br(t,e))}function s(t){var e=(r?Do:Oo)(u,l,n,!0);if(null==e){if(t||!o())return h=!1;l=r?(0>n?Eo:Ao)(u):0>n?u.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,c=n,u=br(t,a),h=!0;if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var d=null,p="group"==i,f=t.cm&&t.cm.getHelper(e,"wordChars"),m=!0;!(0>n)||s(!m);m=!1){var g=u.text.charAt(l)||"\n",v=so(g,f)?"w":p&&"\n"==g?"n":!p||/\s/.test(g)?null:"p";if(!p||m||v||(v="s"),d&&d!=v){0>n&&(n=1,s());break}if(v&&(d=v),n>0&&!s(!m))break}var y=pe(t,as(a,l),c,!0);return h||(y.hitSide=!0),y}function pi(t,e,n,i){var r,o=t.doc,s=e.left;if("page"==i){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=e.top+n*(a-(0>n?1.5:.5)*Xe(t.display))}else"line"==i&&(r=n>0?e.bottom+3:e.top-3);for(;;){var l=qe(t,s,r);if(!l.outside)break;if(0>n?0>=r:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function fi(t,e){var n=t.doc,i=br(n,e.line).text,r=e.ch,o=e.ch;if(i){var s=t.getHelper(e,"wordChars");(e.xRel<0||o==i.length)&&r?--r:++o;for(var a=i.charAt(r),l=so(a,s)?function(t){return so(t,s)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!so(t)};r>0&&l(i.charAt(r-1));)--r;for(;o<i.length&&l(i.charAt(o));)++o}return new Y(as(e.line,r),as(e.line,o))}function mi(e,n,i,r){t.defaults[e]=n,i&&(ws[e]=r?function(t,e,n){n!=_s&&i(t,e,n)}:i)}function gi(t){return"string"==typeof t?Ls[t]:t}function vi(t,e,n,i,r){if(i&&i.shared)return yi(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return Qe(t.cm,vi)(t,e,n,i,r);var o=new Os(t,r),s=ls(e,n);if(i&&ro(i,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=co("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||(o.widgetNode.ignoreEvents=!0),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Hi(t,e.line,e,n,o)||e.line!=n.line&&Hi(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");ss=!0}o.addToHistory&&Lr(t,{from:e,to:n,origin:"markText"},t.sel,0/0);var a,l=e.line,c=t.cm;if(t.iter(l,n.line+1,function(t){c&&o.collapsed&&!c.options.lineWrapping&&Bi(t)==c.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&_r(t,0),Ci(t,new _i(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&t.iter(e.line,n.line+1,function(e){Vi(t,e)&&_r(e,0)}),o.clearOnEnter&&Qs(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(os=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++Fs,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)nn(c,e.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle)for(var u=e.line;u<=n.line;u++)rn(c,u,"text");o.atomic&&he(c.doc),Vr(c,"markerAdded",c,o)}return o}function yi(t,e,n,i,r){i=ro(i),i.shared=!1;var o=[vi(t,e,n,i,r)],s=o[0],a=i.widgetNode;return vr(t,function(t){a&&(i.widgetNode=a.cloneNode(!0)),o.push(vi(t,Q(t,e),Q(t,n),i,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=to(o)}),new Rs(o,s)}function bi(t){return t.findMarks(as(t.first,0),t.clipPos(as(t.lastLine())),function(t){return t.parent})}function xi(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(ls(o,s)){var a=vi(t,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function wi(t){for(var e=0;e<t.length;e++){var n=t[e],i=[n.primary.doc];vr(n.primary.doc,function(t){i.push(t)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==eo(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function _i(t,e,n){this.marker=t,this.from=e,this.to=n}function ki(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function Si(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function Ci(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Ti(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new _i(s,o.from,l?null:o.to))}}return i}function Mi(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new _i(s,l?null:o.from-e,null==o.to?null:o.to-e))}}return i}function Ai(t,e){var n=J(t,e.from.line)&&br(t,e.from.line).markedSpans,i=J(t,e.to.line)&&br(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,s=0==ls(e.from,e.to),a=Ti(n,r,s),l=Mi(i,o,s),c=1==e.text.length,u=to(e.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var p=ki(l,d.marker);p?c&&(d.to=null==p.to?null:p.to+u):d.to=r}}if(l)for(var h=0;h<l.length;++h){var d=l[h];if(null!=d.to&&(d.to+=u),null==d.from){var p=ki(a,d.marker);p||(d.from=u,c&&(a||(a=[])).push(d))}else d.from+=u,c&&(a||(a=[])).push(d)}a&&(a=Ei(a)),l&&l!=a&&(l=Ei(l));var f=[a];if(!c){var m,g=e.text.length-2;if(g>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(m||(m=[])).push(new _i(a[h].marker,null,null));for(var h=0;g>h;++h)f.push(m);f.push(l)}return f}function Ei(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function Pi(t,e){var n=Fr(t,e),i=Ai(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(n[r]=s)}return n}function Li(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=eo(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(ls(c.to,a.from)<0||ls(c.from,a.to)>0)){var u=[l,1],h=ls(c.from,a.from),d=ls(c.to,a.to);(0>h||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function Ii(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Ni(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function ji(t){return t.inclusiveLeft?-1:0}function Di(t){return t.inclusiveRight?1:0}function Oi(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=ls(i.from,r.from)||ji(t)-ji(e);if(o)return-o;var s=ls(i.to,r.to)||Di(t)-Di(e);return s?s:e.id-t.id}function Fi(t,e){var n,i=ss&&t.markedSpans;
if(i)for(var r,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(e?r.from:r.to)&&(!n||Oi(n,r.marker)<0)&&(n=r.marker);return n}function Ri(t){return Fi(t,!0)}function zi(t){return Fi(t,!1)}function Hi(t,e,n,i,r){var o=br(t,e),s=ss&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=ls(c.from,n)||ji(l.marker)-ji(r),h=ls(c.to,i)||Di(l.marker)-Di(r);if(!(u>=0&&0>=h||0>=u&&h>=0)&&(0>=u&&(ls(c.to,n)||Di(l.marker)-ji(r))>0||u>=0&&(ls(c.from,i)||ji(l.marker)-Di(r))<0))return!0}}}function Bi(t){for(var e;e=Ri(t);)t=e.find(-1,!0).line;return t}function Wi(t){for(var e,n;e=zi(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function Ui(t,e){var n=br(t,e),i=Bi(n);return n==i?e:kr(i)}function qi(t,e){if(e>t.lastLine())return e;var n,i=br(t,e);if(!Vi(t,i))return e;for(;n=zi(i);)i=n.find(1,!0).line;return kr(i)+1}function Vi(t,e){var n=ss&&e.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Xi(t,e,i))return!0}}function Xi(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return Xi(t,i.line,ki(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r,o=0;o<e.markedSpans.length;++o)if(r=e.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Xi(t,e,r))return!0}function Yi(t,e,n){Cr(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&si(t,null,n)}function Gi(t){return null!=t.height?t.height:(po(document.body,t.node)||ho(t.cm.display.measure,co("div",[t.node],null,"position: relative")),t.height=t.node.offsetHeight)}function $i(t,e,n,i){var r=new zs(t,n,i);return r.noHScroll&&(t.display.alignWidgets=!0),ui(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,!Vi(t.doc,e)){var i=Cr(e)<t.doc.scrollTop;_r(e,e.height+Gi(r)),i&&si(t,null,r.height),t.curOp.forceUpdate=!0}return!0}),r}function Ki(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Ii(t),Ni(t,n);var r=i?i(t):1;r!=t.height&&_r(t,r)}function Qi(t){t.parent=null,Ii(t)}function Zi(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[i])||(e[i]+=" "+n[2])}return t}function Ji(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var i=t.innerMode(e,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function tr(t,e,n){for(var i=0;10>i;i++){var r=t.token(e,n);if(e.pos>e.start)return r}throw new Error("Mode "+t.name+" failed to advance stream.")}function er(e,n,i,r,o,s,a){var l=i.flattenSpans;null==l&&(l=e.options.flattenSpans);var c,u=0,h=null,d=new Ds(n,e.options.tabSize);for(""==n&&Zi(Ji(i,r),s);!d.eol();){if(d.pos>e.options.maxHighlightLength?(l=!1,a&&rr(e,n,r,d.pos),d.pos=n.length,c=null):c=Zi(tr(i,d,r),s),e.options.addModeClass){var p=t.innerMode(i,r).mode.name;p&&(c="m-"+(c?p+" "+c:p))}l&&h==c||(u<d.start&&o(d.start,h),u=d.start,h=c),d.start=d.pos}for(;u<d.pos;){var f=Math.min(d.pos,u+5e4);o(f,h),u=f}}function nr(t,e,n,i){var r=[t.state.modeGen],o={};er(t,e.text,t.doc.mode,n,function(t,e){r.push(t,e)},o,i);for(var s=0;s<t.state.overlays.length;++s){var a=t.state.overlays[s],l=1,c=0;er(t,e.text,a.mode,!0,function(t,e){for(var n=l;t>c;){var i=r[l];i>t&&r.splice(l,1,t,r[l+1],i),l+=2,c=Math.min(t,i)}if(e)if(a.opaque)r.splice(n,l-n,t,"cm-overlay "+e),l=n+2;else for(;l>n;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+e}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function ir(t,e){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=nr(t,e,e.stateAfter=we(t,kr(e)));e.styles=n.styles,n.classes?e.styleClasses=n.classes:e.styleClasses&&(e.styleClasses=null)}return e.styles}function rr(t,e,n,i){var r=t.doc.mode,o=new Ds(e,t.options.tabSize);for(o.start=o.pos=i||0,""==e&&Ji(r,n);!o.eol()&&o.pos<=t.options.maxHighlightLength;)tr(r,o,n),o.start=o.pos}function or(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Ws:Bs;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function sr(t,e){var n=co("span",null,null,qo?"padding-right: .1px":null),i={pre:co("pre",[n]),content:n,col:0,pos:0,cm:t};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o,s=r?e.rest[r-1]:e.line;i.pos=0,i.addToken=lr,(Uo||qo)&&t.getOption("lineWrapping")&&(i.addToken=cr(i.addToken)),So(t.display.measure)&&(o=Tr(s))&&(i.addToken=ur(i.addToken,o)),i.map=[],dr(s,i,ir(t,s)),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=yo(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=yo(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(ko(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}return Js(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=yo(i.pre.className,i.textClass||"")),i}function ar(t){var e=co("span","\u2022","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e}function lr(t,e,n,i,r,o){if(e){var s=t.cm.options.specialChars,a=!1;if(s.test(e))for(var l=document.createDocumentFragment(),c=0;;){s.lastIndex=c;var u=s.exec(e),h=u?u.index-c:e.length-c;if(h){var d=document.createTextNode(e.slice(c,c+h));l.appendChild(Ho?co("span",[d]):d),t.map.push(t.pos,t.pos+h,d),t.col+=h,t.pos+=h}if(!u)break;if(c+=h+1,"	"==u[0]){var p=t.cm.options.tabSize,f=p-t.col%p,d=l.appendChild(co("span",Jr(f),"cm-tab"));t.col+=f}else{var d=t.cm.options.specialCharPlaceholder(u[0]);l.appendChild(Ho?co("span",[d]):d),t.col+=1}t.map.push(t.pos,t.pos+1,d),t.pos++}else{t.col+=e.length;var l=document.createTextNode(e);t.map.push(t.pos,t.pos+e.length,l),Ho&&(a=!0),t.pos+=e.length}if(n||i||r||a){var m=n||"";i&&(m+=i),r&&(m+=r);var g=co("span",[l],m);return o&&(g.title=o),t.content.appendChild(g)}t.content.appendChild(l)}}function cr(t){function e(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":"\xa0";return e+=" "}return function(n,i,r,o,s,a){t(n,i.replace(/ {3,}/g,e),r,o,s,a)}}function ur(t,e){return function(n,i,r,o,s,a){r=r?r+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+i.length;;){for(var u=0;u<e.length;u++){var h=e[u];if(h.to>l&&h.from<=l)break}if(h.to>=c)return t(n,i,r,o,s,a);t(n,i.slice(0,h.to-l),r,o,null,a),o=null,i=i.slice(h.to-l),l=h.to}}}function hr(t,e,n,i){var r=!i&&n.widgetNode;r&&(t.map.push(t.pos,t.pos+e,r),t.content.appendChild(r)),t.pos+=e}function dr(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var s,a,l,c,u,h,d=r.length,p=0,f=1,m="",g=0;;){if(g==p){a=l=c=u="",h=null,g=1/0;for(var v=[],y=0;y<i.length;++y){var b=i[y],x=b.marker;b.from<=p&&(null==b.to||b.to>p)?(null!=b.to&&g>b.to&&(g=b.to,l=""),x.className&&(a+=" "+x.className),x.startStyle&&b.from==p&&(c+=" "+x.startStyle),x.endStyle&&b.to==g&&(l+=" "+x.endStyle),x.title&&!u&&(u=x.title),x.collapsed&&(!h||Oi(h.marker,x)<0)&&(h=b)):b.from>p&&g>b.from&&(g=b.from),"bookmark"==x.type&&b.from==p&&x.widgetNode&&v.push(x)}if(h&&(h.from||0)==p&&(hr(e,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to))return;if(!h&&v.length)for(var y=0;y<v.length;++y)hr(e,0,v[y])}if(p>=d)break;for(var w=Math.min(d,g);;){if(m){var _=p+m.length;if(!h){var k=_>w?m.slice(0,w-p):m;e.addToken(e,k,s?s+a:a,c,p+k.length==g?l:"",u)}if(_>=w){m=m.slice(w-p),p=w;break}p=_,c=""}m=r.slice(o,o=n[f++]),s=or(n[f++],e.cm.options)}}else for(var f=1;f<n.length;f+=2)e.addToken(e,r.slice(o,o=n[f]),or(n[f+1],e.cm.options))}function pr(t,e){return 0==e.from.ch&&0==e.to.ch&&""==to(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function fr(t,e,n,i){function r(t){return n?n[t]:null}function o(t,n,r){Ki(t,n,r,i),Vr(t,"change",t,e)}var s=e.from,a=e.to,l=e.text,c=br(t,s.line),u=br(t,a.line),h=to(l),d=r(l.length-1),p=a.line-s.line;if(pr(t,e)){for(var f=0,m=[];f<l.length-1;++f)m.push(new Hs(l[f],r(f),i));o(u,u.text,d),p&&t.remove(s.line,p),m.length&&t.insert(s.line,m)}else if(c==u)if(1==l.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(a.ch),d);else{for(var m=[],f=1;f<l.length-1;++f)m.push(new Hs(l[f],r(f),i));m.push(new Hs(h+c.text.slice(a.ch),d,i)),o(c,c.text.slice(0,s.ch)+l[0],r(0)),t.insert(s.line+1,m)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+u.text.slice(a.ch),r(0)),t.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+l[0],r(0)),o(u,h+u.text.slice(a.ch),d);for(var f=1,m=[];f<l.length-1;++f)m.push(new Hs(l[f],r(f),i));p>1&&t.remove(s.line+1,p-1),t.insert(s.line+1,m)}Vr(t,"change",t,e)}function mr(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function gr(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}function vr(t,e,n){function i(t,r,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;(!n||l)&&(e(a.doc,l),i(a.doc,t,l))}}}i(t,null,!0)}function yr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,s(t),n(t),t.options.lineWrapping||p(t),t.options.mode=e.modeOption,nn(t)}function br(t,e){if(e-=t.first,0>e||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(o>e){n=r;break}e-=o}return n.lines[e]}function xr(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r}),i}function wr(t,e,n){var i=[];return t.iter(e,n,function(t){i.push(t.text)}),i}function _r(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function kr(t){if(null==t.parent)return null;for(var e=t.parent,n=eo(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function Sr(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(o>e){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(var i=0;i<t.lines.length;++i){var s=t.lines[i],a=s.height;if(a>e)break;e-=a}return n+i}function Cr(t){t=Bi(t);for(var e=0,n=t.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;e+=s.height}return e}function Tr(t){var e=t.order;return null==e&&(e=t.order=ka(t.text)),e}function Mr(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Ar(t,e){var n={from:U(e.from),to:bs(e),text:xr(t,e.from,e.to)};return Dr(t,n,e.from.line,e.to.line+1),vr(t,function(t){Dr(t,n,e.from.line,e.to.line+1)},!0),n}function Er(t){for(;t.length;){var e=to(t);if(!e.ranges)break;t.pop()}}function Pr(t,e){return e?(Er(t.done),to(t.done)):t.done.length&&!to(t.done).ranges?to(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),to(t.done)):void 0}function Lr(t,e,n,i){var r=t.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=Pr(r,r.lastOp==i))){var a=to(o.changes);0==ls(e.from,e.to)&&0==ls(e.from,a.to)?a.to=bs(e):o.changes.push(Ar(t,e))}else{var l=to(r.done);for(l&&l.ranges||jr(t.sel,r.done),o={changes:[Ar(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,a||Js(t,"historyAdded")}function Ir(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Nr(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||Ir(t,o,to(r.done),e))?r.done[r.done.length-1]=e:jr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastOp=n,i&&i.clearRedo!==!1&&Er(r.undone)}function jr(t,e){var n=to(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Dr(t,e,n,i){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function Or(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Fr(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=0,r=[];i<e.text.length;++i)r.push(Or(n[i]));return r}function Rr(t,e,n){for(var i=0,r=[];i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?X.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&eo(e,Number(c[1]))>-1&&(to(a)[h]=u[h],delete u[h])}}}return r}function zr(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function Hr(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||(o=t[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)zr(o.ranges[a].anchor,e,n,i),zr(o.ranges[a].head,e,n,i)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=as(l.from.line+i,l.from.ch),l.to=as(l.to.line+i,l.to.ch);else if(e<=l.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function Br(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;Hr(t.done,n,i,r),Hr(t.undone,n,i,r)}function Wr(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Ur(t){return t.target||t.srcElement}function qr(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),ts&&t.ctrlKey&&1==e&&(e=3),e}function Vr(t,e){function n(t){return function(){t.apply(null,r)}}var i=t._handlers&&t._handlers[e];if(i){var r=Array.prototype.slice.call(arguments,2);Ys||(++ta,Ys=[],setTimeout(Xr,0));for(var o=0;o<i.length;++o)Ys.push(n(i[o]))}}function Xr(){--ta;var t=Ys;Ys=null;for(var e=0;e<t.length;++e)t[e]()}function Yr(t,e,n){return Js(t,n||e.type,t,e),Wr(e)||e.codemirrorIgnore}function Gr(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==eo(n,e[i])&&n.push(e[i])}function $r(t,e){var n=t._handlers&&t._handlers[e];return n&&n.length>0}function Kr(t){t.prototype.on=function(t,e){Qs(this,t,e)},t.prototype.off=function(t,e){Zs(this,t,e)}}function Qr(){this.id=null}function Zr(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("	",i);-1==o&&(o=t.length);var s=o-i;if(o==t.length||r+s>=e)return i+Math.min(s,e-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=e)return i}}function Jr(t){for(;aa.length<=t;)aa.push(to(aa)+" ");return aa[t]}function to(t){return t[t.length-1]}function eo(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function no(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function io(t,e){var n;if(Object.create)n=Object.create(t);else{var i=function(){};i.prototype=t,n=new i}return e&&ro(e,n),n}function ro(t,e,n){e||(e={});for(var i in t)!t.hasOwnProperty(i)||n===!1&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function oo(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function so(t,e){return e?e.source.indexOf("\\w")>-1&&ha(t)?!0:e.test(t):ha(t)}function ao(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function lo(t){return t.charCodeAt(0)>=768&&da.test(t)}function co(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function uo(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function ho(t,e){return uo(t).appendChild(e)}function po(t,e){if(t.contains)return t.contains(e);for(;e=e.parentNode;)if(e==t)return!0}function fo(){return document.activeElement}function mo(t){return new RegExp("\\b"+t+"\\b\\s*")}function go(t,e){var n=mo(e);n.test(t.className)&&(t.className=t.className.replace(n,""))}function vo(t,e){mo(e).test(t.className)||(t.className+=" "+e)}function yo(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!mo(n[i]).test(e)&&(e+=" "+n[i]);return e}function bo(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var i=e[n].CodeMirror;i&&t(i)}}function xo(){ga||(wo(),ga=!0)}function wo(){var t;Qs(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,pa=null,bo(yn)},100))}),Qs(window,"blur",function(){bo(Bn)})}function _o(t){if(null!=pa)return pa;var e=co("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return ho(t,e),e.offsetWidth&&(pa=e.offsetHeight-e.clientHeight),pa||0}function ko(t){if(null==fa){var e=co("span","\u200b");ho(t,co("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(fa=e.offsetWidth<=1&&e.offsetHeight>2&&!zo)}return fa?co("span","\u200b"):co("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px")}function So(t){if(null!=ma)return ma;var e=ho(t,document.createTextNode("A\u062eA")),n=ca(e,0,1).getBoundingClientRect();if(n.left==n.right)return!1;var i=ca(e,1,2).getBoundingClientRect();return ma=i.right-n.right<3}function Co(t,e,n,i){if(!t)return i(e,n,"ltr");for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(e,n,"ltr")}function To(t){return t.level%2?t.to:t.from}function Mo(t){return t.level%2?t.from:t.to}function Ao(t){var e=Tr(t);return e?To(e[0]):0}function Eo(t){var e=Tr(t);return e?Mo(to(e)):t.text.length}function Po(t,e){var n=br(t.doc,e),i=Bi(n);i!=n&&(e=kr(i));var r=Tr(i),o=r?r[0].level%2?Eo(i):Ao(i):0;return as(e,o)}function Lo(t,e){for(var n,i=br(t.doc,e);n=zi(i);)i=n.find(1,!0).line,e=null;var r=Tr(i),o=r?r[0].level%2?Ao(i):Eo(i):i.text.length;return as(null==e?kr(i):e,o)}function Io(t,e,n){var i=t[0].level;return e==i?!0:n==i?!1:n>e}function No(t,e){_a=null;for(var n,i=0;i<t.length;++i){var r=t[i];if(r.from<e&&r.to>e)return i;if(r.from==e||r.to==e){if(null!=n)return Io(t,r.level,t[n].level)?(r.from!=r.to&&(_a=n),i):(r.from!=r.to&&(_a=i),n);n=i}}return n}function jo(t,e,n,i){if(!i)return e+n;do e+=n;while(e>0&&lo(t.text.charAt(e)));return e}function Do(t,e,n,i){var r=Tr(t);if(!r)return Oo(t,e,n,i);for(var o=No(r,e),s=r[o],a=jo(t,e,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return No(r,a)==o?a:(s=r[o+=n],n>0==s.level%2?s.to:s.from);if(s=r[o+=n],!s)return null;a=n>0==s.level%2?jo(t,s.to,-1,i):jo(t,s.from,1,i)}}function Oo(t,e,n,i){var r=e+n;if(i)for(;r>0&&lo(t.text.charAt(r));)r+=n;return 0>r||r>t.text.length?null:r}var Fo=/gecko\/\d/i.test(navigator.userAgent),Ro=/MSIE \d/.test(navigator.userAgent),zo=Ro&&(null==document.documentMode||document.documentMode<8),Ho=Ro&&(null==document.documentMode||document.documentMode<9),Bo=Ro&&(null==document.documentMode||document.documentMode<10),Wo=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),Uo=Ro||Wo,qo=/WebKit\//.test(navigator.userAgent),Vo=qo&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Xo=/Chrome\//.test(navigator.userAgent),Yo=/Opera\//.test(navigator.userAgent),Go=/Apple Computer/.test(navigator.vendor),$o=/KHTML\//.test(navigator.userAgent),Ko=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Qo=/PhantomJS/.test(navigator.userAgent),Zo=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Jo=Zo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),ts=Zo||/Mac/.test(navigator.platform),es=/win/i.test(navigator.platform),ns=Yo&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);ns&&(ns=Number(ns[1])),ns&&ns>=15&&(Yo=!1,qo=!0);var is=ts&&(Vo||Yo&&(null==ns||12.11>ns)),rs=Fo||Uo&&!Ho,os=!1,ss=!1,as=t.Pos=function(t,e){return this instanceof as?(this.line=t,void(this.ch=e)):new as(t,e)},ls=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch};X.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(0!=ls(n.anchor,i.anchor)||0!=ls(n.head,i.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Y(U(this.ranges[e].anchor),U(this.ranges[e].head));return new X(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(ls(e,i.from())>=0&&ls(t,i.to())<=0)return n}return-1}},Y.prototype={from:function(){return V(this.anchor,this.head)},to:function(){return q(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var cs,us,hs,ds={left:0,right:0,top:0,bottom:0},ps=0,fs=0,ms=0,gs=null;Uo?gs=-.53:Fo?gs=15:Xo?gs=-.7:Go&&(gs=-1/3);var vs,ys=null,bs=t.changeEnd=function(t){return t.text?as(t.from.line+t.text.length-1,to(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),fn(this),hn(this)},setOption:function(t,e){var n=this.options,i=n[t];(n[t]!=e||"mode"==t)&&(n[t]=e,ws.hasOwnProperty(t)&&Qe(this,ws[t])(this,e,i))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](t)},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||"string"!=typeof e[n]&&e[n].name==t)return e.splice(n,1),!0},addOverlay:Ze(function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,nn(this)}),removeOverlay:Ze(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void nn(this)}}),indentLine:Ze(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),J(this.doc,t)&&ci(this,t,e,n)}),indentSelection:Ze(function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(ci(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&ai(this));else{var o=Math.max(n,r.from().line),s=r.to();n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var a=o;n>a;++a)ci(this,a,t)}}}),getTokenAt:function(t,e){var n=this.doc;t=Q(n,t);for(var i=we(this,t.line,e),r=this.doc.mode,o=br(n,t.line),s=new Ds(o.text,this.options.tabSize);s.pos<t.ch&&!s.eol();){s.start=s.pos;var a=tr(r,s,i)}return{start:s.start,end:s.pos,string:s.current(),type:a||null,state:i}},getTokenTypeAt:function(t){t=Q(this.doc,t);var e,n=ir(this,br(this.doc,t.line)),i=0,r=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}i=s+1}}var a=e?e.indexOf("cm-overlay "):-1;return 0>a?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!Ms.hasOwnProperty(e))return Ms;var i=Ms[e],r=this.getModeAt(t);if("string"==typeof r[e])i[r[e]]&&n.push(i[r[e]]);else if(r[e])for(var o=0;o<r[e].length;o++){var s=i[r[e][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&-1==eo(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(t,e){var n=this.doc;return t=K(n,null==t?n.first+n.size-1:t),we(this,t+1,e)},cursorCoords:function(t,e){var n,i=this.doc.sel.primary();return n=null==t?i.head:"object"==typeof t?Q(this.doc,t):t?i.from():i.to(),Be(this,n,e||"page")},charCoords:function(t,e){return He(this,Q(this.doc,t),e||"page")},coordsChar:function(t,e){return t=ze(this,t,e||"page"),qe(this,t.left,t.top)},lineAtHeight:function(t,e){return t=ze(this,{top:t,left:0},e||"page").top,Sr(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n=!1,i=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>i&&(t=i,n=!0);var r=br(this.doc,t);return Re(this,r,{top:0,left:0},e||"page").top+(n?this.doc.height-Cr(r):0)},defaultTextHeight:function(){return Xe(this.display)},defaultCharWidth:function(){return Ye(this.display)},setGutterMarker:Ze(function(t,e,n){return ui(this,t,"gutter",function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&ao(i)&&(t.gutterMarkers=null),!0})}),clearGutter:Ze(function(t){var e=this,n=e.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,rn(e,i,"gutter"),ao(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),addLineClass:Ze(function(t,e,n){return ui(this,t,"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"wrapClass";if(t[i]){if(new RegExp("(?:^|\\s)"+n+"(?:$|\\s)").test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:Ze(function(t,e,n){return ui(this,t,"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"wrapClass",r=t[i];if(!r)return!1;if(null==n)t[i]=null;else{var o=r.match(new RegExp("(?:^|\\s+)"+n+"(?:$|\\s+)"));if(!o)return!1;var s=o.index+o[0].length;t[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Ze(function(t,e,n){return $i(this,t,e,n)}),removeLineWidget:function(t){t.clear()},lineInfo:function(t){if("number"==typeof t){if(!J(this.doc,t))return null;var e=t;if(t=br(this.doc,t),!t)return null}else{var e=kr(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o=this.display;t=Be(this,Q(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",o.sizer.appendChild(e),"over"==i)s=t.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),n&&ri(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:Ze(On),triggerOnKeyPress:Ze(zn),triggerOnKeyUp:Ze(Rn),execCommand:function(t){return Ps.hasOwnProperty(t)?Ps[t](this):void 0},findPosH:function(t,e,n,i){var r=1;0>e&&(r=-1,e=-e);for(var o=0,s=Q(this.doc,t);e>o&&(s=di(this.doc,s,r,n,i),!s.hitSide);++o);return s},moveH:Ze(function(t,e){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?di(n.doc,i.head,t,e,n.options.rtlMoveVisually):0>t?i.from():i.to()},oa)}),deleteH:Ze(function(t,e){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):hi(this,function(n){var r=di(i,n.head,t,e,!1);return 0>t?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(t,e,n,i){var r=1,o=i;0>e&&(r=-1,e=-e);for(var s=0,a=Q(this.doc,t);e>s;++s){var l=Be(this,a,"div");if(null==o?o=l.left:l.left=o,a=pi(this,l,r,n),a.hitSide)break}return a},moveV:Ze(function(t,e){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return 0>t?s.from():s.to();var a=Be(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=pi(n,a,t,e);return"page"==e&&s==i.sel.primary()&&si(n,null,He(n,l,"div").top-a.top),l},oa),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?vo(this.display.cursorDiv,"CodeMirror-overwrite"):go(this.display.cursorDiv,"CodeMirror-overwrite"),Js(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return fo()==this.display.input},scrollTo:Ze(function(t,e){(null!=t||null!=e)&&li(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller,e=ea;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-e,width:t.scrollWidth-e,clientHeight:t.clientHeight-e,clientWidth:t.clientWidth-e}},scrollIntoView:Ze(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:as(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)li(this),this.curOp.scrollToPos=t;else{var n=oi(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Ze(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&je(this),this.curOp.forceUpdate=!0,Js(this,"refresh",this)}),operation:function(t){return Ke(this,t)},refresh:Ze(function(){var t=this.display.cachedTextHeight;nn(this),this.curOp.forceUpdate=!0,De(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),h(this),(null==t||Math.abs(t-Xe(this.display))>.5)&&s(this),Js(this,"refresh",this)}),swapDoc:Ze(function(t){var e=this.doc;return e.cm=null,yr(this,t),De(this),pn(this),this.scrollTo(t.scrollLeft,t.scrollTop),Vr(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Kr(t);var xs=t.defaults={},ws=t.optionHandlers={},_s=t.Init={toString:function(){return"CodeMirror.Init"}};mi("value","",function(t,e){t.setValue(e)},!0),mi("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),mi("indentUnit",2,n,!0),mi("indentWithTabs",!1),mi("smartIndent",!0),mi("tabSize",4,function(t){i(t),De(t),nn(t)},!0),mi("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(t,e){t.options.specialChars=new RegExp(e.source+(e.test("	")?"":"|	"),"g"),t.refresh()},!0),mi("specialCharPlaceholder",ar,function(t){t.refresh()},!0),mi("electricChars",!0),mi("rtlMoveVisually",!es),mi("wholeLineUpdateBefore",!0),mi("theme","default",function(t){l(t),c(t)},!0),mi("keyMap","default",a),mi("extraKeys",null),mi("lineWrapping",!1,r,!0),mi("gutters",[],function(t){f(t.options),c(t)},!0),mi("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?w(t.display)+"px":"0",t.refresh()},!0),mi("coverGutterNextToScrollbar",!1,g,!0),mi("lineNumbers",!1,function(t){f(t.options),c(t)},!0),mi("firstLineNumber",1,c,!0),mi("lineNumberFormatter",function(t){return t},c,!0),mi("showCursorWhenSelecting",!1,fe,!0),mi("resetSelectionOnContextMenu",!0),mi("readOnly",!1,function(t,e){"nocursor"==e?(Bn(t),t.display.input.blur(),t.display.disabled=!0):(t.display.disabled=!1,e||pn(t))}),mi("disableInput",!1,function(t,e){e||pn(t)},!0),mi("dragDrop",!0),mi("cursorBlinkRate",530),mi("cursorScrollMargin",0),mi("cursorHeight",1),mi("workTime",100),mi("workDelay",100),mi("flattenSpans",!0,i,!0),mi("addModeClass",!1,i,!0),mi("pollInterval",100),mi("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),mi("historyEventDelay",1250),mi("viewportMargin",10,function(t){t.refresh()},!0),mi("maxHighlightLength",1e4,i,!0),mi("moveInputWithCursor",!0,function(t,e){e||(t.display.inputDiv.style.top=t.display.inputDiv.style.left=0)}),mi("tabindex",null,function(t,e){t.display.input.tabIndex=e||""}),mi("autofocus",null);var ks=t.modes={},Ss=t.mimeModes={};
t.defineMode=function(e,n){if(t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2){n.dependencies=[];for(var i=2;i<arguments.length;++i)n.dependencies.push(arguments[i])}ks[e]=n},t.defineMIME=function(t,e){Ss[t]=e},t.resolveMode=function(e){if("string"==typeof e&&Ss.hasOwnProperty(e))e=Ss[e];else if(e&&"string"==typeof e.name&&Ss.hasOwnProperty(e.name)){var n=Ss[e.name];"string"==typeof n&&(n={name:n}),e=io(n,e),e.name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),i=ks[n.name];if(!i)return t.getMode(e,"text/plain");var r=i(e,n);if(Cs.hasOwnProperty(n.name)){var o=Cs[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var Cs=t.modeExtensions={};t.extendMode=function(t,e){var n=Cs.hasOwnProperty(t)?Cs[t]:Cs[t]={};ro(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){qs.prototype[t]=e},t.defineOption=mi;var Ts=[];t.defineInitHook=function(t){Ts.push(t)};var Ms=t.helpers={};t.registerHelper=function(e,n,i){Ms.hasOwnProperty(e)||(Ms[e]=t[e]={_global:[]}),Ms[e][n]=i},t.registerGlobalHelper=function(e,n,i,r){t.registerHelper(e,n,r),Ms[e]._global.push({pred:i,val:r})};var As=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},Es=t.startState=function(t,e,n){return t.startState?t.startState(e,n):!0};t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var Ps=t.commands={selectAll:function(t){t.setSelection(as(t.firstLine(),0),as(t.lastLine()),ia)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),ia)},killLine:function(t){hi(t,function(e){if(e.empty()){var n=br(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:as(e.head.line+1,0)}:{from:e.head,to:as(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){hi(t,function(e){return{from:as(e.from().line,0),to:Q(t.doc,as(e.to().line+1,0))}})},delLineLeft:function(t){hi(t,function(t){return{from:as(t.from().line,0),to:t.from()}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(as(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(as(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return Po(t,e.head.line)},oa)},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){var n=Po(t,e.head.line),i=t.getLineHandle(n.line),r=Tr(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=e.head.line==n.line&&e.head.ch<=o&&e.head.ch;return as(n.line,s?0:o)}return n},oa)},goLineEnd:function(t){t.extendSelectionsBy(function(e){return Lo(t,e.head.line)},oa)},goLineRight:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},oa)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},oa)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=sa(t.getLine(o.line),o.ch,i);e.push(new Array(i-s%i+1).join(" "))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Ke(t,function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){var r=e[i].head,o=br(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new as(r.line,r.ch-1)),r.ch>0)r=new as(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),as(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=br(t.doc,r.line-1).text;s&&t.replaceRange(o.charAt(0)+"\n"+s.charAt(s.length-1),as(r.line-1,s.length-1),as(r.line,1),"+transpose")}n.push(new Y(r,r))}t.setSelections(n)})},newlineAndIndent:function(t){Ke(t,function(){for(var e=t.listSelections().length,n=0;e>n;n++){var i=t.listSelections()[n];t.replaceRange("\n",i.anchor,i.head,"+input"),t.indentLine(i.from().line+1,null,!0),ai(t)}})},toggleOverwrite:function(t){t.toggleOverwrite()}},Ls=t.keyMap={};Ls.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ls.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ls.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]},Ls.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Ls["default"]=ts?Ls.macDefault:Ls.pcDefault;var Is=t.lookupKey=function(t,e,n){function i(e){e=gi(e);var r=e[t];if(r===!1)return"stop";if(null!=r&&n(r))return!0;if(e.nofallthrough)return"stop";var o=e.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return i(o);for(var s=0;s<o.length;++s){var a=i(o[s]);if(a)return a}return!1}for(var r=0;r<e.length;++r){var o=i(e[r]);if(o)return"stop"!=o}},Ns=t.isModifierKey=function(t){var e=wa[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},js=t.keyName=function(t,e){if(Yo&&34==t.keyCode&&t["char"])return!1;var n=wa[t.keyCode];return null==n||t.altGraphKey?!1:(t.altKey&&(n="Alt-"+n),(is?t.metaKey:t.ctrlKey)&&(n="Ctrl-"+n),(is?t.ctrlKey:t.metaKey)&&(n="Cmd-"+n),!e&&t.shiftKey&&(n="Shift-"+n),n)};t.fromTextArea=function(e,n){function i(){e.value=c.getValue()}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var r=fo();n.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}if(e.form&&(Qs(e.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=e.form,s=o.submit;try{var a=o.submit=function(){i(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}e.style.display="none";var c=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return c.save=i,c.getTextArea=function(){return e},c.toTextArea=function(){i(),e.parentNode.removeChild(c.getWrapperElement()),e.style.display="",e.form&&(Zs(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=s))},c};var Ds=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Ds.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=sa(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?sa(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return sa(this.string,null,this.tabSize)-(this.lineStart?sa(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&e!==!1&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return r(o)==r(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var Os=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t};Kr(Os),Os.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Ge(t),$r(this,"clear")){var n=this.find();n&&Vr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=ki(s.markedSpans,this);t&&!this.collapsed?rn(t,kr(s),"text"):t&&(null!=a.to&&(r=kr(s)),null!=a.from&&(i=kr(s))),s.markedSpans=Si(s.markedSpans,a),null==a.from&&this.collapsed&&!Vi(this.doc,s)&&t&&_r(s,Xe(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=Bi(this.lines[o]),c=d(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&nn(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&he(t.doc)),t&&Vr(t,"markerCleared",t,this),e&&$e(t),this.parent&&this.parent.clear()}},Os.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],s=ki(o.markedSpans,this);if(null!=s.from&&(n=as(e?o:kr(o),s.from),-1==t))return n;if(null!=s.to&&(i=as(e?o:kr(o),s.to),1==t))return i}return n&&{from:n,to:i}},Os.prototype.changed=function(){var t=this.find(-1,!0),e=this,n=this.doc.cm;t&&n&&Ke(n,function(){var i=t.line,r=kr(t.line),o=Ee(n,r);if(o&&(Ne(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Vi(e.doc,i)&&null!=e.height){var s=e.height;e.height=null;var a=Gi(e)-s;a&&_r(i,i.height+a)}})},Os.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=eo(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Os.prototype.detachLine=function(t){if(this.lines.splice(eo(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var Fs=0,Rs=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};Kr(Rs),Rs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Vr(this,"clear")}},Rs.prototype.find=function(t,e){return this.primary.find(t,e)};var zs=t.LineWidget=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.cm=t,this.node=e};Kr(zs),zs.prototype.clear=function(){var t=this.cm,e=this.line.widgets,n=this.line,i=kr(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=Gi(this);Ke(t,function(){Yi(t,n,-o),rn(t,i,"widget"),_r(n,Math.max(0,n.height-o))})}},zs.prototype.changed=function(){var t=this.height,e=this.cm,n=this.line;this.height=null;var i=Gi(this)-t;i&&Ke(e,function(){e.curOp.forceUpdate=!0,Yi(e,n,i),_r(n,n.height+i)})};var Hs=t.Line=function(t,e,n){this.text=t,Ni(this,e),this.height=n?n(this):1};Kr(Hs),Hs.prototype.lineNo=function(){return kr(this)};var Bs={},Ws={};mr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;i>n;++n){var r=this.lines[n];this.height-=r.height,Qi(r),Vr(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;i>t;++t)if(n(this.lines[t]))return!0}},gr.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(r>t){var o=Math.min(e,r-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof mr))){var a=[];this.collapse(a),this.children=[new mr(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>=t){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var s=r.lines.splice(r.lines.length-25,25),a=new mr(s);r.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new gr(e);if(t.parent){t.size-=n.size,t.height-=n.height;var i=eo(t.parent.children,t);t.parent.children.splice(i+1,0,n)}else{var r=new gr(t.children);r.parent=t,t.children=[r,n],t=r}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>t){var s=Math.min(e,o-t);if(r.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var Us=0,qs=t.Doc=function(t,e,n){if(!(this instanceof qs))return new qs(t,e,n);null==n&&(n=0),gr.call(this,[new mr([new Hs("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=as(n,0);this.sel=$(i),this.history=new Mr(null),this.id=++Us,this.modeOption=e,"string"==typeof t&&(t=ya(t)),fr(this,{from:i,to:i,text:t}),le(this,$(i),ia)};qs.prototype=io(gr.prototype,{constructor:qs,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=wr(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:Je(function(t){var e=as(this.first,0),n=this.first+this.size-1;$n(this,{from:e,to:as(n,br(this,n).text.length),text:ya(t),origin:"setValue"},!0),le(this,$(e))}),replaceRange:function(t,e,n,i){e=Q(this,e),n=n?Q(this,n):e,ei(this,t,e,n,i)},getRange:function(t,e,n){var i=xr(this,Q(this,t),Q(this,e));return n===!1?i:i.join(n||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){return J(this,t)?br(this,t):void 0},getLineNumber:function(t){return kr(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=br(this,t)),Bi(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return Q(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||t===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Je(function(t,e,n){oe(this,Q(this,"number"==typeof t?as(t,e||0):t),null,n)}),setSelection:Je(function(t,e,n){oe(this,Q(this,t),Q(this,e||t),n)}),extendSelection:Je(function(t,e,n){ne(this,Q(this,t),e&&Q(this,e),n)}),extendSelections:Je(function(t,e){ie(this,te(this,t,e))}),extendSelectionsBy:Je(function(t,e){ie(this,no(this.sel.ranges,t),e)}),setSelections:Je(function(t,e,n){if(t.length){for(var i=0,r=[];i<t.length;i++)r[i]=new Y(Q(this,t[i].anchor),Q(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),le(this,G(r,e),n)}}),addSelection:Je(function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new Y(Q(this,t),Q(this,e||t))),le(this,G(i,i.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=xr(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return t===!1?e:e.join(t||"\n")},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=xr(this,n[i].from(),n[i].to());t!==!1&&(r=r.join(t||"\n")),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:Je(function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:ya(t[o]),origin:n}}for(var a=e&&"end"!=e&&Yn(this,i,e),o=i.length-1;o>=0;o--)$n(this,i[o]);a?ae(this,a):this.cm&&ai(this.cm)}),undo:Je(function(){Qn(this,"undo")}),redo:Je(function(){Qn(this,"redo")}),undoSelection:Je(function(){Qn(this,"undo",!0)}),redoSelection:Je(function(){Qn(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new Mr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Rr(this.history.done),undone:Rr(this.history.undone)}},setHistory:function(t){var e=this.history=new Mr(this.history.maxGeneration);e.done=Rr(t.done.slice(0),null,!0),e.undone=Rr(t.undone.slice(0),null,!0)},markText:function(t,e,n){return vi(this,Q(this,t),Q(this,e),n,"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared};return t=Q(this,t),vi(this,t,t,n,"bookmark")},findMarksAt:function(t){t=Q(this,t);var e=[],n=br(this,t.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=Q(this,t),e=Q(this,e);var i=[],r=t.line;return this.iter(t.line,e.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];r==t.line&&t.ch>l.to||null==l.from&&r!=t.line||r==e.line&&l.from>e.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)}),t},posFromIndex:function(t){var e,n=this.first;return this.iter(function(i){var r=i.text.length+1;return r>t?(e=t,!0):(t-=r,void++n)}),Q(this,as(n,e))},indexFromPos:function(t){t=Q(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new qs(wr(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new qs(wr(this,e,n),t.mode||this.modeOption,e);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],xi(i,bi(this)),i},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==e){this.linked.splice(n,1),e.unlinkDoc(this),wi(bi(this));break}}if(e.history==this.history){var r=[e.id];vr(e,function(t){r.push(t.id)},!0),e.history=new Mr(null),e.history.done=Rr(this.history.done,r),e.history.undone=Rr(this.history.undone,r)}},iterLinkedDocs:function(t){vr(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),qs.prototype.eachLine=qs.prototype.iter;var Vs="iter insert remove copy getEditor".split(" ");for(var Xs in qs.prototype)qs.prototype.hasOwnProperty(Xs)&&eo(Vs,Xs)<0&&(t.prototype[Xs]=function(t){return function(){return t.apply(this.doc,arguments)}}(qs.prototype[Xs]));Kr(qs);var Ys,Gs=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},$s=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Ks=t.e_stop=function(t){Gs(t),$s(t)},Qs=t.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={}),r=i[e]||(i[e]=[]);r.push(n)}},Zs=t.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var i=t._handlers&&t._handlers[e];if(!i)return;for(var r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}}},Js=t.signal=function(t,e){var n=t._handlers&&t._handlers[e];if(n)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},ta=0,ea=30,na=t.Pass={toString:function(){return"CodeMirror.Pass"}},ia={scroll:!1},ra={origin:"*mouse"},oa={origin:"+move"};Qr.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var sa=t.countColumn=function(t,e,n,i,r){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=i||0,s=r||0;;){var a=t.indexOf("	",o);if(0>a||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}},aa=[""],la=function(t){t.select()};Zo?la=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:Uo&&(la=function(t){try{t.select()}catch(e){}}),[].indexOf&&(eo=function(t,e){return t.indexOf(e)}),[].map&&(no=function(t,e){return t.map(e)});var ca,ua=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ha=t.isWordChar=function(t){return/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||ua.test(t))},da=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;ca=document.createRange?function(t,e,n){var i=document.createRange();return i.setEnd(t,n),i.setStart(t,e),i}:function(t,e,n){var i=document.body.createTextRange();return i.moveToElementText(t.parentNode),i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i},Ro&&(fo=function(){try{return document.activeElement}catch(t){return document.body}});var pa,fa,ma,ga=!1,va=function(){if(Ho)return!1;var t=co("div");return"draggable"in t||"dragDrop"in t}(),ya=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;i>=e;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},ba=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},xa=function(){var t=co("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),wa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};t.keyNames=wa,function(){for(var t=0;10>t;t++)wa[t+48]=wa[t+96]=String(t);for(var t=65;90>=t;t++)wa[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)wa[t+111]=wa[t+63235]="F"+t}();var _a,ka=function(){function t(t){return 247>=t?n.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1773>=t?i.charAt(t-1536):t>=1774&&2220>=t?"r":t>=8192&&8203>=t?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i,u=n.length,h=[],d=0;u>d;++d)h.push(i=t(n.charCodeAt(d)));for(var d=0,p=c;u>d;++d){var i=h[d];"m"==i?h[d]=p:p=i}for(var d=0,f=c;u>d;++d){var i=h[d];"1"==i&&"r"==f?h[d]="n":s.test(i)&&(f=i,"r"==i&&(h[d]="R"))}for(var d=1,p=h[0];u-1>d;++d){var i=h[d];"+"==i&&"1"==p&&"1"==h[d+1]?h[d]="1":","!=i||p!=h[d+1]||"1"!=p&&"n"!=p||(h[d]=p),p=i}for(var d=0;u>d;++d){var i=h[d];if(","==i)h[d]="N";else if("%"==i){for(var m=d+1;u>m&&"%"==h[m];++m);for(var g=d&&"!"==h[d-1]||u>m&&"1"==h[m]?"1":"N",v=d;m>v;++v)h[v]=g;d=m-1}}for(var d=0,f=c;u>d;++d){var i=h[d];"L"==f&&"1"==i?h[d]="L":s.test(i)&&(f=i)}for(var d=0;u>d;++d)if(o.test(h[d])){for(var m=d+1;u>m&&o.test(h[m]);++m);for(var y="L"==(d?h[d-1]:c),b="L"==(u>m?h[m]:c),g=y||b?"L":"R",v=d;m>v;++v)h[v]=g;d=m-1}for(var x,w=[],d=0;u>d;)if(a.test(h[d])){var _=d;for(++d;u>d&&a.test(h[d]);++d);w.push(new e(0,_,d))}else{var k=d,S=w.length;for(++d;u>d&&"L"!=h[d];++d);for(var v=k;d>v;)if(l.test(h[v])){v>k&&w.splice(S,0,new e(1,k,v));var C=v;for(++v;d>v&&l.test(h[v]);++v);w.splice(S,0,new e(2,C,v)),k=v}else++v;d>k&&w.splice(S,0,new e(1,k,d))}return 1==w[0].level&&(x=n.match(/^\s+/))&&(w[0].from=x[0].length,w.unshift(new e(0,0,x[0].length))),1==to(w).level&&(x=n.match(/\s+$/))&&(to(w).to-=x[0].length,w.push(new e(0,u-x[0].length,u))),w[0].level!=to(w).level&&w.push(new e(w[0].level,u,u)),w}}();return t.version="4.2.0",t}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t){for(var e={},n=t.split(" "),i=0;i<n.length;++i)e[n[i]]=!0;return e}function n(t,e){if(!e.startOfLine)return!1;for(;;){if(!t.skipTo("\\")){t.skipToEnd(),e.tokenize=null;break}if(t.next(),t.eol()){e.tokenize=n;break}}return"meta"}function i(t,e){if(t.backUp(1),t.match(/(R|u8R|uR|UR|LR)/)){var n=t.match(/"(.{0,16})\(/);return n?(e.cpp11RawStringDelim=n[1],e.tokenize=o,o(t,e)):!1}return t.match(/(u8|u|U|L)/)?t.match(/["']/,!1)?"string":!1:(t.next(),!1)}function r(t,e){for(var n;null!=(n=t.next());)if('"'==n&&!t.eat('"')){e.tokenize=null;break}return"string"}function o(t,e){var n=new RegExp(".*?\\)"+e.cpp11RawStringDelim+'"'),i=t.match(n);return i?e.tokenize=null:t.skipToEnd(),"string"}function s(e,n){function i(t){if(t)for(var e in t)t.hasOwnProperty(e)&&r.push(e)}"string"==typeof e&&(e=[e]);var r=[];i(n.keywords),i(n.builtin),i(n.atoms),r.length&&(n.helperType=e[0],t.registerHelper("hintWords",e[0],r));for(var o=0;o<e.length;++o)t.defineMIME(e[o],n)}t.defineMode("clike",function(e,n){function i(t,e){var n=t.next();if(v[n]){var i=v[n](t,e);if(i!==!1)return i}if('"'==n||"'"==n)return e.tokenize=r(n),e.tokenize(t,e);if(/[\[\]{}\(\),;\:\.]/.test(n))return c=n,null;if(/\d/.test(n))return t.eatWhile(/[\w\.]/),"number";if("/"==n){if(t.eat("*"))return e.tokenize=o,o(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(b.test(n))return t.eatWhile(b),"operator";t.eatWhile(/[\w\$_]/);var s=t.current();return p.propertyIsEnumerable(s)?(m.propertyIsEnumerable(s)&&(c="newstatement"),"keyword"):f.propertyIsEnumerable(s)?(m.propertyIsEnumerable(s)&&(c="newstatement"),"builtin"):g.propertyIsEnumerable(s)?"atom":"variable"}function r(t){return function(e,n){for(var i,r=!1,o=!1;null!=(i=e.next());){if(i==t&&!r){o=!0;break}r=!r&&"\\"==i}return(o||!r&&!y)&&(n.tokenize=null),"string"}}function o(t,e){for(var n,i=!1;n=t.next();){if("/"==n&&i){e.tokenize=null;break}i="*"==n}return"comment"}function s(t,e,n,i,r){this.indented=t,this.column=e,this.type=n,this.align=i,this.prev=r}function a(t,e,n){var i=t.indented;return t.context&&"statement"==t.context.type&&(i=t.context.indented),t.context=new s(i,e,n,null,t.context)}function l(t){var e=t.context.type;return(")"==e||"]"==e||"}"==e)&&(t.indented=t.context.indented),t.context=t.context.prev}var c,u=e.indentUnit,h=n.statementIndentUnit||u,d=n.dontAlignCalls,p=n.keywords||{},f=n.builtin||{},m=n.blockKeywords||{},g=n.atoms||{},v=n.hooks||{},y=n.multiLineStrings,b=/[+\-*&%=<>!?|\/]/;return{startState:function(t){return{tokenize:null,context:new s((t||0)-u,0,"top",!1),indented:0,startOfLine:!0}},token:function(t,e){var n=e.context;if(t.sol()&&(null==n.align&&(n.align=!1),e.indented=t.indentation(),e.startOfLine=!0),t.eatSpace())return null;c=null;var r=(e.tokenize||i)(t,e);if("comment"==r||"meta"==r)return r;if(null==n.align&&(n.align=!0),";"!=c&&":"!=c&&","!=c||"statement"!=n.type)if("{"==c)a(e,t.column(),"}");else if("["==c)a(e,t.column(),"]");else if("("==c)a(e,t.column(),")");else if("}"==c){for(;"statement"==n.type;)n=l(e);for("}"==n.type&&(n=l(e));"statement"==n.type;)n=l(e)}else c==n.type?l(e):(("}"==n.type||"top"==n.type)&&";"!=c||"statement"==n.type&&"newstatement"==c)&&a(e,t.column(),"statement");else l(e);return e.startOfLine=!1,r},indent:function(e,n){if(e.tokenize!=i&&null!=e.tokenize)return t.Pass;var r=e.context,o=n&&n.charAt(0);"statement"==r.type&&"}"==o&&(r=r.prev);var s=o==r.type;return"statement"==r.type?r.indented+("{"==o?0:h):!r.align||d&&")"==r.type?")"!=r.type||s?r.indented+(s?0:u):r.indented+h:r.column+(s?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var a="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";s(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:e(a),blockKeywords:e("case do else for if switch while struct"),atoms:e("null"),hooks:{"#":n},modeProps:{fold:["brace","include"]}}),s(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:e(a+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),blockKeywords:e("catch class do else finally for if struct switch try while"),atoms:e("true false null"),hooks:{"#":n,u:i,U:i,L:i,R:i},modeProps:{fold:["brace","include"]}}),s("text/x-java",{name:"clike",keywords:e("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:e("catch class do else finally for if switch try while"),atoms:e("true false null"),hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),s("text/x-csharp",{name:"clike",keywords:e("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:e("catch class do else finally for foreach if struct switch try while"),builtin:e("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:e("true false null"),hooks:{"@":function(t,e){return t.eat('"')?(e.tokenize=r,r(t,e)):(t.eatWhile(/[\w\$_]/),"meta")}}}),s("text/x-scala",{name:"clike",keywords:e("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),blockKeywords:e("catch class do else finally for forSome if match switch try while"),atoms:e("true false null"),hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"}}}),s(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:e("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadowconst attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:e("for while do if else struct"),builtin:e("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smootstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:e("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragColor gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":n},modeProps:{fold:["brace","include"]}})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=!0;return e}function n(t,e){for(var n,i=!1;null!=(n=t.next());){if(i&&"/"==n){e.tokenize=null;break}i="*"==n}return["comment","comment"]}function i(t,e){return t.skipTo("-->")?(t.match("-->"),e.tokenize=null):t.skipToEnd(),["comment","comment"]}t.defineMode("css",function(e,n){function i(t,e){return p=e,t}function r(t,e){var n=t.next();if(g[n]){var r=g[n](t,e);if(r!==!1)return r}return"@"==n?(t.eatWhile(/[\w\\\-]/),i("def",t.current())):"="==n||("~"==n||"|"==n)&&t.eat("=")?i(null,"compare"):'"'==n||"'"==n?(e.tokenize=o(n),e.tokenize(t,e)):"#"==n?(t.eatWhile(/[\w\\\-]/),i("atom","hash")):"!"==n?(t.match(/^\s*\w*/),i("keyword","important")):/\d/.test(n)||"."==n&&t.eat(/\d/)?(t.eatWhile(/[\w.%]/),i("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?i(null,"select-op"):"."==n&&t.match(/^-?[_a-z][_a-z0-9-]*/i)?i("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&t.match("rl(")?(t.backUp(1),e.tokenize=s,i("property","word")):/[\w\\\-]/.test(n)?(t.eatWhile(/[\w\\\-]/),i("property","word")):i(null,null):/[\d.]/.test(t.peek())?(t.eatWhile(/[\w.%]/),i("number","unit")):t.match(/^\w+-/)?i("meta","meta"):void 0}function o(t){return function(e,n){for(var r,o=!1;null!=(r=e.next());){if(r==t&&!o){")"==t&&e.backUp(1);break}o=!o&&"\\"==r}return(r==t||!o&&")"!=t)&&(n.tokenize=null),i("string","string")}}function s(t,e){return t.next(),e.tokenize=t.match(/\s*[\"\')]/,!1)?null:o(")"),i(null,"(")}function a(t,e,n){this.type=t,this.indent=e,this.prev=n}function l(t,e,n){return t.context=new a(n,e.indentation()+m,t.context),n}function c(t){return t.context=t.context.prev,t.context.type}function u(t,e,n){return C[n.context.type](t,e,n)}function h(t,e,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return u(t,e,n)}function d(t){var e=t.current().toLowerCase();f=_.hasOwnProperty(e)?"atom":w.hasOwnProperty(e)?"keyword":"variable"}n.propertyKeywords||(n=t.resolveMode("text/css"));var p,f,m=e.indentUnit,g=n.tokenHooks,v=n.mediaTypes||{},y=n.mediaFeatures||{},b=n.propertyKeywords||{},x=n.nonStandardPropertyKeywords||{},w=n.colorKeywords||{},_=n.valueKeywords||{},k=n.fontProperties||{},S=n.allowNested,C={};return C.top=function(t,e,n){if("{"==t)return l(n,e,"block");if("}"==t&&n.context.prev)return c(n);if("@media"==t)return l(n,e,"media");if("@font-face"==t)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(t))return"keyframes";if(t&&"@"==t.charAt(0))return l(n,e,"at");if("hash"==t)f="builtin";else if("word"==t)f="tag";else{if("variable-definition"==t)return"maybeprop";if("interpolation"==t)return l(n,e,"interpolation");if(":"==t)return"pseudo";if(S&&"("==t)return l(n,e,"parens")}return n.context.type},C.block=function(t,e,n){if("word"==t){var i=e.current().toLowerCase();return b.hasOwnProperty(i)?(f="property","maybeprop"):x.hasOwnProperty(i)?(f="string-2","maybeprop"):S?(f=e.match(/^\s*:/,!1)?"property":"tag","block"):(f+=" error","maybeprop")}return"meta"==t?"block":S||"hash"!=t&&"qualifier"!=t?C.top(t,e,n):(f="error","block")},C.maybeprop=function(t,e,n){return":"==t?l(n,e,"prop"):u(t,e,n)},C.prop=function(t,e,n){if(";"==t)return c(n);if("{"==t&&S)return l(n,e,"propBlock");if("}"==t||"{"==t)return h(t,e,n);if("("==t)return l(n,e,"parens");if("hash"!=t||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e.current())){if("word"==t)d(e);else if("interpolation"==t)return l(n,e,"interpolation")}else f+=" error";return"prop"},C.propBlock=function(t,e,n){return"}"==t?c(n):"word"==t?(f="property","maybeprop"):n.context.type},C.parens=function(t,e,n){return"{"==t||"}"==t?h(t,e,n):")"==t?c(n):"("==t?l(n,e,"parens"):("word"==t&&d(e),"parens")},C.pseudo=function(t,e,n){return"word"==t?(f="variable-3",n.context.type):u(t,e,n)},C.media=function(t,e,n){if("("==t)return l(n,e,"media_parens");if("}"==t)return h(t,e,n);if("{"==t)return c(n)&&l(n,e,S?"block":"top");if("word"==t){var i=e.current().toLowerCase();f="only"==i||"not"==i||"and"==i?"keyword":v.hasOwnProperty(i)?"attribute":y.hasOwnProperty(i)?"property":"error"}return n.context.type},C.media_parens=function(t,e,n){return")"==t?c(n):"{"==t||"}"==t?h(t,e,n,2):C.media(t,e,n)},C.font_face_before=function(t,e,n){return"{"==t?l(n,e,"font_face"):u(t,e,n)},C.font_face=function(t,e,n){return"}"==t?c(n):"word"==t?(f=k.hasOwnProperty(e.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},C.keyframes=function(t,e,n){return"word"==t?(f="variable","keyframes"):"{"==t?l(n,e,"top"):u(t,e,n)},C.at=function(t,e,n){return";"==t?c(n):"{"==t||"}"==t?h(t,e,n):("word"==t?f="tag":"hash"==t&&(f="builtin"),"at")},C.interpolation=function(t,e,n){return"}"==t?c(n):"{"==t||";"==t?h(t,e,n):("variable"!=t&&(f="error"),"interpolation")},{startState:function(t){return{tokenize:null,state:"top",context:new a("top",t||0,null)}},token:function(t,e){if(!e.tokenize&&t.eatSpace())return null;var n=(e.tokenize||r)(t,e);return n&&"object"==typeof n&&(p=n[1],n=n[0]),f=n,e.state=C[e.state](p,t,e),f},indent:function(t,e){var n=t.context,i=e&&e.charAt(0),r=n.indent;return"prop"!=n.type||"}"!=i&&")"!=i||(n=n.prev),!n.prev||("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"font_face"!=n.type)&&(")"!=i||"parens"!=n.type&&"media_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"media"!=n.type)||(r=n.indent-m,n=n.prev),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=e(r),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],a=e(s),l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],c=e(l),u=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],u=e(u),h=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],d=e(h),p=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],f=e(p),m=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],g=e(m),v=r.concat(s).concat(l).concat(u).concat(h).concat(p);t.registerHelper("hintWords","css",v),t.defineMIME("text/css",{mediaTypes:o,mediaFeatures:a,propertyKeywords:c,nonStandardPropertyKeywords:u,colorKeywords:d,valueKeywords:f,fontProperties:g,tokenHooks:{"<":function(t,e){return t.match("!--")?(e.tokenize=i,i(t,e)):!1},"/":function(t,e){return t.eat("*")?(e.tokenize=n,n(t,e)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,propertyKeywords:c,nonStandardPropertyKeywords:u,colorKeywords:d,valueKeywords:f,fontProperties:g,allowNested:!0,tokenHooks:{"/":function(t,e){return t.eat("/")?(t.skipToEnd(),["comment","comment"]):t.eat("*")?(e.tokenize=n,n(t,e)):["operator","operator"]},":":function(t){return t.match(/\s*{/)?[null,"{"]:!1},$:function(t){return t.match(/^[\w-]+/),t.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(t){return t.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,propertyKeywords:c,nonStandardPropertyKeywords:u,colorKeywords:d,valueKeywords:f,fontProperties:g,allowNested:!0,tokenHooks:{"/":function(t,e){return t.eat("/")?(t.skipToEnd(),["comment","comment"]):t.eat("*")?(e.tokenize=n,n(t,e)):["operator","operator"]},"@":function(t){return t.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(t.eatWhile(/[\w\\\-]/),t.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("htmlembedded",function(e,n){function i(t,e){return t.match(a,!1)?(e.token=r,o.token(t,e.scriptState)):s.token(t,e.htmlState)}function r(t,e){return t.match(l,!1)?(e.token=i,s.token(t,e.htmlState)):o.token(t,e.scriptState)}var o,s,a=n.scriptStartRegex||/^<%/i,l=n.scriptEndRegex||/^%>/i;return{startState:function(){return o=o||t.getMode(e,n.scriptingModeSpec),s=s||t.getMode(e,"htmlmixed"),{token:n.startOpen?r:i,htmlState:t.startState(s),scriptState:t.startState(o)}},token:function(t,e){return e.token(t,e)},indent:function(t,e){return t.token==i?s.indent(t.htmlState,e):o.indent?o.indent(t.scriptState,e):void 0},copyState:function(e){return{token:e.token,htmlState:t.copyState(s,e.htmlState),scriptState:t.copyState(o,e.scriptState)}},innerMode:function(t){return t.token==r?{state:t.scriptState,mode:o}:{state:t.htmlState,mode:s}}}},"htmlmixed"),t.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),t.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),t.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),t.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("htmlmixed",function(e,n){function i(t,e){var n=e.htmlState.tagName,i=a.token(t,e.htmlState);if("script"==n&&/\btag\b/.test(i)&&">"==t.current()){var r=t.string.slice(Math.max(0,t.pos-100),t.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);r=r?r[1]:"",r&&/[\"\']/.test(r.charAt(0))&&(r=r.slice(1,r.length-1));for(var u=0;u<c.length;++u){var h=c[u];if("string"==typeof h.matches?r==h.matches:h.matches.test(r)){h.mode&&(e.token=o,e.localMode=h.mode,e.localState=h.mode.startState&&h.mode.startState(a.indent(e.htmlState,"")));break}}}else"style"==n&&/\btag\b/.test(i)&&">"==t.current()&&(e.token=s,e.localMode=l,e.localState=l.startState(a.indent(e.htmlState,"")));return i}function r(t,e,n){var i,r=t.current(),o=r.search(e);return o>-1?t.backUp(r.length-o):(i=r.match(/<\/?$/))&&(t.backUp(r.length),t.match(e,!1)||t.match(r)),n}function o(t,e){return t.match(/^<\/\s*script\s*>/i,!1)?(e.token=i,e.localState=e.localMode=null,i(t,e)):r(t,/<\/\s*script\s*>/,e.localMode.token(t,e.localState))}function s(t,e){return t.match(/^<\/\s*style\s*>/i,!1)?(e.token=i,e.localState=e.localMode=null,i(t,e)):r(t,/<\/\s*style\s*>/,l.token(t,e.localState))}var a=t.getMode(e,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),l=t.getMode(e,"css"),c=[],u=n&&n.scriptTypes;if(c.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:t.getMode(e,"javascript")}),u)for(var h=0;h<u.length;++h){var d=u[h];c.push({matches:d.matches,mode:d.mode&&t.getMode(e,d.mode)})}return c.push({matches:/./,mode:t.getMode(e,"text/plain")}),{startState:function(){var t=a.startState();return{token:i,localMode:null,localState:null,htmlState:t}},copyState:function(e){if(e.localState)var n=t.copyState(e.localMode,e.localState);return{token:e.token,localMode:e.localMode,localState:n,htmlState:t.copyState(a,e.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(e,n){return!e.localMode||/^\s*<\//.test(n)?a.indent(e.htmlState,n):e.localMode.indent?e.localMode.indent(e.localState,n):t.Pass},innerMode:function(t){return{state:t.localState||t.htmlState,mode:t.localMode||a}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("javascript",function(e,n){function i(t){for(var e,n=!1,i=!1;null!=(e=t.next());){if(!n){if("/"==e&&!i)return;"["==e?i=!0:i&&"]"==e&&(i=!1)}n=!n&&"\\"==e}}function r(t,e,n){return pe=t,fe=n,e}function o(t,e){var n=t.next();if('"'==n||"'"==n)return e.tokenize=s(n),e.tokenize(t,e);if("."==n&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return r("number","number");if("."==n&&t.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return r(n);if("="==n&&t.eat(">"))return r("=>","operator");if("0"==n&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),r("number","number");if(/\d/.test(n))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==n)return t.eat("*")?(e.tokenize=a,a(t,e)):t.eat("/")?(t.skipToEnd(),r("comment","comment")):"operator"==e.lastType||"keyword c"==e.lastType||"sof"==e.lastType||/^[\[{}\(,;:]$/.test(e.lastType)?(i(t),t.eatWhile(/[gimy]/),r("regexp","string-2")):(t.eatWhile(we),r("operator","operator",t.current()));if("`"==n)return e.tokenize=l,l(t,e);if("#"==n)return t.skipToEnd(),r("error","error");if(we.test(n))return t.eatWhile(we),r("operator","operator",t.current());t.eatWhile(/[\w\$_]/);var o=t.current(),c=xe.propertyIsEnumerable(o)&&xe[o];return c&&"."!=e.lastType?r(c.type,c.style,o):r("variable","variable",o)}function s(t){return function(e,n){var i,s=!1;if(ve&&"@"==e.peek()&&e.match(_e))return n.tokenize=o,r("jsonld-keyword","meta");for(;null!=(i=e.next())&&(i!=t||s);)s=!s&&"\\"==i;return s||(n.tokenize=o),r("string","string")}}function a(t,e){for(var n,i=!1;n=t.next();){if("/"==n&&i){e.tokenize=o;break}i="*"==n}return r("comment","comment")}function l(t,e){for(var n,i=!1;null!=(n=t.next());){if(!i&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=o;break}i=!i&&"\\"==n}return r("quasi","string-2",t.current())}function c(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(0>n)){for(var i=0,r=!1,o=n-1;o>=0;--o){var s=t.string.charAt(o),a=ke.indexOf(s);if(a>=0&&3>a){if(!i){++o;break}if(0==--i)break}else if(a>=3&&6>a)++i;else if(/[$\w]/.test(s))r=!0;else if(r&&!i){++o;break}}r&&!i&&(e.fatArrowAt=o)}}function u(t,e,n,i,r,o){this.indented=t,this.column=e,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function h(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var i=t.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==e)return!0}function d(t,e,n,i,r){var o=t.cc;for(Ce.state=t,Ce.stream=r,Ce.marked=null,Ce.cc=o,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var s=o.length?o.pop():ye?_:w;if(s(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Ce.marked?Ce.marked:"variable"==n&&h(t,i)?"variable-2":e}}}function p(){for(var t=arguments.length-1;t>=0;t--)Ce.cc.push(arguments[t])}function f(){return p.apply(null,arguments),!0}function m(t){function e(e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}var i=Ce.state;if(i.context){if(Ce.marked="def",e(i.localVars))return;i.localVars={name:t,next:i.localVars}}else{if(e(i.globalVars))return;n.globalVars&&(i.globalVars={name:t,next:i.globalVars})}}function g(){Ce.state.context={prev:Ce.state.context,vars:Ce.state.localVars},Ce.state.localVars=Te}function v(){Ce.state.localVars=Ce.state.context.vars,Ce.state.context=Ce.state.context.prev}function y(t,e){var n=function(){var n=Ce.state,i=n.indented;"stat"==n.lexical.type&&(i=n.lexical.indented),n.lexical=new u(i,Ce.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function b(){var t=Ce.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function x(t){function e(n){return n==t?f():";"==t?p():f(e)}return e}function w(t,e){return"var"==t?f(y("vardef",e.length),U,x(";"),b):"keyword a"==t?f(y("form"),_,w,b):"keyword b"==t?f(y("form"),w,b):"{"==t?f(y("}"),H,b):";"==t?f():"if"==t?("else"==Ce.state.lexical.info&&Ce.state.cc[Ce.state.cc.length-1]==b&&Ce.state.cc.pop()(),f(y("form"),_,w,b,G)):"function"==t?f(te):"for"==t?f(y("form"),$,w,b):"variable"==t?f(y("stat"),N):"switch"==t?f(y("form"),_,y("}","switch"),x("{"),H,b,b):"case"==t?f(_,x(":")):"default"==t?f(x(":")):"catch"==t?f(y("form"),g,x("("),ee,x(")"),w,b,v):"module"==t?f(y("form"),g,oe,v,b):"class"==t?f(y("form"),ne,re,b):"export"==t?f(y("form"),se,b):"import"==t?f(y("form"),ae,b):p(y("stat"),_,x(";"),b)}function _(t){return S(t,!1)}function k(t){return S(t,!0)}function S(t,e){if(Ce.state.fatArrowAt==Ce.stream.start){var n=e?I:L;if("("==t)return f(g,y(")"),R(q,")"),b,x("=>"),n,v);if("variable"==t)return p(g,q,x("=>"),n,v)}var i=e?A:M;return Se.hasOwnProperty(t)?f(i):"function"==t?f(te,i):"keyword c"==t?f(e?T:C):"("==t?f(y(")"),C,de,x(")"),b,i):"operator"==t||"spread"==t?f(e?k:_):"["==t?f(y("]"),ue,b,i):"{"==t?z(D,"}",null,i):"quasi"==t?p(E,i):f()}function C(t){return t.match(/[;\}\)\],]/)?p():p(_)}function T(t){return t.match(/[;\}\)\],]/)?p():p(k)}function M(t,e){return","==t?f(_):A(t,e,!1)}function A(t,e,n){var i=0==n?M:A,r=0==n?_:k;return"=>"==e?f(g,n?I:L,v):"operator"==t?/\+\+|--/.test(e)?f(i):"?"==e?f(_,x(":"),r):f(r):"quasi"==t?p(E,i):";"!=t?"("==t?z(k,")","call",i):"."==t?f(j,i):"["==t?f(y("]"),C,x("]"),b,i):void 0:void 0}function E(t,e){return"quasi"!=t?p():"${"!=e.slice(e.length-2)?f(E):f(_,P)}function P(t){return"}"==t?(Ce.marked="string-2",Ce.state.tokenize=l,f(E)):void 0}function L(t){return c(Ce.stream,Ce.state),p("{"==t?w:_)}function I(t){return c(Ce.stream,Ce.state),p("{"==t?w:k)}function N(t){return":"==t?f(b,w):p(M,x(";"),b)}function j(t){return"variable"==t?(Ce.marked="property",f()):void 0}function D(t,e){if("variable"==t){if(Ce.marked="property","get"==e||"set"==e)return f(O)}else if("number"==t||"string"==t)Ce.marked=ve?"property":t+" property";else if("["==t)return f(_,x("]"),F);return Se.hasOwnProperty(t)?f(F):void 0}function O(t){return"variable"!=t?p(F):(Ce.marked="property",f(te))}function F(t){return":"==t?f(k):"("==t?p(te):void 0}function R(t,e){function n(i){if(","==i){var r=Ce.state.lexical;return"call"==r.info&&(r.pos=(r.pos||0)+1),f(t,n)}return i==e?f():f(x(e))}return function(i){return i==e?f():p(t,n)}}function z(t,e,n){for(var i=3;i<arguments.length;i++)Ce.cc.push(arguments[i]);return f(y(e,n),R(t,e),b)}function H(t){return"}"==t?f():p(w,H)}function B(t){return be&&":"==t?f(W):void 0}function W(t){return"variable"==t?(Ce.marked="variable-3",f()):void 0}function U(){return p(q,B,X,Y)}function q(t,e){return"variable"==t?(m(e),f()):"["==t?z(q,"]"):"{"==t?z(V,"}"):void 0}function V(t,e){return"variable"!=t||Ce.stream.match(/^\s*:/,!1)?("variable"==t&&(Ce.marked="property"),f(x(":"),q,X)):(m(e),f(X))}function X(t,e){return"="==e?f(k):void 0}function Y(t){return","==t?f(U):void 0}function G(t,e){return"keyword b"==t&&"else"==e?f(y("form","else"),w,b):void 0}function $(t){return"("==t?f(y(")"),K,x(")"),b):void 0}function K(t){return"var"==t?f(U,x(";"),Z):";"==t?f(Z):"variable"==t?f(Q):p(_,x(";"),Z)}function Q(t,e){return"in"==e||"of"==e?(Ce.marked="keyword",f(_)):f(M,Z)}function Z(t,e){return";"==t?f(J):"in"==e||"of"==e?(Ce.marked="keyword",f(_)):p(_,x(";"),J)}function J(t){")"!=t&&f(_)}function te(t,e){return"*"==e?(Ce.marked="keyword",f(te)):"variable"==t?(m(e),f(te)):"("==t?f(g,y(")"),R(ee,")"),b,w,v):void 0}function ee(t){return"spread"==t?f(ee):p(q,B)}function ne(t,e){return"variable"==t?(m(e),f(ie)):void 0}function ie(t,e){return"extends"==e?f(_):void 0}function re(t){return"{"==t?z(D,"}"):void 0}function oe(t,e){return"string"==t?f(w):"variable"==t?(m(e),f(ce)):void 0}function se(t,e){return"*"==e?(Ce.marked="keyword",f(ce,x(";"))):"default"==e?(Ce.marked="keyword",f(_,x(";"))):p(w)}function ae(t){return"string"==t?f():p(le,ce)}function le(t,e){return"{"==t?z(le,"}"):("variable"==t&&m(e),f())}function ce(t,e){return"from"==e?(Ce.marked="keyword",f(_)):void 0}function ue(t){return"]"==t?f():p(k,he)}function he(t){return"for"==t?p(de,x("]")):","==t?f(R(k,"]")):p(R(k,"]"))}function de(t){return"for"==t?f($,de):"if"==t?f(_,de):void 0}var pe,fe,me=e.indentUnit,ge=n.statementIndent,ve=n.jsonld,ye=n.json||ve,be=n.typescript,xe=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),i=t("keyword c"),r=t("operator"),o={type:"atom",style:"atom"},s={"if":t("if"),"while":e,"with":e,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"debugger":i,"var":t("var"),"const":t("var"),let:t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this"),module:t("module"),"class":t("class"),"super":t("atom"),"yield":i,"export":t("export"),"import":t("import"),"extends":i};if(be){var a={type:"variable",style:"variable-3"},l={"interface":t("interface"),"extends":t("extends"),constructor:t("constructor"),"public":t("public"),"private":t("private"),"protected":t("protected"),"static":t("static"),string:a,number:a,bool:a,any:a};for(var c in l)s[c]=l[c]}return s}(),we=/[+\-*&%=<>!?|~^]/,_e=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,ke="([{}])",Se={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Ce={state:null,column:null,marked:null,cc:null},Te={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(t){var e={tokenize:o,lastType:"sof",cc:[],lexical:new u((t||0)-me,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),c(t,e)),e.tokenize!=a&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==pe?n:(e.lastType="operator"!=pe||"++"!=fe&&"--"!=fe?pe:"incdec",d(e,n,pe,fe,t))},indent:function(e,i){if(e.tokenize==a)return t.Pass;if(e.tokenize!=o)return 0;var r=i&&i.charAt(0),s=e.lexical;if(!/^\s*else\b/.test(i))for(var l=e.cc.length-1;l>=0;--l){var c=e.cc[l];if(c==b)s=s.prev;else if(c!=G)break}"stat"==s.type&&"}"==r&&(s=s.prev),ge&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var u=s.type,h=r==u;return"vardef"==u?s.indented+("operator"==e.lastType||","==e.lastType?s.info+1:0):"form"==u&&"{"==r?s.indented:"form"==u?s.indented+me:"stat"==u?s.indented+("operator"==e.lastType||","==e.lastType?ge||me:0):"switch"!=s.info||h||0==n.doubleIndentSwitch?s.align?s.column+(h?0:1):s.indented+(h?0:me):s.indented+(/^(?:case|default)\b/.test(i)?me:2*me)},electricChars:":{}",blockCommentStart:ye?null:"/*",blockCommentEnd:ye?null:"*/",lineComment:ye?null:"//",fold:"brace",helperType:ye?"json":"javascript",jsonldMode:ve,jsonMode:ye}}),t.registerHelper("wordChars","javascript",/[\\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../clike/clike")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../clike/clike"],t):t(CodeMirror)}(function(t){"use strict";function e(t){for(var e={},n=t.split(" "),i=0;i<n.length;++i)e[n[i]]=!0;return e}function n(t){return function(e,n){return e.match(t)?n.tokenize=null:e.skipToEnd(),"string"}}function i(t){return 0==t.length?r:function(e,n){for(var o=t[0],s=0;s<o.length;s++)if(e.match(o[s][0]))return n.tokenize=i(t.slice(1)),o[s][1];return n.tokenize=r,"string"}}function r(t,e){var n,r=!1,o=!1;if('"'==t.current())return"string";if(t.match("${",!1)||t.match("{$",!1))return e.tokenize=null,"string";if(t.match(/\$[a-zA-Z_][a-zA-Z0-9_]*/))return t.match("[",!1)&&(e.tokenize=i([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]])),t.match(/\-\>\w/,!1)&&(e.tokenize=i([[["->",null]],[[/[\w]+/,"variable"]]])),"variable-2";for(;!(t.eol()||t.match("{$",!1)||t.match(/(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1)&&!r);){if(n=t.next(),!r&&'"'==n){o=!0;break}r=!r&&"\\"==n}return o&&(e.tokenize=null,e.phpEncapsStack.pop()),"string"}var o="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally",s="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",a="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once";t.registerHelper("hintWords","php",[o,s,a].join(" ").split(" ")),t.registerHelper("wordChars","php",/[\\w$]/);var l={name:"clike",helperType:"php",keywords:e(o),blockKeywords:e("catch do else elseif for foreach if switch try while finally"),atoms:e(s),builtin:e(a),multiLineStrings:!0,hooks:{$:function(t){return t.eatWhile(/[\w\$_]/),"variable-2"},"<":function(t,e){return t.match(/<</)?(t.eatWhile(/[\w\.]/),e.tokenize=n(t.current().slice(3)),e.tokenize(t,e)):!1},"#":function(t){for(;!t.eol()&&!t.match("?>",!1);)t.next();return"comment"},"/":function(t){if(t.eat("/")){for(;!t.eol()&&!t.match("?>",!1);)t.next();return"comment"}return!1},'"':function(t,e){return e.phpEncapsStack||(e.phpEncapsStack=[]),e.phpEncapsStack.push(0),e.tokenize=r,e.tokenize(t,e)},"{":function(t,e){return e.phpEncapsStack&&e.phpEncapsStack.length>0&&e.phpEncapsStack[e.phpEncapsStack.length-1]++,!1},"}":function(t,e){return e.phpEncapsStack&&e.phpEncapsStack.length>0&&0==--e.phpEncapsStack[e.phpEncapsStack.length-1]&&(e.tokenize=r),!1}}};t.defineMode("php",function(e,n){function i(t,e){var n=e.curMode==o;if(t.sol()&&e.pending&&'"'!=e.pending&&"'"!=e.pending&&(e.pending=null),n)return n&&null==e.php.tokenize&&t.match("?>")?(e.curMode=r,e.curState=e.html,"meta"):o.token(t,e.curState);if(t.match(/^<\?\w*/))return e.curMode=o,e.curState=e.php,"meta";if('"'==e.pending||"'"==e.pending){for(;!t.eol()&&t.next()!=e.pending;);var i="string"}else if(e.pending&&t.pos<e.pending.end){t.pos=e.pending.end;var i=e.pending.style}else var i=r.token(t,e.curState);e.pending&&(e.pending=null);var s,a=t.current(),l=a.search(/<\?/);return-1!=l&&(e.pending="string"==i&&(s=a.match(/[\'\"]$/))&&!/\?>/.test(a)?s[0]:{end:t.pos,style:i},t.backUp(a.length-l)),i}var r=t.getMode(e,"text/html"),o=t.getMode(e,l);return{startState:function(){var e=t.startState(r),i=t.startState(o);return{html:e,php:i,curMode:n.startOpen?o:r,curState:n.startOpen?i:e,pending:null}},copyState:function(e){var n,i=e.html,s=t.copyState(r,i),a=e.php,l=t.copyState(o,a);return n=e.curMode==r?s:l,{html:s,php:l,curMode:e.curMode,curState:n,pending:e.pending}},token:i,indent:function(t,e){return t.curMode!=o&&/^\s*<\//.test(e)||t.curMode==o&&/^\?>/.test(e)?r.indent(t.html,e):t.curMode.indent(t.curState,e)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(t){return{state:t.curState,mode:t.curMode}}}},"htmlmixed","clike"),t.defineMIME("application/x-httpd-php","php"),t.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),t.defineMIME("text/x-php",l)}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("ruby",function(t){function e(t){for(var e={},n=0,i=t.length;i>n;++n)e[t[n]]=!0;return e}function n(t,e,n){return n.tokenize.push(t),t(e,n)}function i(t,e){if(c=null,t.sol()&&t.match("=begin")&&t.eol())return e.tokenize.push(l),"comment";if(t.eatSpace())return null;var i,r=t.next();if("`"==r||"'"==r||'"'==r)return n(s(r,"string",'"'==r||"`"==r),t,e);if("/"!=r||t.eol()||" "==t.peek()){if("%"==r){var o="string",u=!0;t.eat("s")?o="atom":t.eat(/[WQ]/)?o="string":t.eat(/[r]/)?o="string-2":t.eat(/[wxq]/)&&(o="string",u=!1);var h=t.eat(/[^\w\s]/);return h?(p.propertyIsEnumerable(h)&&(h=p[h]),n(s(h,o,u,!0),t,e)):"operator"}if("#"==r)return t.skipToEnd(),"comment";if("<"==r&&(i=t.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return n(a(i[1]),t,e);if("0"==r)return t.eatWhile(t.eat("x")?/[\da-fA-F]/:t.eat("b")?/[01]/:/[0-7]/),"number";if(/\d/.test(r))return t.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==r){for(;t.match(/^\\[CM]-/););return t.eat("\\")?t.eatWhile(/\w/):t.next(),"string"}return":"==r?t.eat("'")?n(s("'","atom",!1),t,e):t.eat('"')?n(s('"',"atom",!0),t,e):t.eat(/[\<\>]/)?(t.eat(/[\<\>]/),"atom"):t.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":t.eat(/[a-zA-Z$@_]/)?(t.eatWhile(/[\w]/),t.eat(/[\?\!\=]/),"atom"):"operator":"@"==r&&t.match(/^@?[a-zA-Z_]/)?(t.eat("@"),t.eatWhile(/[\w]/),"variable-2"):"$"==r?(t.eat(/[a-zA-Z_]/)?t.eatWhile(/[\w]/):t.eat(/\d/)?t.eat(/\d/):t.next(),"variable-3"):/[a-zA-Z_]/.test(r)?(t.eatWhile(/[\w]/),t.eat(/[\?\!]/),t.eat(":")?"atom":"ident"):"|"!=r||!e.varList&&"{"!=e.lastTok&&"do"!=e.lastTok?/[\(\)\[\]{}\\;]/.test(r)?(c=r,null):"-"==r&&t.eat(">")?"arrow":/[=+\-\/*:\.^%<>~|]/.test(r)?(t.eatWhile(/[=+\-\/*:\.^%<>~|]/),"operator"):null:(c="|",null)}return t.eat("=")?"operator":n(s(r,"string-2",!0),t,e)}function r(){var t=1;return function(e,n){if("}"==e.peek()){if(t--,0==t)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n)}else"{"==e.peek()&&t++;return i(e,n)}}function o(){var t=!1;return function(e,n){return t?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n)):(t=!0,i(e,n))}}function s(t,e,n,i){return function(s,a){var l,c=!1;for("read-quoted-paused"===a.context.type&&(a.context=a.context.prev,s.eat("}"));null!=(l=s.next());){if(l==t&&(i||!c)){a.tokenize.pop();break}if(n&&"#"==l&&!c){if(s.eat("{")){"}"==t&&(a.context={prev:a.context,type:"read-quoted-paused"}),a.tokenize.push(r());break}if(/[@\$]/.test(s.peek())){a.tokenize.push(o());break}}c=!c&&"\\"==l}return e}}function a(t){return function(e,n){return e.match(t)?n.tokenize.pop():e.skipToEnd(),"string"}}function l(t,e){return t.sol()&&t.match("=end")&&t.eol()&&e.tokenize.pop(),t.skipToEnd(),"comment"}var c,u=e(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),h=e(["def","class","case","for","while","module","then","catch","loop","proc","begin"]),d=e(["end","until"]),p={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[i],indented:0,context:{type:"top",indented:-t.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(t,e){t.sol()&&(e.indented=t.indentation());var n,i=e.tokenize[e.tokenize.length-1](t,e);if("ident"==i){var r=t.current();i=u.propertyIsEnumerable(t.current())?"keyword":/^[A-Z]/.test(r)?"tag":"def"==e.lastTok||"class"==e.lastTok||e.varList?"def":"variable",h.propertyIsEnumerable(r)?n="indent":d.propertyIsEnumerable(r)?n="dedent":"if"!=r&&"unless"!=r||t.column()!=t.indentation()?"do"==r&&e.context.indented<e.indented&&(n="indent"):n="indent"}return(c||i&&"comment"!=i)&&(e.lastTok=r||c||i),"|"==c&&(e.varList=!e.varList),"indent"==n||/[\(\[\{]/.test(c)?e.context={prev:e.context,type:c||i,indented:e.indented}:("dedent"==n||/[\)\]\}]/.test(c))&&e.context.prev&&(e.context=e.context.prev),t.eol()&&(e.continuedLine="\\"==c||"operator"==i),i},indent:function(e,n){if(e.tokenize[e.tokenize.length-1]!=i)return 0;var r=n&&n.charAt(0),o=e.context,s=o.type==p[r]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return o.indented+(s?0:t.indentUnit)+(e.continuedLine?t.indentUnit:0)},electricChars:"}de",lineComment:"#"}}),t.defineMIME("text/x-ruby","ruby")}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("xml",function(e,n){function i(t,e){function n(n){return e.tokenize=n,n(t,e)}var i=t.next();if("<"==i)return t.eat("!")?t.eat("[")?t.match("CDATA[")?n(s("atom","]]>")):null:t.match("--")?n(s("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(a(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=s("meta","?>"),"meta"):(k=t.eat("/")?"closeTag":"openTag",e.tokenize=r,"tag bracket");if("&"==i){var o;return o=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),o?"atom":"error"}return t.eatWhile(/[^&<]/),null}function r(t,e){var n=t.next();if(">"==n||"/"==n&&t.eat(">"))return e.tokenize=i,k=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return k="equals",null;if("<"==n){e.tokenize=i,e.state=h,e.tagName=e.tagStart=null;var r=e.tokenize(t,e);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(e.tokenize=o(n),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function o(t){var e=function(e,n){for(;!e.eol();)if(e.next()==t){n.tokenize=r;break}return"string"};return e.isInAttribute=!0,e}function s(t,e){return function(n,r){for(;!n.eol();){if(n.match(e)){r.tokenize=i;break}n.next()}return t}}function a(t){return function(e,n){for(var r;null!=(r=e.next());){if("<"==r)return n.tokenize=a(t+1),n.tokenize(e,n);if(">"==r){if(1==t){n.tokenize=i;break}return n.tokenize=a(t-1),n.tokenize(e,n)}}return"meta"}}function l(t,e,n){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=n,(C.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function c(t){t.context&&(t.context=t.context.prev)}function u(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!C.contextGrabbers.hasOwnProperty(n)||!C.contextGrabbers[n].hasOwnProperty(e))return;c(t)}}function h(t,e,n){return"openTag"==t?(n.tagStart=e.column(),d):"closeTag"==t?p:h}function d(t,e,n){return"word"==t?(n.tagName=e.current(),S="tag",g):(S="error",d)}function p(t,e,n){if("word"==t){var i=e.current();return n.context&&n.context.tagName!=i&&C.implicitlyClosed.hasOwnProperty(n.context.tagName)&&c(n),n.context&&n.context.tagName==i?(S="tag",f):(S="tag error",m)}return S="error",m}function f(t,e,n){return"endTag"!=t?(S="error",f):(c(n),h)}function m(t,e,n){return S="error",f(t,e,n)}function g(t,e,n){if("word"==t)return S="attribute",v;if("endTag"==t||"selfcloseTag"==t){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||C.autoSelfClosers.hasOwnProperty(i)?u(n,i):(u(n,i),n.context=new l(n,i,r==n.indented)),h}return S="error",g}function v(t,e,n){return"equals"==t?y:(C.allowMissing||(S="error"),g(t,e,n))}function y(t,e,n){return"string"==t?b:"word"==t&&C.allowUnquoted?(S="string",g):(S="error",g(t,e,n))}function b(t,e,n){return"string"==t?b:g(t,e,n)}var x=e.indentUnit,w=n.multilineTagIndentFactor||1,_=n.multilineTagIndentPastTag;null==_&&(_=!0);var k,S,C=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},T=n.alignCDATA;return{startState:function(){return{tokenize:i,state:h,indented:0,tagName:null,tagStart:null,context:null}},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;k=null;var n=e.tokenize(t,e);return(n||k)&&"comment"!=n&&(S=null,e.state=e.state(k||n,t,e),S&&(n="error"==S?n+" error":S)),n},indent:function(e,n,o){var s=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+x;if(s&&s.noIndent)return t.Pass;if(e.tokenize!=r&&e.tokenize!=i)return o?o.match(/^(\s*)/)[0].length:0;if(e.tagName)return _?e.tagStart+e.tagName.length+2:e.tagStart+x*w;if(T&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;s;){if(s.tagName==a[2]){s=s.prev;break}if(!C.implicitlyClosed.hasOwnProperty(s.tagName))break;s=s.prev}else if(a)for(;s;){var l=C.contextGrabbers[s.tagName];if(!l||!l.hasOwnProperty(a[2]))break;s=s.prev}for(;s&&!s.startOfLine;)s=s.prev;return s?s.indent+x:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t){return new RegExp("^(("+t.join(")|(")+"))\\b")}function n(t){return t.scopes[t.scopes.length-1]}var i=e(["and","or","not","is","in"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],s={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},a={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None"]};t.registerHelper("hintWords","python",r.concat(o)),t.defineMode("python",function(l,c){function u(t,e){if(t.sol()&&"py"==n(e).type){var i=n(e).offset;if(t.eatSpace()){var r=t.indentation();return r>i?p(t,e,"py"):i>r&&f(t,e)&&(e.errorToken=!0),null}var o=h(t,e);return i>0&&f(t,e)&&(o+=" "+g),o}return h(t,e)}function h(t,e){if(t.eatSpace())return null;var n=t.peek();if("#"==n)return t.skipToEnd(),"comment";if(t.match(/^[0-9\.]/,!1)){var r=!1;if(t.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(r=!0),t.match(/^\d+\.\d*/)&&(r=!0),t.match(/^\.\d+/)&&(r=!0),r)return t.eat(/J/i),"number";var o=!1;if(t.match(/^0x[0-9a-f]+/i)&&(o=!0),t.match(/^0b[01]+/i)&&(o=!0),t.match(/^0o[0-7]+/i)&&(o=!0),t.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(t.eat(/J/i),o=!0),t.match(/^0(?![\dx])/i)&&(o=!0),o)return t.eat(/L/i),"number"}return t.match(T)?(e.tokenize=d(t.current()),e.tokenize(t,e)):t.match(w)||t.match(x)?null:t.match(b)||t.match(v)||t.match(i)?"operator":t.match(y)?null:t.match(M)?"keyword":t.match(A)?"builtin":t.match(/^(self|cls)\b/)?"variable-2":t.match(_)?"def"==e.lastToken||"class"==e.lastToken?"def":"variable":(t.next(),g)}function d(t){function e(e,r){for(;!e.eol();)if(e.eatWhile(/[^'"\\]/),e.eat("\\")){if(e.next(),n&&e.eol())return i}else{if(e.match(t))return r.tokenize=u,i;e.eat(/['"]/)}if(n){if(c.singleLineStringErrors)return g;r.tokenize=u}return i}for(;"rub".indexOf(t.charAt(0).toLowerCase())>=0;)t=t.substr(1);var n=1==t.length,i="string";return e.isString=!0,e}function p(t,e,i){var r=0,o=null;if("py"==i)for(;"py"!=n(e).type;)e.scopes.pop();r=n(e).offset+("py"==i?l.indentUnit:k),"py"==i||t.match(/^(\s|#.*)*$/,!1)||(o=t.column()+1),e.scopes.push({offset:r,type:i,align:o})}function f(t,e){for(var i=t.indentation();n(e).offset>i;){if("py"!=n(e).type)return!0;e.scopes.pop()}return n(e).offset!=i}function m(t,e){var i=e.tokenize(t,e),r=t.current();if("."==r)return i=t.match(_,!1)?null:g,null==i&&"meta"==e.lastStyle&&(i="meta"),i;if("@"==r)return t.match(_,!1)?"meta":g;"variable"!=i&&"builtin"!=i||"meta"!=e.lastStyle||(i="meta"),("pass"==r||"return"==r)&&(e.dedent+=1),"lambda"==r&&(e.lambda=!0),":"!=r||e.lambda||"py"!=n(e).type||p(t,e,"py");var o=1==r.length?"[({".indexOf(r):-1;if(-1!=o&&p(t,e,"])}".slice(o,o+1)),o="])}".indexOf(r),-1!=o){if(n(e).type!=r)return g;e.scopes.pop()}return e.dedent>0&&t.eol()&&"py"==n(e).type&&(e.scopes.length>1&&e.scopes.pop(),e.dedent-=1),i}var g="error",v=c.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),y=c.singleDelimiters||new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),b=c.doubleOperators||new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),x=c.doubleDelimiters||new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),w=c.tripleDelimiters||new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),_=c.identifiers||new RegExp("^[_A-Za-z][_A-Za-z0-9]*"),k=c.hangingIndent||l.indentUnit,S=r,C=o;if(void 0!=c.extra_keywords&&(S=S.concat(c.extra_keywords)),void 0!=c.extra_builtins&&(C=C.concat(c.extra_builtins)),c.version&&3==parseInt(c.version,10)){S=S.concat(a.keywords),C=C.concat(a.builtins);var T=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{S=S.concat(s.keywords),C=C.concat(s.builtins);var T=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var M=e(S),A=e(C),E={startState:function(t){return{tokenize:u,scopes:[{offset:t||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(t,e){var n=e.errorToken;n&&(e.errorToken=!1);var i=m(t,e);e.lastStyle=i;var r=t.current();return r&&i&&(e.lastToken=r),t.eol()&&e.lambda&&(e.lambda=!1),n?i+" "+g:i},indent:function(e,i){if(e.tokenize!=u)return e.tokenize.isString?t.Pass:0;var r=n(e),o=i&&i.charAt(0)==r.type;return null!=r.align?r.align-(o?1:0):r.offset-(o?l.indentUnit:0)},lineComment:"#",fold:"indent"};return E}),t.defineMIME("text/x-python","python");var l=function(t){return t.split(" ")};t.defineMIME("text/x-cython",{name:"python",extra_keywords:l("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){for(var n=-1,r=1,o=t.split(i),s=0;s<o.length;s++){for(var a=1;a<=o[s].length;a++)r===e&&(n=s),r++;r++}var l=["",""];return 0===e?(l[1]=o[0],l[0]=null):(l[1]=o[n],l[0]=o[n-1]),l}var n=[" ","\\+","\\-","\\(","\\)","\\*","/",":","\\?","\\<","\\>"," "],i=new RegExp(n.join("|"),"g");t.defineMode("swift",function(){var t=["class","deinit","enum","extension","func","import","init","let","protocol","static","struct","subscript","typealias","var","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","unowned(safe)","unowned(unsafe)","weak","willSet"],n=["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil"],r=["0","1","2","3","4","5","6","7","8","9"],o=["+","-","/","*","%","=","|","&","<",">","[","]"],s=[";",",",".","(",")"],a=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,l=/^[_A-Za-z$][_A-Za-z$0-9]*/,c=/^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/,u=/^(\/{3}|\/)/;return{startState:function(){return{prev:!1,func:!1,op:!1,string:!1,escape:!1,inner:!1,comment:!1,num_left:0,num_right:0,word:"",back:0,back_type:!1}},token:function(h,d){var p;if(h.eatSpace())return null;if(p=h.next(),d.string)return d.escape?(d.escape=!1,"string"):'"'!==p&&"'"!==p||d.escape?"\\"===p&&"("===h.peek()?(d.inner=!0,d.string=!1,"keyword"):"\\"===p&&"("!==h.peek()?(d.escape=!0,d.string=!0,"string"):"string":(d.string=!1,"string");if(d.comment)return"*"===p&&"/"===h.peek()?(d.prev="*","comment"):"/"===p&&"*"===d.prev?(d.prev=!1,d.comment=!1,"comment"):"comment";if("/"===p){if("/"===h.peek())return h.skipToEnd(),"comment";if("*"===h.peek())return d.comment=!0,"comment"}if("("===p&&d.inner)return d.num_left++,null;if(")"===p&&d.inner)return d.num_right++,d.num_left===d.num_right&&(d.inner=!1,d.string=!0),null;var f=e(h.string,h.pos),m=f[1],g=f[0];if(-1!==o.indexOf(p+""))return"operator";if(-1!==s.indexOf(p+""))return"punctuation";if("undefined"!=typeof m){if("#"===m.charAt(0))return null;if(-1!==n.indexOf(m))return"atom";if(-1!==r.indexOf(m))return"number";if((-1!==r.indexOf(m.charAt(0)+"")||o.indexOf(m.charAt(0)+""))&&-1!==r.indexOf(p))return"number";if(-1!==t.indexOf(m)||-1!==t.indexOf(m.split(i)[0]))return"keyword";if("@"===m.charAt(0))return"def";if("var"===g||"let"===g)return"def"}if("'"===p||'"'===p)return d.string=!0,"string";if("("===p&&d.inner&&d.num_left++,")"===p&&d.inner)return d.num_right++,d.num_left===d.num_right&&(d.inner=!1,d.string=!0),null;if(h.match(/^-?[0-9\.]/,!1)){var v=!1;if(h.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(v=!0),h.match(/^-?\d+\.\d*/)&&(v=!0),h.match(/^-?\.\d+/)&&(v=!0),v)return"."==h.peek()&&h.backUp(1),"number";var y=!1;if(h.match(/^-?0x[0-9a-f]+/i)&&(y=!0),h.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(y=!0),h.match(/^-?0(?![\dx])/i)&&(y=!0),y)return"number"}if(h.match(u)){if("/"!=h.current()||h.match(/^.*\//,!1))return"string";h.backUp(1)}return h.match(a)?"punctuation":h.match(l)?"variable":h.match(c)?"property":void 0}}}),t.defineMIME("text/swift","swift")}),function(t){function e(t,e){return"function"==typeof t?t.call(e):t}function n(t){for(;t=t.parentNode;)if(t==document)return!0;return!1}function i(e,n){this.$element=t(e),this.options=n,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var i=this.tip();i.find(".tipsy-inner")[this.options.html?"html":"text"](n),i[0].className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var r,o=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),s=i[0].offsetWidth,a=i[0].offsetHeight,l=e(this.options.gravity,this.$element[0]);switch(l.charAt(0)){case"n":r={top:o.top+o.height+this.options.offset,left:o.left+o.width/2-s/2};break;case"s":r={top:o.top-a-this.options.offset,left:o.left+o.width/2-s/2};break;case"e":r={top:o.top+o.height/2-a/2,left:o.left-s-this.options.offset};break;case"w":r={top:o.top+o.height/2-a/2,left:o.left+o.width+this.options.offset}}2==l.length&&(r.left="w"==l.charAt(1)?o.left+o.width/2-15:o.left+o.width/2-s+15),i.css(r).addClass("tipsy-"+l),i.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+l.charAt(0),this.options.className&&i.addClass(e(this.options.className,this.$element[0])),this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):i.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,n=this.options;this.fixTitle();var t,n=this.options;return"string"==typeof n.title?t=e.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(t=n.title.call(e[0])),t=(""+t).replace(/(^\s*|\s*$)/,""),t||n.fallback},tip:function(){return this.$tip||(this.$tip=t('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(e){function n(n){var r=t.data(n,"tipsy");return r||(r=new i(n,t.fn.tipsy.elementOptions(n,e)),t.data(n,"tipsy",r)),r}function r(){var t=n(this);t.hoverState="in",0==e.delayIn?t.show():(t.fixTitle(),setTimeout(function(){"in"==t.hoverState&&t.show()},e.delayIn))}function o(){var t=n(this);t.hoverState="out",0==e.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},e.delayOut)}if(e===!0)return this.data("tipsy");if("string"==typeof e){var s=this.data("tipsy");return s&&s[e](),this}if(e=t.extend({},t.fn.tipsy.defaults,e),e.live||this.each(function(){n(this)}),"manual"!=e.trigger){var a=e.live?"live":"bind",l="hover"==e.trigger?"mouseenter":"focus",c="hover"==e.trigger?"mouseleave":"blur";this[a](l,r)[a](c,o)}return this},t.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},t.fn.tipsy.revalidate=function(){t(".tipsy").each(function(){var e=t.data(this,"tipsy-pointee");e&&n(e)||t(this).remove()})},t.fn.tipsy.elementOptions=function(e,n){return t.metadata?t.extend({},n,t(e).metadata()):n},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"},t.fn.tipsy.autoBounds=function(e,n){return function(){var i={ns:n[0],ew:n.length>1?n[1]:!1},r=t(document).scrollTop()+e,o=t(document).scrollLeft()+e,s=t(this);return s.offset().top<r&&(i.ns="n"),s.offset().left<o&&(i.ew="w"),t(window).width()+t(document).scrollLeft()-s.offset().left<e&&(i.ew="e"),t(window).height()+t(document).scrollTop()-s.offset().top<e&&(i.ns="s"),i.ns+(i.ew?i.ew:"")}}}(jQuery),function(){var t,e,n,i,r,o,s;r=null,e=function(){return null!=r?r:$("#peek").data("request-id")},i=function(){return $("#peek").length},s=function(t){var n,i;for(n in t.data)for(i in t.data[n])$("[data-defer-to="+n+"-"+i+"]").text(t.data[n][i]);return $(document).trigger("peek:render",[e(),t])},n=function(){return $("#peek .peek-tooltip, #peek .tooltip").each(function(){var t,e;return t=$(this),e=t.hasClass("rightwards")||t.hasClass("leftwards")?$.fn.tipsy.autoWE:$.fn.tipsy.autoNS,t.tipsy({gravity:e})})},o=function(t){var e;if(!$(t.target).is(":input"))return 96!==t.which||t.metaKey?void 0:(e=$("#peek"),e.hasClass("disabled")?(e.removeClass("disabled"),document.cookie="peek=true; path=/"):(e.addClass("disabled"),document.cookie="peek=false; path=/"))},t=function(){return $.ajax("/peek/results",{data:{request_id:e()},success:function(t){return s(t)},error:function(){}})},$(document).on("keypress",o),$(document).on("peek:update",n),$(document).on("peek:update",t),$(document).on("pjax:end",function(t,e){return null!=e&&(r=e.getResponseHeader("X-Request-Id")),i()?$(this).trigger("peek:update"):void 0}),$(document).on("page:change",function(){return i()?$(this).trigger("peek:update"):void 0}),$(function(){return i()?$(this).trigger("peek:update"):void 0})}.call(this),function(){$(document).on("click",".js-lineprof-file",function(t){return $(this).parents(".peek-rblineprof-file").next("div").toggle(),t.preventDefault(),!1}),$(function(){})}.call(this);/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(t,e){function n(t,e,n){function i(){}function r(){}i.prototype=t,r.prototype=t.subs;var o,s=new i;s.subs=new r,s.ib();for(o in e)s.subs[o]=e[o];for(o in n)s.partials[o]=n[o];return s}function i(t){return String(null===t||void 0===t?"":t)}function r(t){return t=i(t),u.test(t)?t.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(l,"&#39;").replace(c,"&quot;"):t}t.Template=function(t,e,n,i){t=t||{},this.r=t.code||this.r,this.c=n,this.options=i,this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.ib()},t.Template.prototype={r:function(){return""},v:r,t:i,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var i=this.partials[t],r=e[i.name];if(i.instance&&i.base==r)return i.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}return r?(this.partials[t].base=r,i.subs&&(r=n(r,i.subs,i.partials)),this.partials[t].instance=r,r):null},rp:function(t,e,n,i){var r=this.ep(t,n);return r?r.ri(e,n,i):""},rs:function(t,e,n){var i=t[t.length-1];if(!h(i))return void n(t,e,this);for(var r=0;r<i.length;r++)t.push(i[r]),n(t,e,this),t.pop()},s:function(t,e,n,i,r,o,s){var a;return h(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ms(t,e,n,i,r,o,s)),a=""===t||!!t,!i&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,e,n,i){var r=t.split("."),o=this.f(r[0],e,n,i),s=null;if("."===t&&h(e[e.length-2]))return e[e.length-1];for(var a=1;a<r.length;a++)o&&"object"==typeof o&&null!=o[r[a]]?(s=o,o=o[r[a]]):o="";return i&&!o?!1:(i||"function"!=typeof o||(e.push(s),o=this.mv(o,e,n),e.pop()),o)},f:function(t,e,n,i){for(var r=!1,o=null,s=!1,a=e.length-1;a>=0;a--)if(o=e[a],o&&"object"==typeof o&&null!=o[t]){r=o[t],s=!0;break}return s?(i||"function"!=typeof r||(r=this.mv(r,e,n)),r):i?!1:""},ls:function(t,e,n,r,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(i(t.call(e,r)),e,n)),this.options.delimiters=s,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ib:function(){this.buf=e?[]:""},ms:function(t,e,n,i,r,o,s){var a=e[e.length-1],l=t.call(a);return"function"==typeof l?i?!0:this.ls(l,a,n,this.text.substring(r,o),s):l},mv:function(t,e,n){var r=e[e.length-1],o=t.call(r);return"function"==typeof o?this.ct(i(o.call(r)),r,n):o},sub:function(t,e,n,i){var r=this.subs[t];r&&r(e,n,this,i)}};var o=/&/g,s=/</g,a=/>/g,l=/\'/g,c=/\"/g,u=/[&<>\"\']/,h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function i(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,r=t.length;r>i;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function r(e,n,i,a){var l=[],c=null,u=null,h=null;for(u=i[i.length-1];e.length>0;){if(h=e.shift(),u&&"<"==u.tag&&!(h.tag in b))throw new Error("Illegal content in < super tag.");if(t.tags[h.tag]<=t.tags.$||o(h,a))i.push(h),h.nodes=r(e,h.tag,i,a);else{if("/"==h.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+h.n);if(c=i.pop(),h.n!=c.n&&!s(h.n,c.n,a))throw new Error("Nesting error: "+c.n+" vs. "+h.n);return c.end=h.i,l}"\n"==h.tag&&(h.last=0==e.length||"\n"==e[0].tag)}l.push(h)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return l}function o(t,e){for(var n=0,i=e.length;i>n;n++)if(e[n].o==t.n)return t.tag="#",!0}function s(t,e,n){for(var i=0,r=n.length;r>i;i++)if(n[i].c==t&&n[i].o==e)return!0}function a(t){var e=[];for(var n in t)e.push('"'+c(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}function l(t){var e=[];for(var n in t.partials)e.push('"'+c(n)+'":{name:"'+c(t.partials[n].name)+'", '+l(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+a(t.subs)}function c(t){return t.replace(y,"\\\\").replace(m,'\\"').replace(g,"\\n").replace(v,"\\r")}function u(t){return~t.indexOf(".")?"d":"f"}function h(t,e){var n="<"+(e.prefix||""),i=n+t.n+x++;return e.partials[i]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+c(i)+'",c,p,"'+(t.indent||"")+'"));',i}function d(t,e){e.code+="t.b(t.t(t."+u(t.n)+'("'+c(t.n)+'",c,p,0)));'}function p(t){return"t.b("+t+");"}var f=/\S/,m=/\"/g,g=/\n/g,v=/\r/g,y=/\\/g;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(r,o){function s(){y.length>0&&(b.push({tag:"_t",text:new String(y)}),y="")}function a(){for(var e=!0,n=_;n<b.length;n++)if(e=t.tags[b[n].tag]<t.tags._v||"_t"==b[n].tag&&null===b[n].text.match(f),!e)return!1;return e}function l(t,e){if(s(),t&&a())for(var n,i=_;i<b.length;i++)b[i].text&&((n=b[i+1])&&">"==n.tag&&(n.indent=b[i].text.toString()),b.splice(i,1));else e||b.push({tag:"\n"});x=!1,_=b.length}function c(t,e){var i="="+S,r=t.indexOf(i,e),o=n(t.substring(t.indexOf("=",e)+1,r)).split(" ");return k=o[0],S=o[1],r+i.length-1}var u=r.length,h=0,d=1,p=2,m=h,g=null,v=null,y="",b=[],x=!1,w=0,_=0,k="{{",S="}}";for(o&&(o=o.split(" "),k=o[0],S=o[1]),w=0;u>w;w++)m==h?i(k,r,w)?(--w,s(),m=d):"\n"==r.charAt(w)?l(x):y+=r.charAt(w):m==d?(w+=k.length-1,v=t.tags[r.charAt(w+1)],g=v?r.charAt(w+1):"_v","="==g?(w=c(r,w),m=h):(v&&w++,m=p),x=w):i(S,r,w)?(b.push({tag:g,n:n(y),otag:k,ctag:S,i:"/"==g?x-k.length:w+S.length}),y="",w+=S.length-1,m=h,"{"==g&&("}}"==S?w++:e(b[b.length-1]))):y+=r.charAt(w);return l(x,!0),b};var b={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+l(e)+"}"};var x=0;t.generate=function(e,n,i){x=0;var r={code:"",subs:{},partials:{}};return t.walk(e,r),i.asString?this.stringify(r,n,i):this.makeTemplate(r,n,i)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var i=this.makePartials(t);return i.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(i,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+u(e.n)+'("'+c(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+u(e.n)+'("'+c(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":h,"<":function(e,n){var i={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,i);var r=n.partials[h(e,n)];r.subs=i.subs,r.partials=i.partials},$:function(e,n){var i={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,i),n.subs[e.n]=i.code,n.inPartial||(n.code+='t.sub("'+c(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=p('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+u(t.n)+'("'+c(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=p('"'+c(t.text)+'"')},"{":d,"&":d},t.walk=function(e,n){for(var i,r=0,o=e.length;o>r;r++)i=t.codegen[e[r].tag],i&&i(e[r],n);return n},t.parse=function(t,e,n){return n=n||{},r(t,"",[],n.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda].join("||")},t.compile=function(e,n){n=n||{};var i=t.cacheKey(e,n),r=this.cache[i];return r?r:(r=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[i]=r)}}("undefined"!=typeof exports?exports:Hogan);/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2014, John Dyer (http://j.hn)
* License: MIT
*
*/
var mejs=mejs||{};mejs.version="2.15.1",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube","application/x-mpegURL"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(t){return encodeURIComponent(t)},escapeHTML:function(t){return t.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+this.escapeHTML(t)+'">x</a>',e.firstChild.href},getScriptPath:function(t){for(var e,n,i,r,o,s,a=0,l="",c="",u=document.getElementsByTagName("script"),h=u.length,d=t.length;h>a;a++){for(r=u[a].src,n=r.lastIndexOf("/"),n>-1?(s=r.substring(n+1),o=r.substring(0,n+1)):(s=r,o=""),e=0;d>e;e++)if(c=t[e],i=s.indexOf(c),i>-1){l=o;break}if(""!==l)break}return l},secondsToTimeCode:function(t,e,n,i){"undefined"==typeof n?n=!1:"undefined"==typeof i&&(i=25);var r=Math.floor(t/3600)%24,o=Math.floor(t/60)%60,s=Math.floor(t%60),a=Math.floor((t%1*i).toFixed(3)),l=(e||r>0?(10>r?"0"+r:r)+":":"")+(10>o?"0"+o:o)+":"+(10>s?"0"+s:s)+(n?":"+(10>a?"0"+a:a):"");return l},timeCodeToSeconds:function(t,e,n,i){"undefined"==typeof n?n=!1:"undefined"==typeof i&&(i=25);var r=t.split(":"),o=parseInt(r[0],10),s=parseInt(r[1],10),a=parseInt(r[2],10),l=0,c=0;return n&&(l=parseInt(r[3])/i),c=3600*o+60*s+a+l},convertSMPTEtoSeconds:function(t){if("string"!=typeof t)return!1;t=t.replace(",",".");var e=0,n=-1!=t.indexOf(".")?t.split(".")[1].length:0,i=1;t=t.split(":").reverse();for(var r=0;r<t.length;r++)i=1,r>0&&(i=Math.pow(60,r)),e+=Number(t[r])*i;return Number(e.toFixed(n))},removeSwf:function(t){var e=document.getElementById(t);e&&/object|embed/i.test(e.nodeName)&&(mejs.MediaFeatures.isIE?(e.style.display="none",function(){4==e.readyState?mejs.Utility.removeObjectInIE(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))},removeObjectInIE:function(t){var e=document.getElementById(t);if(e){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode.removeChild(e)}}},mejs.PluginDetector={hasPluginVersion:function(t,e){var n=this.plugins[t];return e[1]=e[1]||0,e[2]=e[2]||0,n[0]>e[0]||n[0]==e[0]&&n[1]>e[1]||n[0]==e[0]&&n[1]==e[1]&&n[2]>=e[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(t,e,n,i,r){this.plugins[t]=this.detectPlugin(e,n,i,r)},detectPlugin:function(t,e,n,i){var r,o,s,a=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[t]){if(r=this.nav.plugins[t].description,r&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[e]||this.nav.mimeTypes[e].enabledPlugin))for(a=r.replace(t,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),o=0;o<a.length;o++)a[o]=parseInt(a[o].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{s=new ActiveXObject(n),s&&(a=i(s))}catch(l){}return a}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(t){var e=[],n=t.GetVariable("$version");return n&&(n=n.split(" ")[1].split(","),e=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]),e}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(t){var e=[0,0,0,0],n=function(t,e,n,i){for(;t.isVersionSupported(e[0]+"."+e[1]+"."+e[2]+"."+e[3]);)e[n]+=i;e[n]-=i};return n(t,e,0,1),n(t,e,1,1),n(t,e,2,1e4),n(t,e,2,1e3),n(t,e,2,100),n(t,e,2,10),n(t,e,2,1),n(t,e,3,1),e}),mejs.MediaFeatures={init:function(){var t,e,n=this,i=document,r=mejs.PluginDetector.nav,o=mejs.PluginDetector.ua.toLowerCase(),s=["source","track","audio","video"];n.isiPad=null!==o.match(/ipad/i),n.isiPhone=null!==o.match(/iphone/i),n.isiOS=n.isiPhone||n.isiPad,n.isAndroid=null!==o.match(/android/i),n.isBustedAndroid=null!==o.match(/android 2\.[12]/),n.isBustedNativeHTTPS="https:"===location.protocol&&(null!==o.match(/android [12]\./)||null!==o.match(/macintosh.* version.* safari/)),n.isIE=-1!=r.appName.toLowerCase().indexOf("microsoft")||null!==r.appName.toLowerCase().match(/trident/gi),n.isChrome=null!==o.match(/chrome/gi),n.isChromium=null!==o.match(/chromium/gi),n.isFirefox=null!==o.match(/firefox/gi),n.isWebkit=null!==o.match(/webkit/gi),n.isGecko=null!==o.match(/gecko/gi)&&!n.isWebkit&&!n.isIE,n.isOpera=null!==o.match(/opera/gi),n.hasTouch="ontouchstart"in window,n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(t=0;t<s.length;t++)e=document.createElement(s[t]);n.supportsMediaTag="undefined"!=typeof e.canPlayType||n.isBustedAndroid;try{e.canPlayType("video/mp4")}catch(a){n.supportsMediaTag=!1}n.hasSemiNativeFullScreen="undefined"!=typeof e.webkitEnterFullscreen,n.hasNativeFullscreen="undefined"!=typeof e.requestFullscreen,n.hasWebkitNativeFullScreen="undefined"!=typeof e.webkitRequestFullScreen,n.hasMozNativeFullScreen="undefined"!=typeof e.mozRequestFullScreen,n.hasMsNativeFullScreen="undefined"!=typeof e.msRequestFullscreen,n.hasTrueNativeFullScreen=n.hasWebkitNativeFullScreen||n.hasMozNativeFullScreen||n.hasMsNativeFullScreen,n.nativeFullScreenEnabled=n.hasTrueNativeFullScreen,n.hasMozNativeFullScreen?n.nativeFullScreenEnabled=document.mozFullScreenEnabled:n.hasMsNativeFullScreen&&(n.nativeFullScreenEnabled=document.msFullscreenEnabled),n.isChrome&&(n.hasSemiNativeFullScreen=!1),n.hasTrueNativeFullScreen&&(n.fullScreenEventName="",n.hasWebkitNativeFullScreen?n.fullScreenEventName="webkitfullscreenchange":n.hasMozNativeFullScreen?n.fullScreenEventName="mozfullscreenchange":n.hasMsNativeFullScreen&&(n.fullScreenEventName="MSFullscreenChange"),n.isFullScreen=function(){return n.hasMozNativeFullScreen?i.mozFullScreen:n.hasWebkitNativeFullScreen?i.webkitIsFullScreen:n.hasMsNativeFullScreen?null!==i.msFullscreenElement:void 0},n.requestFullScreen=function(t){n.hasWebkitNativeFullScreen?t.webkitRequestFullScreen():n.hasMozNativeFullScreen?t.mozRequestFullScreen():n.hasMsNativeFullScreen&&t.msRequestFullscreen()},n.cancelFullScreen=function(){n.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():n.hasMozNativeFullScreen?document.mozCancelFullScreen():n.hasMsNativeFullScreen&&document.msExitFullscreen()}),n.hasSemiNativeFullScreen&&o.match(/mac os x 10_5/i)&&(n.hasNativeFullScreen=!1,n.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(t){this.currentTime=t},setMuted:function(t){this.muted=t},setVolume:function(t){this.volume=t},stop:function(){this.pause()},setSrc:function(t){for(var e=this.getElementsByTagName("source");e.length>0;)this.removeChild(e[0]);if("string"==typeof t)this.src=t;else{var n,i;for(n=0;n<t.length;n++)if(i=t[n],this.canPlayType(i.type)){this.src=i.src;break}}},setVideoSize:function(t,e){this.width=t,this.height=e}},mejs.PluginMediaElement=function(t,e,n){this.id=t,this.pluginType=e,this.src=n,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(t){var e,n,i,r=mejs.plugins[this.pluginType];for(e=0;e<r.length;e++)if(i=r[e],mejs.PluginDetector.hasPluginVersion(this.pluginType,i.version))for(n=0;n<i.types.length;n++)if(t==i.types[n])return"probably";return""},positionFullscreenButton:function(t,e,n){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(t),Math.floor(e),n)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(t){if("string"==typeof t)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(t)),this.src=mejs.Utility.absolutizeUrl(t);else{var e,n;for(e=0;e<t.length;e++)if(n=t[e],this.canPlayType(n.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(n.src)),this.src=mejs.Utility.absolutizeUrl(t);break}}},setCurrentTime:function(t){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.seekTo(t):this.pluginApi.setCurrentTime(t),this.currentTime=t)},setVolume:function(t){null!=this.pluginApi&&(this.pluginApi.setVolume("youtube"==this.pluginType?100*t:t),this.volume=t)},setMuted:function(t){null!=this.pluginApi&&("youtube"==this.pluginType?(t?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=t,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(t),this.muted=t)},setVideoSize:function(t,e){this.pluginElement&&this.pluginElement.style&&(this.pluginElement.style.width=t+"px",this.pluginElement.style.height=e+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(t,e)},setFullscreen:function(t){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(t)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},removeEventListener:function(t,e){if(!t)return this.events={},!0;var n=this.events[t];if(!n)return!0;if(!e)return this.events[t]=[],!0;for(var i=0;i<n.length;i++)if(n[i]===e)return this.events[t].splice(i,1),!0;return!1},dispatchEvent:function(t){var e,n,i=this.events[t];if(i)for(n=Array.prototype.slice.call(arguments,1),e=0;e<i.length;e++)i[e].apply(null,n)},hasAttribute:function(t){return t in this.attributes},removeAttribute:function(t){delete this.attributes[t]},getAttribute:function(t){return this.hasAttribute(t)?this.attributes[t]:""},setAttribute:function(t,e){this.attributes[t]=e},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(t,e,n){this.pluginMediaElements[t]=e,this.htmlMediaElements[t]=n},unregisterPluginElement:function(t){delete this.pluginMediaElements[t],delete this.htmlMediaElements[t]},initPlugin:function(t){var e=this.pluginMediaElements[t],n=this.htmlMediaElements[t];if(e){switch(e.pluginType){case"flash":e.pluginElement=e.pluginApi=document.getElementById(t);break;case"silverlight":e.pluginElement=document.getElementById(e.id),e.pluginApi=e.pluginElement.Content.MediaElementJS}null!=e.pluginApi&&e.success&&e.success(e,n)}},fireEvent:function(t,e,n){var i,r,o,s=this.pluginMediaElements[t];if(s){i={type:e,target:s};for(r in n)s[r]=n[r],i[r]=n[r];o=n.bufferedTime||0,i.target.buffered=i.buffered={start:function(){return 0},end:function(){return o},length:1},s.dispatchEvent(i.type,i)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(t,e){return mejs.HtmlMediaElementShim.create(t,e)},mejs.HtmlMediaElementShim={create:function(t,e){var n,i,r=mejs.MediaElementDefaults,o="string"==typeof t?document.getElementById(t):t,s=o.tagName.toLowerCase(),a="audio"===s||"video"===s,l=o.getAttribute(a?"src":"href"),c=o.getAttribute("poster"),u=o.getAttribute("autoplay"),h=o.getAttribute("preload"),d=o.getAttribute("controls");for(i in e)r[i]=e[i];return l="undefined"==typeof l||null===l||""==l?null:l,c="undefined"==typeof c||null===c?"":c,h="undefined"==typeof h||null===h||"false"===h?"none":h,u=!("undefined"==typeof u||null===u||"false"===u),d=!("undefined"==typeof d||null===d||"false"===d),n=this.determinePlayback(o,r,mejs.MediaFeatures.supportsMediaTag,a,l),n.url=null!==n.url?mejs.Utility.absolutizeUrl(n.url):"","native"==n.method?(mejs.MediaFeatures.isBustedAndroid&&(o.src=n.url,o.addEventListener("click",function(){o.play()},!1)),this.updateNative(n,r,u,h)):""!==n.method?this.createPlugin(n,r,c,u,h,d):(this.createErrorMessage(n,r,c),this)},determinePlayback:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=[],v={method:"",url:"",htmlMediaElement:t,isVideo:"audio"!=t.tagName.toLowerCase()};if("undefined"!=typeof e.type&&""!==e.type)if("string"==typeof e.type)g.push({type:e.type,url:r});else for(o=0;o<e.type.length;o++)g.push({type:e.type[o],url:r});else if(null!==r)u=this.formatType(r,t.getAttribute("type")),g.push({type:u,url:r});else for(o=0;o<t.childNodes.length;o++)c=t.childNodes[o],1==c.nodeType&&"source"==c.tagName.toLowerCase()&&(r=c.getAttribute("src"),u=this.formatType(r,c.getAttribute("type")),m=c.getAttribute("media"),(!m||!window.matchMedia||window.matchMedia&&window.matchMedia(m).matches)&&g.push({type:u,url:r}));if(!i&&g.length>0&&null!==g[0].url&&this.getTypeFromFile(g[0].url).indexOf("audio")>-1&&(v.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(t.canPlayType=function(t){return null!==t.match(/video\/(mp4|m4v)/gi)?"maybe":""}),mejs.MediaFeatures.isChromium&&(t.canPlayType=function(t){return null!==t.match(/video\/(webm|ogv|ogg)/gi)?"maybe":""}),!(!n||"auto"!==e.mode&&"auto_plugin"!==e.mode&&"native"!==e.mode||mejs.MediaFeatures.isBustedNativeHTTPS&&e.httpsBasicAuthSite===!0)){for(i||(f=document.createElement(v.isVideo?"video":"audio"),t.parentNode.insertBefore(f,t),t.style.display="none",v.htmlMediaElement=t=f),o=0;o<g.length;o++)if("video/m3u8"==g[o].type||""!==t.canPlayType(g[o].type).replace(/no/,"")||""!==t.canPlayType(g[o].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==t.canPlayType(g[o].type.replace(/m4a/,"mp4")).replace(/no/,"")){v.method="native",v.url=g[o].url;break}if("native"===v.method&&(null!==v.url&&(t.src=v.url),"auto_plugin"!==e.mode))return v}if("auto"===e.mode||"auto_plugin"===e.mode||"shim"===e.mode)for(o=0;o<g.length;o++)for(u=g[o].type,s=0;s<e.plugins.length;s++)for(h=e.plugins[s],d=mejs.plugins[h],a=0;a<d.length;a++)if(p=d[a],null==p.version||mejs.PluginDetector.hasPluginVersion(h,p.version))for(l=0;l<p.types.length;l++)if(u==p.types[l])return v.method=h,v.url=g[o].url,v;return"auto_plugin"===e.mode&&"native"===v.method?v:(""===v.method&&g.length>0&&(v.url=g[0].url),v)},formatType:function(t,e){return t&&!e?this.getTypeFromFile(t):e&&~e.indexOf(";")?e.substr(0,e.indexOf(";")):e},getTypeFromFile:function(t){t=t.split("?")[0];var e=t.substring(t.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(e)?"video":"audio")+"/"+this.getTypeFromExtension(e)},getTypeFromExtension:function(t){switch(t){case"mp4":case"m4v":case"m4a":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return t}},createErrorMessage:function(t,e,n){var i=t.htmlMediaElement,r=document.createElement("div");r.className="me-cannotplay";try{r.style.width=i.width+"px",r.style.height=i.height+"px"}catch(o){}r.innerHTML=e.customError?e.customError:""!==n?'<a href="'+t.url+'"><img src="'+n+'" width="100%" height="100%" /></a>':'<a href="'+t.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",i.parentNode.insertBefore(r,i),i.style.display="none",e.error(i)},createPlugin:function(t,e,n,i,r,o){var s,a,l,c=t.htmlMediaElement,u=1,h=1,d="me_"+t.method+"_"+mejs.meIndex++,p=new mejs.PluginMediaElement(d,t.method,t.url),f=document.createElement("div");p.tagName=c.tagName;for(var m=0;m<c.attributes.length;m++){var g=c.attributes[m];1==g.specified&&p.setAttribute(g.name,g.value)}for(a=c.parentNode;null!==a&&"body"!==a.tagName.toLowerCase()&&null!=a.parentNode;){if("p"===a.parentNode.tagName.toLowerCase()){a.parentNode.parentNode.insertBefore(a,a.parentNode);break}a=a.parentNode}switch(t.isVideo?(u=e.pluginWidth>0?e.pluginWidth:e.videoWidth>0?e.videoWidth:null!==c.getAttribute("width")?c.getAttribute("width"):e.defaultVideoWidth,h=e.pluginHeight>0?e.pluginHeight:e.videoHeight>0?e.videoHeight:null!==c.getAttribute("height")?c.getAttribute("height"):e.defaultVideoHeight,u=mejs.Utility.encodeUrl(u),h=mejs.Utility.encodeUrl(h)):e.enablePluginDebug&&(u=320,h=240),p.success=e.success,mejs.MediaPluginBridge.registerPluginElement(d,p,c),f.className="me-plugin",f.id=d+"_container",t.isVideo?c.parentNode.insertBefore(f,c):document.body.insertBefore(f,document.body.childNodes[0]),l=["id="+d,"isvideo="+(t.isVideo?"true":"false"),"autoplay="+(i?"true":"false"),"preload="+r,"width="+u,"startvolume="+e.startVolume,"timerrate="+e.timerRate,"flashstreamer="+e.flashStreamer,"height="+h,"pseudostreamstart="+e.pseudoStreamingStartQueryParam],null!==t.url&&l.push("flash"==t.method?"file="+mejs.Utility.encodeUrl(t.url):"file="+t.url),e.enablePluginDebug&&l.push("debug=true"),e.enablePluginSmoothing&&l.push("smoothing=true"),e.enablePseudoStreaming&&l.push("pseudostreaming=true"),o&&l.push("controls=true"),e.pluginVars&&(l=l.concat(e.pluginVars)),t.method){case"silverlight":f.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+d+'" name="'+d+'" width="'+u+'" height="'+h+'" class="mejs-shim"><param name="initParams" value="'+l.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+e.pluginPath+e.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(s=document.createElement("div"),f.appendChild(s),s.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+d+'" width="'+u+'" height="'+h+'" class="mejs-shim"><param name="movie" value="'+e.pluginPath+e.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+l.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):f.innerHTML='<embed id="'+d+'" name="'+d+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+e.pluginPath+e.flashName+'" flashvars="'+l.join("&")+'" width="'+u+'" height="'+h+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var v;-1!=t.url.lastIndexOf("youtu.be")?(v=t.url.substr(t.url.lastIndexOf("/")+1),-1!=v.indexOf("?")&&(v=v.substr(0,v.indexOf("?")))):v=t.url.substr(t.url.lastIndexOf("=")+1),youtubeSettings={container:f,containerId:f.id,pluginMediaElement:p,pluginId:d,videoId:v,height:h,width:u},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":var y=d+"_player";if(p.vimeoid=t.url.substr(t.url.lastIndexOf("/")+1),f.innerHTML='<iframe src="//player.vimeo.com/video/'+p.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+y+'" width="'+u+'" height="'+h+'" frameborder="0" class="mejs-shim" id="'+y+'"></iframe>',"function"==typeof $f){var b=$f(f.childNodes[0]);b.addEvent("ready",function(){function t(t,e,n,i){var r={type:n,target:e};"timeupdate"==n&&(e.currentTime=r.currentTime=i.seconds,e.duration=r.duration=i.duration),e.dispatchEvent(r.type,r)}$.extend(b,{playVideo:function(){b.api("play")},stopVideo:function(){b.api("unload")},pauseVideo:function(){b.api("pause")},seekTo:function(t){b.api("seekTo",t)},setVolume:function(t){b.api("setVolume",t)},setMuted:function(t){t?(b.lastVolume=b.api("getVolume"),b.api("setVolume",0)):(b.api("setVolume",b.lastVolume),delete b.lastVolume)}}),b.addEvent("play",function(){t(b,p,"play"),t(b,p,"playing")}),b.addEvent("pause",function(){t(b,p,"pause")}),b.addEvent("finish",function(){t(b,p,"ended")}),b.addEvent("playProgress",function(e){t(b,p,"timeupdate",e)}),p.pluginElement=f,p.pluginApi=b,mejs.MediaPluginBridge.initPlugin(d)})}else console.warn("You need to include froogaloop for vimeo to work")}return c.style.display="none",c.removeAttribute("autoplay"),p},updateNative:function(t,e){var n,i=t.htmlMediaElement;for(n in mejs.HtmlMediaElement)i[n]=mejs.HtmlMediaElement[n];return e.success(i,i),i}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var t=document.createElement("script");t.src="//www.youtube.com/player_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(t){this.isLoaded?this.createIframe(t):(this.loadIframeApi(),this.iframeQueue.push(t))},createIframe:function(t){var e=t.pluginMediaElement,n=new YT.Player(t.containerId,{height:t.height,width:t.width,videoId:t.videoId,playerVars:{controls:0},events:{onReady:function(){t.pluginMediaElement.pluginApi=n,mejs.MediaPluginBridge.initPlugin(t.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(n,e,"timeupdate")},250)},onStateChange:function(t){mejs.YouTubeApi.handleStateChange(t.data,n,e)}}})},createEvent:function(t,e,n){var i={type:n,target:e};if(t&&t.getDuration){e.currentTime=i.currentTime=t.getCurrentTime(),e.duration=i.duration=t.getDuration(),i.paused=e.paused,i.ended=e.ended,i.muted=t.isMuted(),i.volume=t.getVolume()/100,i.bytesTotal=t.getVideoBytesTotal(),i.bufferedBytes=t.getVideoBytesLoaded();var r=i.bufferedBytes/i.bytesTotal*i.duration;i.target.buffered=i.buffered={start:function(){return 0},end:function(){return r},length:1}}e.dispatchEvent(i.type,i)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var t=this.iframeQueue.pop();this.createIframe(t)}},flashPlayers:{},createFlash:function(t){this.flashPlayers[t.pluginId]=t;var e,n="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+t.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(e=document.createElement("div"),t.container.appendChild(e),e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+t.pluginId+'" width="'+t.width+'" height="'+t.height+'" class="mejs-shim"><param name="movie" value="'+n+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):t.container.innerHTML='<object type="application/x-shockwave-flash" id="'+t.pluginId+'" data="'+n+'" width="'+t.width+'" height="'+t.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(t){var e=this.flashPlayers[t],n=document.getElementById(t),i=e.pluginMediaElement;i.pluginApi=i.pluginElement=n,mejs.MediaPluginBridge.initPlugin(t),n.cueVideoById(e.videoId);var r=e.containerId+"_callback";window[r]=function(t){mejs.YouTubeApi.handleStateChange(t,n,i)},n.addEventListener("onStateChange",r),setInterval(function(){mejs.YouTubeApi.createEvent(n,i,"timeupdate")},250),mejs.YouTubeApi.createEvent(n,i,"canplay")},handleStateChange:function(t,e,n){switch(t){case-1:n.paused=!0,n.ended=!0,mejs.YouTubeApi.createEvent(e,n,"loadedmetadata");break;case 0:n.paused=!1,n.ended=!0,mejs.YouTubeApi.createEvent(e,n,"ended");break;case 1:n.paused=!1,n.ended=!1,mejs.YouTubeApi.createEvent(e,n,"play"),mejs.YouTubeApi.createEvent(e,n,"playing");break;case 2:n.paused=!0,n.ended=!1,mejs.YouTubeApi.createEvent(e,n,"pause");break;case 3:mejs.YouTubeApi.createEvent(e,n,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(t,e){"use strict";var n={locale:{language:"",strings:{}},methods:{}};n.getLanguage=function(){var t=n.locale.language||window.navigator.userLanguage||window.navigator.language;return t.substr(0,2).toLowerCase()},"undefined"!=typeof mejsL10n&&(n.locale.language=mejsL10n.language),n.methods.checkPlain=function(t){var e,n,i={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};t=String(t);for(e in i)i.hasOwnProperty(e)&&(n=new RegExp(e,"g"),t=t.replace(n,i[e]));return t},n.methods.t=function(t,e){return n.locale.strings&&n.locale.strings[e.context]&&n.locale.strings[e.context][t]&&(t=n.locale.strings[e.context][t]),n.methods.checkPlain(t)},n.t=function(t,e){if("string"==typeof t&&t.length>0){var i=n.getLanguage();return e=e||{context:i},n.methods.t(t,e)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},e.i18n=n}(document,mejs),function(t){"use strict";"undefined"!=typeof mejsL10n&&(t[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),function(t){"use strict";"undefined"==typeof t.de&&(t.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schlie\xdfen"})}(mejs.i18n.locale.strings),function(t){"use strict";"undefined"==typeof t.zh&&(t.zh={Fullscreen:"\u5168\u87a2\u5e55","Go Fullscreen":"\u5168\u5c4f\u6a21\u5f0f","Turn off Fullscreen":"\u9000\u51fa\u5168\u5c4f\u6a21\u5f0f",Close:"\u95dc\u9589"})}(mejs.i18n.locale.strings),/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function(t){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(t){return.05*t.duration},defaultSeekForwardInterval:function(t){return.05*t.duration},setDimensions:!0,audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(t,e){e.paused||e.ended?t.play():t.pause()}},{keys:[38],action:function(t,e){t.container.find(".mejs-volume-slider").css("display","block"),t.isVideo&&(t.showControls(),t.startControlsTimer());var n=Math.min(e.volume+.1,1);e.setVolume(n)}},{keys:[40],action:function(t,e){t.container.find(".mejs-volume-slider").css("display","block"),t.isVideo&&(t.showControls(),t.startControlsTimer());var n=Math.max(e.volume-.1,0);e.setVolume(n)}},{keys:[37,227],action:function(t,e){if(!isNaN(e.duration)&&e.duration>0){t.isVideo&&(t.showControls(),t.startControlsTimer());var n=Math.max(e.currentTime-t.options.defaultSeekBackwardInterval(e),0);e.setCurrentTime(n)}}},{keys:[39,228],action:function(t,e){if(!isNaN(e.duration)&&e.duration>0){t.isVideo&&(t.showControls(),t.startControlsTimer());var n=Math.min(e.currentTime+t.options.defaultSeekForwardInterval(e),e.duration);e.setCurrentTime(n)}}},{keys:[70],action:function(t){"undefined"!=typeof t.enterFullScreen&&(t.isFullScreen?t.exitFullScreen():t.enterFullScreen())}},{keys:[77],action:function(t){t.container.find(".mejs-volume-slider").css("display","block"),t.isVideo&&(t.showControls(),t.startControlsTimer()),t.setMuted(t.media.muted?!1:!0)}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(e,n){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(e,n);var i=this;return i.$media=i.$node=t(e),i.node=i.media=i.$media[0],"undefined"!=typeof i.node.player?i.node.player:(i.node.player=i,"undefined"==typeof n&&(n=i.$node.data("mejsoptions")),i.options=t.extend({},mejs.MepDefaults,n),i.id="mep_"+mejs.mepIndex++,mejs.players[i.id]=i,i.init(),i)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var e=this,n=mejs.MediaFeatures,i=t.extend(!0,{},e.options,{success:function(t,n){e.meReady(t,n)},error:function(t){e.handleError(t)}}),r=e.media.tagName.toLowerCase();if(e.isDynamic="audio"!==r&&"video"!==r,e.isVideo=e.isDynamic?e.options.isVideo:"audio"!==r&&e.options.isVideo,n.isiPad&&e.options.iPadUseNativeControls||n.isiPhone&&e.options.iPhoneUseNativeControls)e.$media.attr("controls","controls"),n.isiPad&&null!==e.media.getAttribute("autoplay")&&e.play();else if(n.isAndroid&&e.options.AndroidUseNativeControls);else{if(e.$media.removeAttr("controls"),e.container=t('<div id="'+e.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(e.$media[0].className).insertBefore(e.$media),e.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(e.isVideo?"mejs-video ":"mejs-audio ")),n.isiOS){var o=e.$media.clone();e.container.find(".mejs-mediaelement").append(o),e.$media.remove(),e.$node=e.$media=o,e.node=e.media=o[0]}else e.container.find(".mejs-mediaelement").append(e.$media);e.controls=e.container.find(".mejs-controls"),e.layers=e.container.find(".mejs-layers");var s=e.isVideo?"video":"audio",a=s.substring(0,1).toUpperCase()+s.substring(1);e.width=e.options[s+"Width"]>0||e.options[s+"Width"].toString().indexOf("%")>-1?e.options[s+"Width"]:""!==e.media.style.width&&null!==e.media.style.width?e.media.style.width:null!==e.media.getAttribute("width")?e.$media.attr("width"):e.options["default"+a+"Width"],e.height=e.options[s+"Height"]>0||e.options[s+"Height"].toString().indexOf("%")>-1?e.options[s+"Height"]:""!==e.media.style.height&&null!==e.media.style.height?e.media.style.height:null!==e.$media[0].getAttribute("height")?e.$media.attr("height"):e.options["default"+a+"Height"],e.setPlayerSize(e.width,e.height),i.pluginWidth=e.width,i.pluginHeight=e.height}mejs.MediaElement(e.$media[0],i),"undefined"!=typeof e.container&&e.controlsAreVisible&&e.container.trigger("controlsshown")},showControls:function(t){var e=this;t="undefined"==typeof t||t,e.controlsAreVisible||(t?(e.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){e.controlsAreVisible=!0,e.container.trigger("controlsshown")}),e.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){e.controlsAreVisible=!0})):(e.controls.css("visibility","visible").css("display","block"),e.container.find(".mejs-control").css("visibility","visible").css("display","block"),e.controlsAreVisible=!0,e.container.trigger("controlsshown")),e.setControlsSize())},hideControls:function(e){var n=this;e="undefined"==typeof e||e,n.controlsAreVisible&&!n.options.alwaysShowControls&&(e?(n.controls.stop(!0,!0).fadeOut(200,function(){t(this).css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1,n.container.trigger("controlshidden")}),n.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){t(this).css("visibility","hidden").css("display","block")})):(n.controls.css("visibility","hidden").css("display","block"),n.container.find(".mejs-control").css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1,n.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(t){var e=this;t="undefined"!=typeof t?t:1500,e.killControlsTimer("start"),e.controlsTimer=setTimeout(function(){e.hideControls(),e.killControlsTimer("hide")},t)},killControlsTimer:function(){var t=this;null!==t.controlsTimer&&(clearTimeout(t.controlsTimer),delete t.controlsTimer,t.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var t=this;t.killControlsTimer(),t.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var t=this;t.showControls(!1),t.controlsEnabled=!0},meReady:function(t,e){var n,i,r=this,o=mejs.MediaFeatures,s=e.getAttribute("autoplay"),a=!("undefined"==typeof s||null===s||"false"===s);if(!r.created){if(r.created=!0,r.media=t,r.domNode=e,!(o.isAndroid&&r.options.AndroidUseNativeControls||o.isiPad&&r.options.iPadUseNativeControls||o.isiPhone&&r.options.iPhoneUseNativeControls)){r.buildposter(r,r.controls,r.layers,r.media),r.buildkeyboard(r,r.controls,r.layers,r.media),r.buildoverlays(r,r.controls,r.layers,r.media),r.findTracks();for(n in r.options.features)if(i=r.options.features[n],r["build"+i])try{r["build"+i](r,r.controls,r.layers,r.media)}catch(l){}r.container.trigger("controlsready"),r.setPlayerSize(r.width,r.height),r.setControlsSize(),r.isVideo&&(mejs.MediaFeatures.hasTouch?r.$media.bind("touchstart",function(){r.controlsAreVisible?r.hideControls(!1):r.controlsEnabled&&r.showControls(!1)}):(r.clickToPlayPauseCallback=function(){r.options.clickToPlayPause&&(r.media.paused?r.play():r.pause())},r.media.addEventListener("click",r.clickToPlayPauseCallback,!1),r.container.bind("mouseenter mouseover",function(){r.controlsEnabled&&(r.options.alwaysShowControls||(r.killControlsTimer("enter"),r.showControls(),r.startControlsTimer(2500)))}).bind("mousemove",function(){r.controlsEnabled&&(r.controlsAreVisible||r.showControls(),r.options.alwaysShowControls||r.startControlsTimer(2500))}).bind("mouseleave",function(){r.controlsEnabled&&(r.media.paused||r.options.alwaysShowControls||r.startControlsTimer(1e3))})),r.options.hideVideoControlsOnLoad&&r.hideControls(!1),a&&!r.options.alwaysShowControls&&r.hideControls(),r.options.enableAutosize&&r.media.addEventListener("loadedmetadata",function(t){r.options.videoHeight<=0&&null===r.domNode.getAttribute("height")&&!isNaN(t.target.videoHeight)&&(r.setPlayerSize(t.target.videoWidth,t.target.videoHeight),r.setControlsSize(),r.media.setVideoSize(t.target.videoWidth,t.target.videoHeight))},!1)),t.addEventListener("play",function(){var t;for(t in mejs.players){var e=mejs.players[t];e.id==r.id||!r.options.pauseOtherPlayers||e.paused||e.ended||e.pause(),e.hasFocus=!1}r.hasFocus=!0},!1),r.media.addEventListener("ended",function(){if(r.options.autoRewind)try{r.media.setCurrentTime(0)}catch(t){}r.media.pause(),r.setProgressRail&&r.setProgressRail(),r.setCurrentRail&&r.setCurrentRail(),r.options.loop?r.play():!r.options.alwaysShowControls&&r.controlsEnabled&&r.showControls()},!1),r.media.addEventListener("loadedmetadata",function(){r.updateDuration&&r.updateDuration(),r.updateCurrent&&r.updateCurrent(),r.isFullScreen||(r.setPlayerSize(r.width,r.height),r.setControlsSize())},!1),setTimeout(function(){r.setPlayerSize(r.width,r.height),r.setControlsSize()},50),r.globalBind("resize",function(){r.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||r.setPlayerSize(r.width,r.height),r.setControlsSize()}),"youtube"==r.media.pluginType&&r.options.autoplay&&r.container.find(".mejs-overlay-play").hide()}a&&"native"==t.pluginType&&r.play(),r.options.success&&("string"==typeof r.options.success?window[r.options.success](r.media,r.domNode,r):r.options.success(r.media,r.domNode,r))}},handleError:function(t){var e=this;e.controls.hide(),e.options.error&&e.options.error(t)},setPlayerSize:function(e,n){var i=this;if(!i.options.setDimensions)return!1;if("undefined"!=typeof e&&(i.width=e),"undefined"!=typeof n&&(i.height=n),i.height.toString().indexOf("%")>0||"100%"===i.$node.css("max-width")||i.$node[0].currentStyle&&"100%"===i.$node[0].currentStyle.maxWidth){var r=function(){return i.isVideo?i.media.videoWidth&&i.media.videoWidth>0?i.media.videoWidth:null!==i.media.getAttribute("width")?i.media.getAttribute("width"):i.options.defaultVideoWidth:i.options.defaultAudioWidth}(),o=function(){return i.isVideo?i.media.videoHeight&&i.media.videoHeight>0?i.media.videoHeight:null!==i.media.getAttribute("height")?i.media.getAttribute("height"):i.options.defaultVideoHeight:i.options.defaultAudioHeight}(),s=i.container.parent().closest(":visible").width(),a=i.container.parent().closest(":visible").height(),l=i.isVideo||!i.options.autosizeProgress?parseInt(s*o/r,10):o;(isNaN(l)||0!=a&&l>a)&&(l=a),"body"===i.container.parent()[0].tagName.toLowerCase()&&(s=t(window).width(),l=t(window).height()),0!=l&&0!=s&&(i.container.width(s).height(l),i.$media.add(i.container.find(".mejs-shim")).width("100%").height("100%"),i.isVideo&&i.media.setVideoSize&&i.media.setVideoSize(s,l),i.layers.children(".mejs-layer").width("100%").height("100%"))}else i.container.width(i.width).height(i.height),i.layers.children(".mejs-layer").width(i.width).height(i.height);var c=i.layers.find(".mejs-overlay-play"),u=c.find(".mejs-overlay-button");c.height(i.container.height()-i.controls.height()),u.css("margin-top","-"+(u.height()/2-i.controls.height()/2).toString()+"px")},setControlsSize:function(){var e=this,n=0,i=0,r=e.controls.find(".mejs-time-rail"),o=e.controls.find(".mejs-time-total"),s=(e.controls.find(".mejs-time-current"),e.controls.find(".mejs-time-loaded"),r.siblings()),a=s.last(),l=null;if(e.container.is(":visible")&&r.length&&r.is(":visible")){e.options&&!e.options.autosizeProgress&&(i=parseInt(r.css("width"))),0!==i&&i||(s.each(function(){var e=t(this);"absolute"!=e.css("position")&&e.is(":visible")&&(n+=t(this).outerWidth(!0))}),i=e.controls.width()-n-(r.outerWidth(!0)-r.width()));do r.width(i),o.width(i-(o.outerWidth(!0)-o.width())),"absolute"!=a.css("position")&&(l=a.position(),i--);while(null!=l&&l.top>0&&i>0);e.setProgressRail&&e.setProgressRail(),e.setCurrentRail&&e.setCurrentRail()}},buildposter:function(e,n,i,r){var o=this,s=t('<div class="mejs-poster mejs-layer"></div>').appendTo(i),a=e.$media.attr("poster");""!==e.options.poster&&(a=e.options.poster),""!==a&&null!=a?o.setPoster(a):s.hide(),r.addEventListener("play",function(){s.hide()},!1),e.options.showPosterWhenEnded&&e.options.autoRewind&&r.addEventListener("ended",function(){s.show()},!1)},setPoster:function(e){var n=this,i=n.container.find(".mejs-poster"),r=i.find("img");0==r.length&&(r=t('<img width="100%" height="100%" />').appendTo(i)),r.attr("src",e),i.css({"background-image":"url("+e+")"})},buildoverlays:function(e,n,i,r){var o=this;if(e.isVideo){var s=t('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(i),a=t('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(i),l=t('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(i).bind("click",function(){o.options.clickToPlayPause&&r.paused&&r.play()});r.addEventListener("play",function(){l.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("playing",function(){l.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("seeking",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("seeked",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),r.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||l.show()},!1),r.addEventListener("waiting",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("loadeddata",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("canplay",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),r.addEventListener("error",function(){s.hide(),n.find(".mejs-time-buffering").hide(),a.show(),a.find("mejs-overlay-error").html("Error loading this resource")},!1),r.addEventListener("keydown",function(t){o.onkeydown(e,r,t)},!1)}},buildkeyboard:function(e,n,i,r){var o=this;o.globalBind("keydown",function(t){return o.onkeydown(e,r,t)}),o.globalBind("click",function(n){e.hasFocus=0!=t(n.target).closest(".mejs-container").length})},onkeydown:function(t,e,n){if(t.hasFocus&&t.options.enableKeyboard)for(var i=0,r=t.options.keyActions.length;r>i;i++)for(var o=t.options.keyActions[i],s=0,a=o.keys.length;a>s;s++)if(n.keyCode==o.keys[s])return"function"==typeof n.preventDefault&&n.preventDefault(),o.action(t,e,n.keyCode),!1;return!0},findTracks:function(){var e=this,n=e.$media.find("track");e.tracks=[],n.each(function(n,i){i=t(i),e.tracks.push({srclang:i.attr("srclang")?i.attr("srclang").toLowerCase():"",src:i.attr("src"),kind:i.attr("kind"),label:i.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(t){this.container[0].className="mejs-container "+t,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(t){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(t){this.media.setMuted(t)},setCurrentTime:function(t){this.media.setCurrentTime(t)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(t){this.media.setVolume(t)},getVolume:function(){return this.media.volume},setSrc:function(t){this.media.setSrc(t)},remove:function(){var t,e,n=this;for(t in n.options.features)if(e=n.options.features[t],n["clean"+e])try{n["clean"+e](n)}catch(i){}n.isDynamic?n.$node.insertBefore(n.container):(n.$media.prop("controls",!0),n.$node.clone().insertBefore(n.container).show(),n.$node.remove()),"native"!==n.media.pluginType&&n.media.remove(),delete mejs.players[n.id],"object"==typeof n.container&&n.container.remove(),n.globalUnbind(),delete n.node.player}},function(){function e(e,i){var r={d:[],w:[]};return t.each((e||"").split(" "),function(t,e){var o=e+"."+i;0===o.indexOf(".")?(r.d.push(o),r.w.push(o)):r[n.test(e)?"w":"d"].push(o)}),r.d=r.d.join(" "),r.w=r.w.join(" "),r}var n=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(n,i,r){var o=this;n=e(n,o.id),n.d&&t(document).bind(n.d,i,r),n.w&&t(window).bind(n.w,i,r)},mejs.MediaElementPlayer.prototype.globalUnbind=function(n,i){var r=this;n=e(n,r.id),n.d&&t(document).unbind(n.d,i),n.w&&t(window).unbind(n.w,i)}}(),"undefined"!=typeof t&&(t.fn.mediaelementplayer=function(e){return this.each(e===!1?function(){var e=t(this).data("mediaelementplayer");e&&e.remove(),t(this).removeData("mediaelementplayer")}:function(){t(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,e))}),this},t(document).ready(function(){t(".mejs-player").mediaelementplayer()})),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(t){t.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")}),t.extend(MediaElementPlayer.prototype,{buildplaypause:function(e,n,i,r){var o=this,s=t('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+o.id+'" title="'+o.options.playpauseText+'" aria-label="'+o.options.playpauseText+'"></button></div>').appendTo(n).click(function(t){return t.preventDefault(),r.paused?r.play():r.pause(),!1});r.addEventListener("play",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1),r.addEventListener("playing",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1),r.addEventListener("pause",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1),r.addEventListener("paused",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{stopText:"Stop"}),t.extend(MediaElementPlayer.prototype,{buildstop:function(e,n,i,r){{var o=this;t('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+o.id+'" title="'+o.options.stopText+'" aria-label="'+o.options.stopText+'"></button></div>').appendTo(n).click(function(){r.paused||r.pause(),r.currentTime>0&&(r.setCurrentTime(0),r.pause(),n.find(".mejs-time-current").width("0px"),n.find(".mejs-time-handle").css("left","0px"),n.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),n.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),i.find(".mejs-poster").show())})}}})}(mejs.$),function(t){t.extend(MediaElementPlayer.prototype,{buildprogress:function(e,n,i,r){t('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(n),n.find(".mejs-time-buffering").hide();var o=this,s=n.find(".mejs-time-total"),a=n.find(".mejs-time-loaded"),l=n.find(".mejs-time-current"),c=n.find(".mejs-time-handle"),u=n.find(".mejs-time-float"),h=n.find(".mejs-time-float-current"),d=function(t){if(t.originalEvent.changedTouches)var e=t.originalEvent.changedTouches[0].pageX;else var e=t.pageX;var n=s.offset(),i=s.outerWidth(!0),o=0,a=0,l=0;r.duration&&(e<n.left?e=n.left:e>i+n.left&&(e=i+n.left),l=e-n.left,o=l/i,a=.02>=o?0:o*r.duration,p&&a!==r.currentTime&&r.setCurrentTime(a),mejs.MediaFeatures.hasTouch||(u.css("left",l),h.html(mejs.Utility.secondsToTimeCode(a)),u.show()))},p=!1,f=!1;s.bind("mousedown touchstart",function(t){return 1===t.which||0===t.which?(p=!0,d(t),o.globalBind("mousemove.dur touchmove.dur",function(t){d(t)}),o.globalBind("mouseup.dur touchend.dur",function(){p=!1,u.hide(),o.globalUnbind(".dur")}),!1):void 0}).bind("mouseenter",function(){f=!0,o.globalBind("mousemove.dur",function(t){d(t)}),mejs.MediaFeatures.hasTouch||u.show()}).bind("mouseleave",function(){f=!1,p||(o.globalUnbind(".dur"),u.hide())}),r.addEventListener("progress",function(t){e.setProgressRail(t),e.setCurrentRail(t)},!1),r.addEventListener("timeupdate",function(t){e.setProgressRail(t),e.setCurrentRail(t)},!1),o.loaded=a,o.total=s,o.current=l,o.handle=c},setProgressRail:function(t){var e=this,n=void 0!=t?t.target:e.media,i=null;n&&n.buffered&&n.buffered.length>0&&n.buffered.end&&n.duration?i=n.buffered.end(0)/n.duration:n&&void 0!=n.bytesTotal&&n.bytesTotal>0&&void 0!=n.bufferedBytes?i=n.bufferedBytes/n.bytesTotal:t&&t.lengthComputable&&0!=t.total&&(i=t.loaded/t.total),null!==i&&(i=Math.min(1,Math.max(0,i)),e.loaded&&e.total&&e.loaded.width(e.total.width()*i))},setCurrentRail:function(){var t=this;if(void 0!=t.media.currentTime&&t.media.duration&&t.total&&t.handle){var e=Math.round(t.total.width()*t.media.currentTime/t.media.duration),n=e-Math.round(t.handle.outerWidth(!0)/2);t.current.width(e),t.handle.css("left",n)}}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),t.extend(MediaElementPlayer.prototype,{buildcurrent:function(e,n,i,r){var o=this;t('<div class="mejs-time"><span class="mejs-currenttime">'+(e.options.alwaysShowHours?"00:":"")+(e.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(n),o.currenttime=o.controls.find(".mejs-currenttime"),r.addEventListener("timeupdate",function(){e.updateCurrent()},!1)},buildduration:function(e,n,i,r){var o=this;n.children().last().find(".mejs-currenttime").length>0?t(o.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(o.options.duration>0?mejs.Utility.secondsToTimeCode(o.options.duration,o.options.alwaysShowHours||o.media.duration>3600,o.options.showTimecodeFrameCount,o.options.framesPerSecond||25):(e.options.alwaysShowHours?"00:":"")+(e.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(n.find(".mejs-time")):(n.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),t('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(o.options.duration>0?mejs.Utility.secondsToTimeCode(o.options.duration,o.options.alwaysShowHours||o.media.duration>3600,o.options.showTimecodeFrameCount,o.options.framesPerSecond||25):(e.options.alwaysShowHours?"00:":"")+(e.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(n)),o.durationD=o.controls.find(".mejs-duration"),r.addEventListener("timeupdate",function(){e.updateDuration()},!1)},updateCurrent:function(){var t=this;t.currenttime&&t.currenttime.html(mejs.Utility.secondsToTimeCode(t.media.currentTime,t.options.alwaysShowHours||t.media.duration>3600,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25))},updateDuration:function(){var t=this;t.container.toggleClass("mejs-long-video",t.media.duration>3600),t.durationD&&(t.options.duration>0||t.media.duration)&&t.durationD.html(mejs.Utility.secondsToTimeCode(t.options.duration>0?t.options.duration:t.media.duration,t.options.alwaysShowHours,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25))}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),t.extend(MediaElementPlayer.prototype,{buildvolume:function(e,n,i,r){if(!mejs.MediaFeatures.isAndroid&&!mejs.MediaFeatures.isiOS||!this.options.hideVolumeOnTouchDevices){var o=this,s=o.isVideo?o.options.videoVolume:o.options.audioVolume,a="horizontal"==s?t('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+o.id+'" title="'+o.options.muteText+'" aria-label="'+o.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(n):t('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+o.id+'" title="'+o.options.muteText+'" aria-label="'+o.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(n),l=o.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),c=o.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),u=o.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),h=o.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),d=function(t,e){if(!l.is(":visible")&&"undefined"==typeof e)return l.show(),d(t,!0),void l.hide();if(t=Math.max(0,t),t=Math.min(t,1),0==t?a.removeClass("mejs-mute").addClass("mejs-unmute"):a.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==s){var n=c.height(),i=c.position(),r=n-n*t;h.css("top",Math.round(i.top+r-h.height()/2)),u.height(n-r),u.css("top",i.top+r)}else{var o=c.width(),i=c.position(),p=o*t;h.css("left",Math.round(i.left+p-h.width()/2)),u.width(Math.round(p))}},p=function(t){var e=null,n=c.offset();if("vertical"==s){var i=c.height(),o=(parseInt(c.css("top").replace(/px/,""),10),t.pageY-n.top);if(e=(i-o)/i,0==n.top||0==n.left)return}else{var a=c.width(),l=t.pageX-n.left;e=l/a}e=Math.max(0,e),e=Math.min(e,1),d(e),r.setMuted(0==e?!0:!1),r.setVolume(e)},f=!1,m=!1;a.hover(function(){l.show(),m=!0},function(){m=!1,f||"vertical"!=s||l.hide()}),l.bind("mouseover",function(){m=!0}).bind("mousedown",function(t){return p(t),o.globalBind("mousemove.vol",function(t){p(t)}),o.globalBind("mouseup.vol",function(){f=!1,o.globalUnbind(".vol"),m||"vertical"!=s||l.hide()}),f=!0,!1}),a.find("button").click(function(){r.setMuted(!r.muted)}),r.addEventListener("volumechange",function(){f||(r.muted?(d(0),a.removeClass("mejs-mute").addClass("mejs-unmute")):(d(r.volume),a.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),o.container.is(":visible")&&(d(e.options.startVolume),0===e.options.startVolume&&r.setMuted(!0),"native"===r.pluginType&&r.setVolume(e.options.startVolume))}}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),t.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(e,n,i,r){if(e.isVideo){if(e.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen){var o=function(){e.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(e.isNativeFullScreen=!0,e.setControlsSize()):(e.isNativeFullScreen=!1,e.exitFullScreen()))};e.globalBind(mejs.MediaFeatures.fullScreenEventName,o)}var s=this,a=(e.container,t('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.fullscreenText+'" aria-label="'+s.options.fullscreenText+'"></button></div>').appendTo(n));if("native"===s.media.pluginType||!s.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)a.click(function(){var t=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||e.isFullScreen;t?e.exitFullScreen():e.enterFullScreen()});else{var l=null,c=function(){var t,e=document.createElement("x"),n=document.documentElement,i=window.getComputedStyle;return"pointerEvents"in e.style?(e.style.pointerEvents="auto",e.style.pointerEvents="x",n.appendChild(e),t=i&&"auto"===i(e,"").pointerEvents,n.removeChild(e),!!t):!1}();if(c&&!mejs.MediaFeatures.isOpera){var u,h,d=!1,p=function(){if(d){for(var t in f)f[t].hide();a.css("pointer-events",""),s.controls.css("pointer-events",""),s.media.removeEventListener("click",s.clickToPlayPauseCallback),d=!1}},f={},m=["top","left","right","bottom"],g=function(){var t=a.offset().left-s.container.offset().left,e=a.offset().top-s.container.offset().top,n=a.outerWidth(!0),i=a.outerHeight(!0),r=s.container.width(),o=s.container.height();for(u in f)f[u].css({position:"absolute",top:0,left:0});f.top.width(r).height(e),f.left.width(t).height(i).css({top:e}),f.right.width(r-t-n).height(i).css({top:e,left:t+n}),f.bottom.width(r).height(o-i-e).css({top:e+i})};for(s.globalBind("resize",function(){g()}),u=0,h=m.length;h>u;u++)f[m[u]]=t('<div class="mejs-fullscreen-hover" />').appendTo(s.container).mouseover(p).hide();a.on("mouseover",function(){if(!s.isFullScreen){var t=a.offset(),n=e.container.offset();r.positionFullscreenButton(t.left-n.left,t.top-n.top,!1),a.css("pointer-events","none"),s.controls.css("pointer-events","none"),s.media.addEventListener("click",s.clickToPlayPauseCallback);for(u in f)f[u].show();g(),d=!0}}),r.addEventListener("fullscreenchange",function(){s.isFullScreen=!s.isFullScreen,s.isFullScreen?s.media.removeEventListener("click",s.clickToPlayPauseCallback):s.media.addEventListener("click",s.clickToPlayPauseCallback),p()}),s.globalBind("mousemove",function(t){if(d){var e=a.offset();(t.pageY<e.top||t.pageY>e.top+a.outerHeight(!0)||t.pageX<e.left||t.pageX>e.left+a.outerWidth(!0))&&(a.css("pointer-events",""),s.controls.css("pointer-events",""),d=!1)}})}else a.on("mouseover",function(){null!==l&&(clearTimeout(l),delete l);var t=a.offset(),n=e.container.offset();r.positionFullscreenButton(t.left-n.left,t.top-n.top,!0)}).on("mouseout",function(){null!==l&&(clearTimeout(l),delete l),l=setTimeout(function(){r.hideFullscreenButton()},1500)})}e.fullscreenBtn=a,s.globalBind("keydown",function(t){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||s.isFullScreen)&&27==t.keyCode&&e.exitFullScreen()})}},cleanfullscreen:function(t){t.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var e=this;if("native"===e.media.pluginType||!mejs.MediaFeatures.isFirefox&&!e.options.usePluginFullScreen){if(t(document.documentElement).addClass("mejs-fullscreen"),normalHeight=e.container.height(),normalWidth=e.container.width(),"native"===e.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(e.container[0]),e.isInIframe&&setTimeout(function i(){if(e.isNativeFullScreen){var n=window.devicePixelRatio||1,r=.002,o=n*t(window).width(),s=screen.width,a=Math.abs(s-o),l=s*r;a>l?e.exitFullScreen():setTimeout(i,500)}},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return void e.media.webkitEnterFullscreen();if(e.isInIframe){var n=e.options.newWindowCallback(this);if(""!==n){if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return e.pause(),void window.open(n,e.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");setTimeout(function(){e.isNativeFullScreen||(e.pause(),window.open(n,e.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}e.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),e.containerSizeTimeout=setTimeout(function(){e.container.css({width:"100%",height:"100%"}),e.setControlsSize()},500),"native"===e.media.pluginType?e.$media.width("100%").height("100%"):(e.container.find(".mejs-shim").width("100%").height("100%"),e.media.setVideoSize(t(window).width(),t(window).height())),e.layers.children("div").width("100%").height("100%"),e.fullscreenBtn&&e.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),e.setControlsSize(),e.isFullScreen=!0,e.container.find(".mejs-captions-text").css("font-size",screen.width/e.width*1*100+"%"),e.container.find(".mejs-captions-position").css("bottom","45px")}},exitFullScreen:function(){var e=this;return clearTimeout(e.containerSizeTimeout),"native"!==e.media.pluginType&&mejs.MediaFeatures.isFirefox?void e.media.setFullscreen(!1):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||e.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),t(document.documentElement).removeClass("mejs-fullscreen"),e.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===e.media.pluginType?e.$media.width(normalWidth).height(normalHeight):(e.container.find(".mejs-shim").width(normalWidth).height(normalHeight),e.media.setVideoSize(normalWidth,normalHeight)),e.layers.children("div").width(normalWidth).height(normalHeight),e.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),e.setControlsSize(),e.isFullScreen=!1,e.container.find(".mejs-captions-text").css("font-size",""),void e.container.find(".mejs-captions-position").css("bottom",""))}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{speeds:["1.50","1.25","1.00","0.75"],defaultSpeed:"1.00"}),t.extend(MediaElementPlayer.prototype,{buildspeed:function(e,n,i,r){var o=this;if("native"==o.media.pluginType){var s,a,l='<div class="mejs-button mejs-speed-button"><button type="button">'+o.options.defaultSpeed+'x</button><div class="mejs-speed-selector"><ul>';
for(-1===t.inArray(o.options.defaultSpeed,o.options.speeds)&&o.options.speeds.push(o.options.defaultSpeed),o.options.speeds.sort(function(t,e){return parseFloat(e)-parseFloat(t)}),s=0;s<o.options.speeds.length;s++)l+='<li><input type="radio" name="speed" value="'+o.options.speeds[s]+'" id="'+o.options.speeds[s]+'" ',o.options.speeds[s]==o.options.defaultSpeed?(l+="checked=true ",l+='/><label for="'+o.options.speeds[s]+'" class="mejs-speed-selected">'+o.options.speeds[s]+"x</label></li>"):l+='/><label for="'+o.options.speeds[s]+'">'+o.options.speeds[s]+"x</label></li>";l+="</ul></div></div>",e.speedButton=t(l).appendTo(n),e.playbackspeed=o.options.defaultSpeed,e.speedButton.on("click","input[type=radio]",function(){e.playbackspeed=t(this).attr("value"),r.playbackRate=parseFloat(e.playbackspeed),e.speedButton.find("button").text(e.playbackspeed+"x"),e.speedButton.find(".mejs-speed-selected").removeClass("mejs-speed-selected"),e.speedButton.find("input[type=radio]:checked").next().addClass("mejs-speed-selected")}),a=e.speedButton.find(".mejs-speed-selector"),a.height(this.speedButton.find(".mejs-speed-selector ul").outerHeight(!0)+e.speedButton.find(".mejs-speed-translations").outerHeight(!0)),a.css("top",-1*a.height()+"px")}}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),t.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(e,n,i,r){if(0!==e.tracks.length){var o,s=this;if(s.domNode.textTracks)for(o=s.domNode.textTracks.length-1;o>=0;o--)s.domNode.textTracks[o].mode="hidden";e.chapters=t('<div class="mejs-chapters mejs-layer"></div>').prependTo(i).hide(),e.captions=t('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(i).hide(),e.captionsText=e.captions.find(".mejs-captions-text"),e.captionsButton=t('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.tracksText+'" aria-label="'+s.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+e.id+'_captions" id="'+e.id+'_captions_none" value="none" checked="checked" /><label for="'+e.id+'_captions_none">'+mejs.i18n.t("None")+"</label></li></ul></div></div>").appendTo(n);var a=0;for(o=0;o<e.tracks.length;o++)"subtitles"==e.tracks[o].kind&&a++;for(s.options.toggleCaptionsButtonWhenOnlyOne&&1==a?e.captionsButton.on("click",function(){lang=null===e.selectedTrack?e.tracks[0].srclang:"none",e.setTrack(lang)}):(e.captionsButton.on("mouseenter focusin",function(){t(this).find(".mejs-captions-selector").css("visibility","visible")}).on("click","input[type=radio]",function(){lang=this.value,e.setTrack(lang)}),e.captionsButton.on("mouseleave focusout",function(){t(this).find(".mejs-captions-selector").css("visibility","hidden")})),e.options.alwaysShowControls?e.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):e.container.bind("controlsshown",function(){e.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){r.paused||e.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),e.trackToLoad=-1,e.selectedTrack=null,e.isLoadingTrack=!1,o=0;o<e.tracks.length;o++)"subtitles"==e.tracks[o].kind&&e.addTrackButton(e.tracks[o].srclang,e.tracks[o].label);e.loadNextTrack(),r.addEventListener("timeupdate",function(){e.displayCaptions()},!1),""!==e.options.slidesSelector&&(e.slidesContainer=t(e.options.slidesSelector),r.addEventListener("timeupdate",function(){e.displaySlides()},!1)),r.addEventListener("loadedmetadata",function(){e.displayChapters()},!1),e.container.hover(function(){e.hasChapters&&(e.chapters.css("visibility","visible"),e.chapters.fadeIn(200).height(e.chapters.find(".mejs-chapter").outerHeight()))},function(){e.hasChapters&&!r.paused&&e.chapters.fadeOut(200,function(){t(this).css("visibility","hidden"),t(this).css("display","block")})}),null!==e.node.getAttribute("autoplay")&&e.chapters.css("visibility","hidden")}},setTrack:function(t){var e,n=this;if("none"==t)n.selectedTrack=null,n.captionsButton.removeClass("mejs-captions-enabled");else for(e=0;e<n.tracks.length;e++)if(n.tracks[e].srclang==t){null===n.selectedTrack&&n.captionsButton.addClass("mejs-captions-enabled"),n.selectedTrack=n.tracks[e],n.captions.attr("lang",n.selectedTrack.srclang),n.displayCaptions();break}},loadNextTrack:function(){var t=this;t.trackToLoad++,t.trackToLoad<t.tracks.length?(t.isLoadingTrack=!0,t.loadTrack(t.trackToLoad)):(t.isLoadingTrack=!1,t.checkForTracks())},loadTrack:function(e){var n=this,i=n.tracks[e],r=function(){i.isLoaded=!0,n.enableTrackButton(i.srclang,i.label),n.loadNextTrack()};t.ajax({url:i.src,dataType:"text",success:function(t){i.entries="string"==typeof t&&/<tt\s+xml/gi.exec(t)?mejs.TrackFormatParser.dfxp.parse(t):mejs.TrackFormatParser.webvtt.parse(t),r(),"chapters"==i.kind&&n.media.addEventListener("play",function(){n.media.duration>0&&n.displayChapters(i)},!1),"slides"==i.kind&&n.setupSlides(i)},error:function(){n.loadNextTrack()}})},enableTrackButton:function(e,n){var i=this;""===n&&(n=mejs.language.codes[e]||e),i.captionsButton.find("input[value="+e+"]").prop("disabled",!1).siblings("label").html(n),i.options.startLanguage==e&&t("#"+i.id+"_captions_"+e).prop("checked",!0).trigger("click"),i.adjustLanguageBox()},addTrackButton:function(e,n){var i=this;""===n&&(n=mejs.language.codes[e]||e),i.captionsButton.find("ul").append(t('<li><input type="radio" name="'+i.id+'_captions" id="'+i.id+"_captions_"+e+'" value="'+e+'" disabled="disabled" /><label for="'+i.id+"_captions_"+e+'">'+n+" (loading)</label></li>")),i.adjustLanguageBox(),i.container.find(".mejs-captions-translations option[value="+e+"]").remove()},adjustLanguageBox:function(){var t=this;t.captionsButton.find(".mejs-captions-selector").height(t.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+t.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var t=this,e=!1;if(t.options.hideCaptionsButtonWhenEmpty){for(i=0;i<t.tracks.length;i++)if("subtitles"==t.tracks[i].kind){e=!0;break}e||(t.captionsButton.hide(),t.setControlsSize())}},displayCaptions:function(){if("undefined"!=typeof this.tracks){var t,e=this,n=e.selectedTrack;if(null!==n&&n.isLoaded){for(t=0;t<n.entries.times.length;t++)if(e.media.currentTime>=n.entries.times[t].start&&e.media.currentTime<=n.entries.times[t].stop)return e.captionsText.html(n.entries.text[t]).attr("class","mejs-captions-text "+(n.entries.times[t].identifier||"")),void e.captions.show().height(0);e.captions.hide()}else e.captions.hide()}},setupSlides:function(t){var e=this;e.slides=t,e.slides.entries.imgs=[e.slides.entries.text.length],e.showSlide(0)},showSlide:function(e){if("undefined"!=typeof this.tracks&&"undefined"!=typeof this.slidesContainer){var n=this,i=n.slides.entries.text[e],r=n.slides.entries.imgs[e];"undefined"==typeof r||"undefined"==typeof r.fadeIn?n.slides.entries.imgs[e]=r=t('<img src="'+i+'">').on("load",function(){r.appendTo(n.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):r.is(":visible")||r.is(":animated")||r.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if("undefined"!=typeof this.slides){var t,e=this,n=e.slides;for(t=0;t<n.entries.times.length;t++)if(e.media.currentTime>=n.entries.times[t].start&&e.media.currentTime<=n.entries.times[t].stop)return void e.showSlide(t)}},displayChapters:function(){var t,e=this;for(t=0;t<e.tracks.length;t++)if("chapters"==e.tracks[t].kind&&e.tracks[t].isLoaded){e.drawChapters(e.tracks[t]),e.hasChapters=!0;break}},drawChapters:function(e){var n,i,r=this,o=0,s=0;for(r.chapters.empty(),n=0;n<e.entries.times.length;n++)i=e.entries.times[n].stop-e.entries.times[n].start,o=Math.floor(i/r.media.duration*100),(o+s>100||n==e.entries.times.length-1&&100>o+s)&&(o=100-s),r.chapters.append(t('<div class="mejs-chapter" rel="'+e.entries.times[n].start+'" style="left: '+s.toString()+"%;width: "+o.toString()+'%;"><div class="mejs-chapter-block'+(n==e.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+e.entries.text[n]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(e.entries.times[n].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(e.entries.times[n].stop)+"</span></div></div>")),s+=o;r.chapters.find("div.mejs-chapter").click(function(){r.media.setCurrentTime(parseFloat(t(this).attr("rel"))),r.media.paused&&r.media.play()}),r.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",fl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvtt:{pattern_timecode:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(e){for(var n,i,r,o=0,s=mejs.TrackFormatParser.split2(e,/\r?\n/),a={text:[],times:[]};o<s.length;o++){if(n=this.pattern_timecode.exec(s[o]),n&&o<s.length){for(o-1>=0&&""!==s[o-1]&&(r=s[o-1]),o++,i=s[o],o++;""!==s[o]&&o<s.length;)i=i+"\n"+s[o],o++;i=t.trim(i).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),a.text.push(i),a.times.push({identifier:r,start:0===mejs.Utility.convertSMPTEtoSeconds(n[1])?.2:mejs.Utility.convertSMPTEtoSeconds(n[1]),stop:mejs.Utility.convertSMPTEtoSeconds(n[3]),settings:n[5]})}r=""}return a}},dfxp:{parse:function(e){e=t(e).filter("tt");var n,i,r=0,o=e.children("div").eq(0),s=o.find("p"),a=e.find("#"+o.attr("style")),l={text:[],times:[]};if(a.length){var c=a.removeAttr("id").get(0).attributes;if(c.length)for(n={},r=0;r<c.length;r++)n[c[r].name.split(":")[1]]=c[r].value}for(r=0;r<s.length;r++){var u,h={start:null,stop:null,style:null};if(s.eq(r).attr("begin")&&(h.start=mejs.Utility.convertSMPTEtoSeconds(s.eq(r).attr("begin"))),!h.start&&s.eq(r-1).attr("end")&&(h.start=mejs.Utility.convertSMPTEtoSeconds(s.eq(r-1).attr("end"))),s.eq(r).attr("end")&&(h.stop=mejs.Utility.convertSMPTEtoSeconds(s.eq(r).attr("end"))),!h.stop&&s.eq(r+1).attr("begin")&&(h.stop=mejs.Utility.convertSMPTEtoSeconds(s.eq(r+1).attr("begin"))),n){u="";for(var d in n)u+=d+":"+n[d]+";"}u&&(h.style=u),0===h.start&&(h.start=.2),l.times.push(h),i=t.trim(s.eq(r).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),l.text.push(i),0===l.times.start&&(l.times.start=2)}return l}},split2:function(t,e){return t.split(e)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(t,e){var n,i=[],r="";for(n=0;n<t.length;n++)r+=t.substring(n,n+1),e.test(r)&&(i.push(r.replace(e,"")),r="");return i.push(r),i})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(t){return"undefined"==typeof t.enterFullScreen?null:mejs.i18n.t(t.isFullScreen?"Turn off Fullscreen":"Go Fullscreen")},click:function(t){t.isFullScreen?t.exitFullScreen():t.enterFullScreen()}},{render:function(t){return mejs.i18n.t(t.media.muted?"Unmute":"Mute")},click:function(t){t.setMuted(t.media.muted?!1:!0)}},{isSeparator:!0},{render:function(){return mejs.i18n.t("Download Video")},click:function(t){window.location.href=t.media.currentSrc}}]}),t.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(e){e.contextMenu=t('<div class="mejs-contextmenu"></div>').appendTo(t("body")).hide(),e.container.bind("contextmenu",function(t){return e.isContextMenuEnabled?(t.preventDefault(),e.renderContextMenu(t.clientX-1,t.clientY-1),!1):void 0}),e.container.bind("click",function(){e.contextMenu.hide()}),e.contextMenu.bind("mouseleave",function(){e.startContextMenuTimer()})},cleancontextmenu:function(t){t.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var t=this;t.killContextMenuTimer(),t.contextMenuTimer=setTimeout(function(){t.hideContextMenu(),t.killContextMenuTimer()},750)},killContextMenuTimer:function(){var t=this.contextMenuTimer;null!=t&&(clearTimeout(t),delete t,t=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(e,n){for(var i=this,r="",o=i.options.contextMenuItems,s=0,a=o.length;a>s;s++)if(o[s].isSeparator)r+='<div class="mejs-contextmenu-separator"></div>';else{var l=o[s].render(i);null!=l&&(r+='<div class="mejs-contextmenu-item" data-itemindex="'+s+'" id="element-'+1e6*Math.random()+'">'+l+"</div>")}i.contextMenu.empty().append(t(r)).css({top:n,left:e}).show(),i.contextMenu.find(".mejs-contextmenu-item").each(function(){var e=t(this),n=parseInt(e.data("itemindex"),10),r=i.options.contextMenuItems[n];"undefined"!=typeof r.show&&r.show(e,i),e.click(function(){"undefined"!=typeof r.click&&r.click(i),i.contextMenu.hide()})}),setTimeout(function(){i.killControlsTimer("rev3")},100)}})}(mejs.$),function(t){t.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),t.extend(MediaElementPlayer.prototype,{buildpostroll:function(e,n,i){var r=this,o=r.container.find('link[rel="postroll"]').attr("href");"undefined"!=typeof o&&(e.postroll=t('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+r.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(i).hide(),r.media.addEventListener("ended",function(){t.ajax({dataType:"html",url:o,success:function(t){i.find(".mejs-postroll-layer-content").html(t)}}),e.postroll.show()},!1))}})}(mejs.$);